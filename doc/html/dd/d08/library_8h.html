<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.4"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>libwsv5: library.h File Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">libwsv5<span id="projectnumber">&#160;1.0.0</span>
   </div>
   <div id="projectbrief">A simple C library for OBS WebSocket v5 protocol communication with async request/response handling</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.4 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "../../search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('dd/d08/library_8h.html','../../'); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">library.h File Reference</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;stddef.h&gt;</code><br />
<code>#include &lt;stdbool.h&gt;</code><br />
<code>#include &lt;stdint.h&gt;</code><br />
<code>#include &lt;time.h&gt;</code><br />
</div><div class="textblock"><div id="dynsection-0" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="../../closed.png" alt="+"/> Include dependency graph for library.h:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../df/d8b/library_8h__incl.svg" width="376" height="112"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
</div><div class="textblock"><div id="dynsection-1" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-1-trigger" src="../../closed.png" alt="+"/> This graph shows which files directly or indirectly include this file:</div>
<div id="dynsection-1-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-1-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../db/d97/library_8h__dep__incl.svg" width="86" height="112"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
</div>
<p><a href="../../dd/d08/library_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/de7/structobsws__config__t.html">obsws_config_t</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Connection configuration structure.  <a href="../../dc/de7/structobsws__config__t.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d5c/structobsws__stats__t.html">obsws_stats_t</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Connection statistics - useful for monitoring and debugging connection health.  <a href="../../d6/d5c/structobsws__stats__t.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d1f/structobsws__response__t.html">obsws_response_t</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Response structure for requests to OBS.  <a href="../../d2/d1f/structobsws__response__t.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="define-members" name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a3024ccd4a9af5109d24e6c57565d74a1"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d08/library_8h.html#a3024ccd4a9af5109d24e6c57565d74a1">_POSIX_C_SOURCE</a>&#160;&#160;&#160;200809L</td></tr>
<tr class="separator:a3024ccd4a9af5109d24e6c57565d74a1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="typedef-members" name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:a81ecb6b2403c8155af2e4edb4716c141"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="../../d5/d88/structobsws__connection.html">obsws_connection</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d08/library_8h.html#a81ecb6b2403c8155af2e4edb4716c141">obsws_connection_t</a></td></tr>
<tr class="separator:a81ecb6b2403c8155af2e4edb4716c141"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1cd53dbb56b26952688e258c02fc7325"><td class="memItemLeft" align="right" valign="top">typedef void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d08/library_8h.html#a1cd53dbb56b26952688e258c02fc7325">obsws_log_callback_t</a>) (<a class="el" href="../../dd/d08/library_8h.html#afbee3b6b991e705309ea19fd5fb0bff9">obsws_log_level_t</a> level, const char *message, void *user_data)</td></tr>
<tr class="memdesc:a1cd53dbb56b26952688e258c02fc7325"><td class="mdescLeft">&#160;</td><td class="mdescRight">Log callback function type - called when the library generates log messages.  <a href="../../dd/d08/library_8h.html#a1cd53dbb56b26952688e258c02fc7325">More...</a><br /></td></tr>
<tr class="separator:a1cd53dbb56b26952688e258c02fc7325"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5e76bfe94664a2648ae9c1fcfeb83a08"><td class="memItemLeft" align="right" valign="top">typedef void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d08/library_8h.html#a5e76bfe94664a2648ae9c1fcfeb83a08">obsws_event_callback_t</a>) (<a class="el" href="../../dd/d08/library_8h.html#a81ecb6b2403c8155af2e4edb4716c141">obsws_connection_t</a> *conn, const char *event_type, const char *event_data, void *user_data)</td></tr>
<tr class="separator:a5e76bfe94664a2648ae9c1fcfeb83a08"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad3b0a6981e0c04dbf4de858972894a3d"><td class="memItemLeft" align="right" valign="top">typedef void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d08/library_8h.html#ad3b0a6981e0c04dbf4de858972894a3d">obsws_state_callback_t</a>) (<a class="el" href="../../dd/d08/library_8h.html#a81ecb6b2403c8155af2e4edb4716c141">obsws_connection_t</a> *conn, <a class="el" href="../../dd/d08/library_8h.html#a2fb4e7d7196f39a5ce0e9c71b2d78991">obsws_state_t</a> old_state, <a class="el" href="../../dd/d08/library_8h.html#a2fb4e7d7196f39a5ce0e9c71b2d78991">obsws_state_t</a> new_state, void *user_data)</td></tr>
<tr class="memdesc:ad3b0a6981e0c04dbf4de858972894a3d"><td class="mdescLeft">&#160;</td><td class="mdescRight">State callback function type - called when connection state changes.  <a href="../../dd/d08/library_8h.html#ad3b0a6981e0c04dbf4de858972894a3d">More...</a><br /></td></tr>
<tr class="separator:ad3b0a6981e0c04dbf4de858972894a3d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="enum-members" name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:a4820ea98988736a81d6695a51f74acd6"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d08/library_8h.html#a4820ea98988736a81d6695a51f74acd6">obsws_error_t</a> { <br />
&#160;&#160;<a class="el" href="../../dd/d08/library_8h.html#a4820ea98988736a81d6695a51f74acd6aa43b9a59f39db094a477cb25a638e5a1">OBSWS_OK</a> = 0
, <a class="el" href="../../dd/d08/library_8h.html#a4820ea98988736a81d6695a51f74acd6a8944fe1379e71d22a82399c21107ebf6">OBSWS_ERROR_INVALID_PARAM</a> = -1
, <a class="el" href="../../dd/d08/library_8h.html#a4820ea98988736a81d6695a51f74acd6aa99054291b32e3476d521ea9efeb83a2">OBSWS_ERROR_CONNECTION_FAILED</a> = -2
, <a class="el" href="../../dd/d08/library_8h.html#a4820ea98988736a81d6695a51f74acd6abab3c6691cc119a7b875d967f0fc565f">OBSWS_ERROR_SEND_FAILED</a> = -5
, <br />
&#160;&#160;<a class="el" href="../../dd/d08/library_8h.html#a4820ea98988736a81d6695a51f74acd6a312613cd84331a653e2c1de24b94c52b">OBSWS_ERROR_RECV_FAILED</a> = -6
, <a class="el" href="../../dd/d08/library_8h.html#a4820ea98988736a81d6695a51f74acd6aea7cb95255efa1d01e6761d676ab599c">OBSWS_ERROR_SSL_FAILED</a> = -11
, <a class="el" href="../../dd/d08/library_8h.html#a4820ea98988736a81d6695a51f74acd6a3132520f4e5efcd0e07668b4afcd5c4c">OBSWS_ERROR_AUTH_FAILED</a> = -3
, <a class="el" href="../../dd/d08/library_8h.html#a4820ea98988736a81d6695a51f74acd6a72ca999664bea413857d7901acf2d598">OBSWS_ERROR_PARSE_FAILED</a> = -7
, <br />
&#160;&#160;<a class="el" href="../../dd/d08/library_8h.html#a4820ea98988736a81d6695a51f74acd6ace2eb9908cf7d65109788a2593582982">OBSWS_ERROR_NOT_CONNECTED</a> = -8
, <a class="el" href="../../dd/d08/library_8h.html#a4820ea98988736a81d6695a51f74acd6a6b4348384a97af637d6361e38a5de052">OBSWS_ERROR_ALREADY_CONNECTED</a> = -9
, <a class="el" href="../../dd/d08/library_8h.html#a4820ea98988736a81d6695a51f74acd6a852a5a13d07531a60aedc6e3cc1ae86d">OBSWS_ERROR_TIMEOUT</a> = -4
, <a class="el" href="../../dd/d08/library_8h.html#a4820ea98988736a81d6695a51f74acd6a976f03f9cfc1de7d7172732454829e15">OBSWS_ERROR_OUT_OF_MEMORY</a> = -10
, <br />
&#160;&#160;<a class="el" href="../../dd/d08/library_8h.html#a4820ea98988736a81d6695a51f74acd6a8988f38a0e1e83701ffc075686bb3395">OBSWS_ERROR_UNKNOWN</a> = -99
<br />
 }</td></tr>
<tr class="memdesc:a4820ea98988736a81d6695a51f74acd6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Error codes returned by library functions.  <a href="../../dd/d08/library_8h.html#a4820ea98988736a81d6695a51f74acd6">More...</a><br /></td></tr>
<tr class="separator:a4820ea98988736a81d6695a51f74acd6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2fb4e7d7196f39a5ce0e9c71b2d78991"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d08/library_8h.html#a2fb4e7d7196f39a5ce0e9c71b2d78991">obsws_state_t</a> { <br />
&#160;&#160;<a class="el" href="../../dd/d08/library_8h.html#a2fb4e7d7196f39a5ce0e9c71b2d78991af973d2b8b0a498d0bbffb40ccab1ef2d">OBSWS_STATE_DISCONNECTED</a> = 0
, <a class="el" href="../../dd/d08/library_8h.html#a2fb4e7d7196f39a5ce0e9c71b2d78991a88276a1a9f595735a2b242f0eab1524a">OBSWS_STATE_CONNECTING</a> = 1
, <a class="el" href="../../dd/d08/library_8h.html#a2fb4e7d7196f39a5ce0e9c71b2d78991ac9c5d9c3aab50d7e6d1d38b1bb7d6d0f">OBSWS_STATE_AUTHENTICATING</a> = 2
, <a class="el" href="../../dd/d08/library_8h.html#a2fb4e7d7196f39a5ce0e9c71b2d78991adbaae08035175b470fb9f543414672b8">OBSWS_STATE_CONNECTED</a> = 3
, <br />
&#160;&#160;<a class="el" href="../../dd/d08/library_8h.html#a2fb4e7d7196f39a5ce0e9c71b2d78991ae13bce21841139a7510b1c8b10a694ac">OBSWS_STATE_ERROR</a> = 4
<br />
 }</td></tr>
<tr class="memdesc:a2fb4e7d7196f39a5ce0e9c71b2d78991"><td class="mdescLeft">&#160;</td><td class="mdescRight">Connection state - represents the current phase of the connection lifecycle.  <a href="../../dd/d08/library_8h.html#a2fb4e7d7196f39a5ce0e9c71b2d78991">More...</a><br /></td></tr>
<tr class="separator:a2fb4e7d7196f39a5ce0e9c71b2d78991"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afbee3b6b991e705309ea19fd5fb0bff9"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d08/library_8h.html#afbee3b6b991e705309ea19fd5fb0bff9">obsws_log_level_t</a> { <br />
&#160;&#160;<a class="el" href="../../dd/d08/library_8h.html#afbee3b6b991e705309ea19fd5fb0bff9a565d702d35e780d080b14dd8f1c8e299">OBSWS_LOG_NONE</a> = 0
, <a class="el" href="../../dd/d08/library_8h.html#afbee3b6b991e705309ea19fd5fb0bff9a6a2a374e4af0446011df30bfd09e329e">OBSWS_LOG_ERROR</a> = 1
, <a class="el" href="../../dd/d08/library_8h.html#afbee3b6b991e705309ea19fd5fb0bff9a7db7d387859c4786d8eb303e5bbafef7">OBSWS_LOG_WARNING</a> = 2
, <a class="el" href="../../dd/d08/library_8h.html#afbee3b6b991e705309ea19fd5fb0bff9ae48017bf78390a3df8cd87a24782c421">OBSWS_LOG_INFO</a> = 3
, <br />
&#160;&#160;<a class="el" href="../../dd/d08/library_8h.html#afbee3b6b991e705309ea19fd5fb0bff9aa69cfac4b3acbd5968bfab9ef5759cd2">OBSWS_LOG_DEBUG</a> = 4
<br />
 }</td></tr>
<tr class="memdesc:afbee3b6b991e705309ea19fd5fb0bff9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Log levels for filtering library output.  <a href="../../dd/d08/library_8h.html#afbee3b6b991e705309ea19fd5fb0bff9">More...</a><br /></td></tr>
<tr class="separator:afbee3b6b991e705309ea19fd5fb0bff9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1997a985daa6bfb4117e885d9bb81668"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d08/library_8h.html#a1997a985daa6bfb4117e885d9bb81668">obsws_debug_level_t</a> { <a class="el" href="../../dd/d08/library_8h.html#a1997a985daa6bfb4117e885d9bb81668a0f96dd454f8efb9a755ebda2e81919aa">OBSWS_DEBUG_NONE</a> = 0
, <a class="el" href="../../dd/d08/library_8h.html#a1997a985daa6bfb4117e885d9bb81668a50fd66057e634b5bd51441ba3fdeaf50">OBSWS_DEBUG_LOW</a> = 1
, <a class="el" href="../../dd/d08/library_8h.html#a1997a985daa6bfb4117e885d9bb81668aa6c8d9d070b4d69beeadf605bc03eee1">OBSWS_DEBUG_MEDIUM</a> = 2
, <a class="el" href="../../dd/d08/library_8h.html#a1997a985daa6bfb4117e885d9bb81668aceb0431d743cdecf0848564f388d51bd">OBSWS_DEBUG_HIGH</a> = 3
 }</td></tr>
<tr class="memdesc:a1997a985daa6bfb4117e885d9bb81668"><td class="mdescLeft">&#160;</td><td class="mdescRight">Debug levels - fine-grained control for troubleshooting connection issues.  <a href="../../dd/d08/library_8h.html#a1997a985daa6bfb4117e885d9bb81668">More...</a><br /></td></tr>
<tr class="separator:a1997a985daa6bfb4117e885d9bb81668"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:aff3d6c035330741df84552800c0d0124"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../dd/d08/library_8h.html#a4820ea98988736a81d6695a51f74acd6">obsws_error_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d08/library_8h.html#aff3d6c035330741df84552800c0d0124">obsws_init</a> (void)</td></tr>
<tr class="memdesc:aff3d6c035330741df84552800c0d0124"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize the OBS WebSocket library.  <a href="../../dd/d08/library_8h.html#aff3d6c035330741df84552800c0d0124">More...</a><br /></td></tr>
<tr class="separator:aff3d6c035330741df84552800c0d0124"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad3afe1c77e8b8f26a8281186379790a1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d08/library_8h.html#ad3afe1c77e8b8f26a8281186379790a1">obsws_cleanup</a> (void)</td></tr>
<tr class="memdesc:ad3afe1c77e8b8f26a8281186379790a1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Cleanup the OBS WebSocket library.  <a href="../../dd/d08/library_8h.html#ad3afe1c77e8b8f26a8281186379790a1">More...</a><br /></td></tr>
<tr class="separator:ad3afe1c77e8b8f26a8281186379790a1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af3afc203f99395c187faf3fba0477bf9"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d08/library_8h.html#af3afc203f99395c187faf3fba0477bf9">obsws_version</a> (void)</td></tr>
<tr class="memdesc:af3afc203f99395c187faf3fba0477bf9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the library version string.  <a href="../../dd/d08/library_8h.html#af3afc203f99395c187faf3fba0477bf9">More...</a><br /></td></tr>
<tr class="separator:af3afc203f99395c187faf3fba0477bf9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6720460e577d2afe3c0691a2d6e055e9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d08/library_8h.html#a6720460e577d2afe3c0691a2d6e055e9">obsws_set_log_level</a> (<a class="el" href="../../dd/d08/library_8h.html#afbee3b6b991e705309ea19fd5fb0bff9">obsws_log_level_t</a> level)</td></tr>
<tr class="memdesc:a6720460e577d2afe3c0691a2d6e055e9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the global log level for the library.  <a href="../../dd/d08/library_8h.html#a6720460e577d2afe3c0691a2d6e055e9">More...</a><br /></td></tr>
<tr class="separator:a6720460e577d2afe3c0691a2d6e055e9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adde8bcb270d34f560ae99047e0524a1d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d08/library_8h.html#adde8bcb270d34f560ae99047e0524a1d">obsws_set_debug_level</a> (<a class="el" href="../../dd/d08/library_8h.html#a1997a985daa6bfb4117e885d9bb81668">obsws_debug_level_t</a> level)</td></tr>
<tr class="memdesc:adde8bcb270d34f560ae99047e0524a1d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the global debug level for the library.  <a href="../../dd/d08/library_8h.html#adde8bcb270d34f560ae99047e0524a1d">More...</a><br /></td></tr>
<tr class="separator:adde8bcb270d34f560ae99047e0524a1d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a17d68299d8070c22f5cb04e2c4af28a1"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../dd/d08/library_8h.html#a1997a985daa6bfb4117e885d9bb81668">obsws_debug_level_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d08/library_8h.html#a17d68299d8070c22f5cb04e2c4af28a1">obsws_get_debug_level</a> (void)</td></tr>
<tr class="memdesc:a17d68299d8070c22f5cb04e2c4af28a1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the current global debug level.  <a href="../../dd/d08/library_8h.html#a17d68299d8070c22f5cb04e2c4af28a1">More...</a><br /></td></tr>
<tr class="separator:a17d68299d8070c22f5cb04e2c4af28a1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1f1c69172bbf706ac225b718797d30c6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d08/library_8h.html#a1f1c69172bbf706ac225b718797d30c6">obsws_config_init</a> (<a class="el" href="../../dc/de7/structobsws__config__t.html">obsws_config_t</a> *config)</td></tr>
<tr class="memdesc:a1f1c69172bbf706ac225b718797d30c6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a default configuration structure with reasonable defaults.  <a href="../../dd/d08/library_8h.html#a1f1c69172bbf706ac225b718797d30c6">More...</a><br /></td></tr>
<tr class="separator:a1f1c69172bbf706ac225b718797d30c6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7ed7225961f0989acb31ebbd9c099626"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../dd/d08/library_8h.html#a81ecb6b2403c8155af2e4edb4716c141">obsws_connection_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d08/library_8h.html#a7ed7225961f0989acb31ebbd9c099626">obsws_connect</a> (const <a class="el" href="../../dc/de7/structobsws__config__t.html">obsws_config_t</a> *config)</td></tr>
<tr class="memdesc:a7ed7225961f0989acb31ebbd9c099626"><td class="mdescLeft">&#160;</td><td class="mdescRight">Establish a connection to OBS.  <a href="../../dd/d08/library_8h.html#a7ed7225961f0989acb31ebbd9c099626">More...</a><br /></td></tr>
<tr class="separator:a7ed7225961f0989acb31ebbd9c099626"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa8389ba6731e01a9426bd921180b7195"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d08/library_8h.html#aa8389ba6731e01a9426bd921180b7195">obsws_disconnect</a> (<a class="el" href="../../dd/d08/library_8h.html#a81ecb6b2403c8155af2e4edb4716c141">obsws_connection_t</a> *conn)</td></tr>
<tr class="memdesc:aa8389ba6731e01a9426bd921180b7195"><td class="mdescLeft">&#160;</td><td class="mdescRight">Disconnect and destroy a connection.  <a href="../../dd/d08/library_8h.html#aa8389ba6731e01a9426bd921180b7195">More...</a><br /></td></tr>
<tr class="separator:aa8389ba6731e01a9426bd921180b7195"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad9894e72ee8510f4eaf7d42feaf0cf9a"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d08/library_8h.html#ad9894e72ee8510f4eaf7d42feaf0cf9a">obsws_is_connected</a> (const <a class="el" href="../../dd/d08/library_8h.html#a81ecb6b2403c8155af2e4edb4716c141">obsws_connection_t</a> *conn)</td></tr>
<tr class="memdesc:ad9894e72ee8510f4eaf7d42feaf0cf9a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if connection is currently authenticated and ready to use.  <a href="../../dd/d08/library_8h.html#ad9894e72ee8510f4eaf7d42feaf0cf9a">More...</a><br /></td></tr>
<tr class="separator:ad9894e72ee8510f4eaf7d42feaf0cf9a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a61a10e31041532a9da0c1c1993f84a79"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../dd/d08/library_8h.html#a2fb4e7d7196f39a5ce0e9c71b2d78991">obsws_state_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d08/library_8h.html#a61a10e31041532a9da0c1c1993f84a79">obsws_get_state</a> (const <a class="el" href="../../dd/d08/library_8h.html#a81ecb6b2403c8155af2e4edb4716c141">obsws_connection_t</a> *conn)</td></tr>
<tr class="memdesc:a61a10e31041532a9da0c1c1993f84a79"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the detailed current connection state.  <a href="../../dd/d08/library_8h.html#a61a10e31041532a9da0c1c1993f84a79">More...</a><br /></td></tr>
<tr class="separator:a61a10e31041532a9da0c1c1993f84a79"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5cce41cb6c70229eaab8b1b3afba57a9"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../dd/d08/library_8h.html#a4820ea98988736a81d6695a51f74acd6">obsws_error_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d08/library_8h.html#a5cce41cb6c70229eaab8b1b3afba57a9">obsws_get_stats</a> (const <a class="el" href="../../dd/d08/library_8h.html#a81ecb6b2403c8155af2e4edb4716c141">obsws_connection_t</a> *conn, <a class="el" href="../../d6/d5c/structobsws__stats__t.html">obsws_stats_t</a> *stats)</td></tr>
<tr class="memdesc:a5cce41cb6c70229eaab8b1b3afba57a9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get connection statistics and performance metrics.  <a href="../../dd/d08/library_8h.html#a5cce41cb6c70229eaab8b1b3afba57a9">More...</a><br /></td></tr>
<tr class="separator:a5cce41cb6c70229eaab8b1b3afba57a9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aab2a1b2b1c4a2a19609abfdb4b42f733"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../dd/d08/library_8h.html#a4820ea98988736a81d6695a51f74acd6">obsws_error_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d08/library_8h.html#aab2a1b2b1c4a2a19609abfdb4b42f733">obsws_reconnect</a> (<a class="el" href="../../dd/d08/library_8h.html#a81ecb6b2403c8155af2e4edb4716c141">obsws_connection_t</a> *conn)</td></tr>
<tr class="memdesc:aab2a1b2b1c4a2a19609abfdb4b42f733"><td class="mdescLeft">&#160;</td><td class="mdescRight">Manually trigger a reconnection attempt.  <a href="../../dd/d08/library_8h.html#aab2a1b2b1c4a2a19609abfdb4b42f733">More...</a><br /></td></tr>
<tr class="separator:aab2a1b2b1c4a2a19609abfdb4b42f733"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa9d2065acacec30d240d753e422f2de3"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d08/library_8h.html#aa9d2065acacec30d240d753e422f2de3">obsws_ping</a> (<a class="el" href="../../dd/d08/library_8h.html#a81ecb6b2403c8155af2e4edb4716c141">obsws_connection_t</a> *conn, uint32_t timeout_ms)</td></tr>
<tr class="memdesc:aa9d2065acacec30d240d753e422f2de3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send a ping and measure round-trip time to check connection health.  <a href="../../dd/d08/library_8h.html#aa9d2065acacec30d240d753e422f2de3">More...</a><br /></td></tr>
<tr class="separator:aa9d2065acacec30d240d753e422f2de3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7cb91bbce42b458f267f79b9a7b293bf"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../dd/d08/library_8h.html#a4820ea98988736a81d6695a51f74acd6">obsws_error_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d08/library_8h.html#a7cb91bbce42b458f267f79b9a7b293bf">obsws_set_current_scene</a> (<a class="el" href="../../dd/d08/library_8h.html#a81ecb6b2403c8155af2e4edb4716c141">obsws_connection_t</a> *conn, const char *scene_name, <a class="el" href="../../d2/d1f/structobsws__response__t.html">obsws_response_t</a> **response)</td></tr>
<tr class="memdesc:a7cb91bbce42b458f267f79b9a7b293bf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Switch OBS to a specific scene.  <a href="../../dd/d08/library_8h.html#a7cb91bbce42b458f267f79b9a7b293bf">More...</a><br /></td></tr>
<tr class="separator:a7cb91bbce42b458f267f79b9a7b293bf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a91bd5ceb5878431131513cb4624e935a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../dd/d08/library_8h.html#a4820ea98988736a81d6695a51f74acd6">obsws_error_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d08/library_8h.html#a91bd5ceb5878431131513cb4624e935a">obsws_get_current_scene</a> (<a class="el" href="../../dd/d08/library_8h.html#a81ecb6b2403c8155af2e4edb4716c141">obsws_connection_t</a> *conn, char *scene_name, size_t buffer_size)</td></tr>
<tr class="memdesc:a91bd5ceb5878431131513cb4624e935a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Query the currently active scene in OBS.  <a href="../../dd/d08/library_8h.html#a91bd5ceb5878431131513cb4624e935a">More...</a><br /></td></tr>
<tr class="separator:a91bd5ceb5878431131513cb4624e935a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a07a41289dbce951ffead9d15b467d7c5"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../dd/d08/library_8h.html#a4820ea98988736a81d6695a51f74acd6">obsws_error_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d08/library_8h.html#a07a41289dbce951ffead9d15b467d7c5">obsws_get_scene_list</a> (<a class="el" href="../../dd/d08/library_8h.html#a81ecb6b2403c8155af2e4edb4716c141">obsws_connection_t</a> *conn, char ***scenes, size_t *count)</td></tr>
<tr class="separator:a07a41289dbce951ffead9d15b467d7c5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1799c10d0165cea5792868aaa45cc138"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../dd/d08/library_8h.html#a4820ea98988736a81d6695a51f74acd6">obsws_error_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d08/library_8h.html#a1799c10d0165cea5792868aaa45cc138">obsws_set_scene_collection</a> (<a class="el" href="../../dd/d08/library_8h.html#a81ecb6b2403c8155af2e4edb4716c141">obsws_connection_t</a> *conn, const char *collection_name, <a class="el" href="../../d2/d1f/structobsws__response__t.html">obsws_response_t</a> **response)</td></tr>
<tr class="memdesc:a1799c10d0165cea5792868aaa45cc138"><td class="mdescLeft">&#160;</td><td class="mdescRight">Switch to a different scene collection.  <a href="../../dd/d08/library_8h.html#a1799c10d0165cea5792868aaa45cc138">More...</a><br /></td></tr>
<tr class="separator:a1799c10d0165cea5792868aaa45cc138"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8643e2027afb1907122ce4d3bfe65c6e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../dd/d08/library_8h.html#a4820ea98988736a81d6695a51f74acd6">obsws_error_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d08/library_8h.html#a8643e2027afb1907122ce4d3bfe65c6e">obsws_start_recording</a> (<a class="el" href="../../dd/d08/library_8h.html#a81ecb6b2403c8155af2e4edb4716c141">obsws_connection_t</a> *conn, <a class="el" href="../../d2/d1f/structobsws__response__t.html">obsws_response_t</a> **response)</td></tr>
<tr class="memdesc:a8643e2027afb1907122ce4d3bfe65c6e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Start recording in OBS.  <a href="../../dd/d08/library_8h.html#a8643e2027afb1907122ce4d3bfe65c6e">More...</a><br /></td></tr>
<tr class="separator:a8643e2027afb1907122ce4d3bfe65c6e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a30001811f4cf8501e006ca46bcb8b329"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../dd/d08/library_8h.html#a4820ea98988736a81d6695a51f74acd6">obsws_error_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d08/library_8h.html#a30001811f4cf8501e006ca46bcb8b329">obsws_stop_recording</a> (<a class="el" href="../../dd/d08/library_8h.html#a81ecb6b2403c8155af2e4edb4716c141">obsws_connection_t</a> *conn, <a class="el" href="../../d2/d1f/structobsws__response__t.html">obsws_response_t</a> **response)</td></tr>
<tr class="memdesc:a30001811f4cf8501e006ca46bcb8b329"><td class="mdescLeft">&#160;</td><td class="mdescRight">Stop recording.  <a href="../../dd/d08/library_8h.html#a30001811f4cf8501e006ca46bcb8b329">More...</a><br /></td></tr>
<tr class="separator:a30001811f4cf8501e006ca46bcb8b329"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a86a35ee2d7aef7a0569b4111bd663d22"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../dd/d08/library_8h.html#a4820ea98988736a81d6695a51f74acd6">obsws_error_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d08/library_8h.html#a86a35ee2d7aef7a0569b4111bd663d22">obsws_start_streaming</a> (<a class="el" href="../../dd/d08/library_8h.html#a81ecb6b2403c8155af2e4edb4716c141">obsws_connection_t</a> *conn, <a class="el" href="../../d2/d1f/structobsws__response__t.html">obsws_response_t</a> **response)</td></tr>
<tr class="memdesc:a86a35ee2d7aef7a0569b4111bd663d22"><td class="mdescLeft">&#160;</td><td class="mdescRight">Start streaming in OBS.  <a href="../../dd/d08/library_8h.html#a86a35ee2d7aef7a0569b4111bd663d22">More...</a><br /></td></tr>
<tr class="separator:a86a35ee2d7aef7a0569b4111bd663d22"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2cfe9b46f435aa7986b5e772b99c464e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../dd/d08/library_8h.html#a4820ea98988736a81d6695a51f74acd6">obsws_error_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d08/library_8h.html#a2cfe9b46f435aa7986b5e772b99c464e">obsws_stop_streaming</a> (<a class="el" href="../../dd/d08/library_8h.html#a81ecb6b2403c8155af2e4edb4716c141">obsws_connection_t</a> *conn, <a class="el" href="../../d2/d1f/structobsws__response__t.html">obsws_response_t</a> **response)</td></tr>
<tr class="memdesc:a2cfe9b46f435aa7986b5e772b99c464e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Stop streaming.  <a href="../../dd/d08/library_8h.html#a2cfe9b46f435aa7986b5e772b99c464e">More...</a><br /></td></tr>
<tr class="separator:a2cfe9b46f435aa7986b5e772b99c464e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae1192f8018768dc070926702f0958a61"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../dd/d08/library_8h.html#a4820ea98988736a81d6695a51f74acd6">obsws_error_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d08/library_8h.html#ae1192f8018768dc070926702f0958a61">obsws_get_streaming_status</a> (<a class="el" href="../../dd/d08/library_8h.html#a81ecb6b2403c8155af2e4edb4716c141">obsws_connection_t</a> *conn, bool *is_streaming, <a class="el" href="../../d2/d1f/structobsws__response__t.html">obsws_response_t</a> **response)</td></tr>
<tr class="separator:ae1192f8018768dc070926702f0958a61"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a845b9465a0b58952402d9ee021dbb003"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../dd/d08/library_8h.html#a4820ea98988736a81d6695a51f74acd6">obsws_error_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d08/library_8h.html#a845b9465a0b58952402d9ee021dbb003">obsws_get_recording_status</a> (<a class="el" href="../../dd/d08/library_8h.html#a81ecb6b2403c8155af2e4edb4716c141">obsws_connection_t</a> *conn, bool *is_recording, <a class="el" href="../../d2/d1f/structobsws__response__t.html">obsws_response_t</a> **response)</td></tr>
<tr class="memdesc:a845b9465a0b58952402d9ee021dbb003"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get whether OBS is currently recording.  <a href="../../dd/d08/library_8h.html#a845b9465a0b58952402d9ee021dbb003">More...</a><br /></td></tr>
<tr class="separator:a845b9465a0b58952402d9ee021dbb003"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a08f17f3a7dbfdd402c4460c13e33463b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../dd/d08/library_8h.html#a4820ea98988736a81d6695a51f74acd6">obsws_error_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d08/library_8h.html#a08f17f3a7dbfdd402c4460c13e33463b">obsws_set_source_visibility</a> (<a class="el" href="../../dd/d08/library_8h.html#a81ecb6b2403c8155af2e4edb4716c141">obsws_connection_t</a> *conn, const char *scene_name, const char *source_name, bool visible, <a class="el" href="../../d2/d1f/structobsws__response__t.html">obsws_response_t</a> **response)</td></tr>
<tr class="separator:a08f17f3a7dbfdd402c4460c13e33463b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a75fc4d620b8032c882514b40ea525314"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../dd/d08/library_8h.html#a4820ea98988736a81d6695a51f74acd6">obsws_error_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d08/library_8h.html#a75fc4d620b8032c882514b40ea525314">obsws_set_source_filter_enabled</a> (<a class="el" href="../../dd/d08/library_8h.html#a81ecb6b2403c8155af2e4edb4716c141">obsws_connection_t</a> *conn, const char *source_name, const char *filter_name, bool enabled, <a class="el" href="../../d2/d1f/structobsws__response__t.html">obsws_response_t</a> **response)</td></tr>
<tr class="separator:a75fc4d620b8032c882514b40ea525314"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af2fd7f8dd928e03b38a3e2c5b5745417"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../dd/d08/library_8h.html#a4820ea98988736a81d6695a51f74acd6">obsws_error_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d08/library_8h.html#af2fd7f8dd928e03b38a3e2c5b5745417">obsws_send_request</a> (<a class="el" href="../../dd/d08/library_8h.html#a81ecb6b2403c8155af2e4edb4716c141">obsws_connection_t</a> *conn, const char *request_type, const char *request_data, <a class="el" href="../../d2/d1f/structobsws__response__t.html">obsws_response_t</a> **response, uint32_t timeout_ms)</td></tr>
<tr class="memdesc:af2fd7f8dd928e03b38a3e2c5b5745417"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send a synchronous request to OBS and wait for the response.  <a href="../../dd/d08/library_8h.html#af2fd7f8dd928e03b38a3e2c5b5745417">More...</a><br /></td></tr>
<tr class="separator:af2fd7f8dd928e03b38a3e2c5b5745417"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abe53062a781ca1cd537f799c075b3e2e"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d08/library_8h.html#abe53062a781ca1cd537f799c075b3e2e">obsws_process_events</a> (<a class="el" href="../../dd/d08/library_8h.html#a81ecb6b2403c8155af2e4edb4716c141">obsws_connection_t</a> *conn, uint32_t timeout_ms)</td></tr>
<tr class="memdesc:abe53062a781ca1cd537f799c075b3e2e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Process pending events from the WebSocket connection.  <a href="../../dd/d08/library_8h.html#abe53062a781ca1cd537f799c075b3e2e">More...</a><br /></td></tr>
<tr class="separator:abe53062a781ca1cd537f799c075b3e2e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a53067e61dc0ddcf1134d46b275d7ce6b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d08/library_8h.html#a53067e61dc0ddcf1134d46b275d7ce6b">obsws_response_free</a> (<a class="el" href="../../d2/d1f/structobsws__response__t.html">obsws_response_t</a> *response)</td></tr>
<tr class="memdesc:a53067e61dc0ddcf1134d46b275d7ce6b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Free a response structure and all its allocated memory.  <a href="../../dd/d08/library_8h.html#a53067e61dc0ddcf1134d46b275d7ce6b">More...</a><br /></td></tr>
<tr class="separator:a53067e61dc0ddcf1134d46b275d7ce6b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a39534944f30eaed9a0f2d7de19be0c3e"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d08/library_8h.html#a39534944f30eaed9a0f2d7de19be0c3e">obsws_error_string</a> (<a class="el" href="../../dd/d08/library_8h.html#a4820ea98988736a81d6695a51f74acd6">obsws_error_t</a> error)</td></tr>
<tr class="memdesc:a39534944f30eaed9a0f2d7de19be0c3e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Convert an error code to a human-readable string.  <a href="../../dd/d08/library_8h.html#a39534944f30eaed9a0f2d7de19be0c3e">More...</a><br /></td></tr>
<tr class="separator:a39534944f30eaed9a0f2d7de19be0c3e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a69f8fcc1732533a2ebe573ac65effa04"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d08/library_8h.html#a69f8fcc1732533a2ebe573ac65effa04">obsws_state_string</a> (<a class="el" href="../../dd/d08/library_8h.html#a2fb4e7d7196f39a5ce0e9c71b2d78991">obsws_state_t</a> state)</td></tr>
<tr class="memdesc:a69f8fcc1732533a2ebe573ac65effa04"><td class="mdescLeft">&#160;</td><td class="mdescRight">Convert a connection state to a human-readable string.  <a href="../../dd/d08/library_8h.html#a69f8fcc1732533a2ebe573ac65effa04">More...</a><br /></td></tr>
<tr class="separator:a69f8fcc1732533a2ebe573ac65effa04"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac26d8f108d875f8213a73e23ae46068b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d08/library_8h.html#ac26d8f108d875f8213a73e23ae46068b">obsws_free_scene_list</a> (char **scenes, size_t count)</td></tr>
<tr class="separator:ac26d8f108d875f8213a73e23ae46068b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a3024ccd4a9af5109d24e6c57565d74a1" name="a3024ccd4a9af5109d24e6c57565d74a1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3024ccd4a9af5109d24e6c57565d74a1">&#9670;&nbsp;</a></span>_POSIX_C_SOURCE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define _POSIX_C_SOURCE&#160;&#160;&#160;200809L</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dd/d08/library_8h_source.html#l00005">5</a> of file <a class="el" href="../../dd/d08/library_8h_source.html">library.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Typedef Documentation</h2>
<a id="a81ecb6b2403c8155af2e4edb4716c141" name="a81ecb6b2403c8155af2e4edb4716c141"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a81ecb6b2403c8155af2e4edb4716c141">&#9670;&nbsp;</a></span>obsws_connection_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="../../d5/d88/structobsws__connection.html">obsws_connection</a> <a class="el" href="../../dd/d08/library_8h.html#a81ecb6b2403c8155af2e4edb4716c141">obsws_connection_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dd/d08/library_8h_source.html#l00142">142</a> of file <a class="el" href="../../dd/d08/library_8h_source.html">library.h</a>.</p>

</div>
</div>
<a id="a5e76bfe94664a2648ae9c1fcfeb83a08" name="a5e76bfe94664a2648ae9c1fcfeb83a08"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5e76bfe94664a2648ae9c1fcfeb83a08">&#9670;&nbsp;</a></span>obsws_event_callback_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void(* obsws_event_callback_t) (<a class="el" href="../../dd/d08/library_8h.html#a81ecb6b2403c8155af2e4edb4716c141">obsws_connection_t</a> *conn, const char *event_type, const char *event_data, void *user_data)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dd/d08/library_8h_source.html#l00190">190</a> of file <a class="el" href="../../dd/d08/library_8h_source.html">library.h</a>.</p>

</div>
</div>
<a id="a1cd53dbb56b26952688e258c02fc7325" name="a1cd53dbb56b26952688e258c02fc7325"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1cd53dbb56b26952688e258c02fc7325">&#9670;&nbsp;</a></span>obsws_log_callback_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void(* obsws_log_callback_t) (<a class="el" href="../../dd/d08/library_8h.html#afbee3b6b991e705309ea19fd5fb0bff9">obsws_log_level_t</a> level, const char *message, void *user_data)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Log callback function type - called when the library generates log messages. </p>
<p >This callback gives you a chance to handle logging however you want - write to a file, display in a GUI, send to a remote server, etc. If you don't provide a log callback, messages go to stderr by default.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">level</td><td>The severity level of this log message (error, warning, info, debug) </td></tr>
    <tr><td class="paramname">message</td><td>The actual log message text (null-terminated string) </td></tr>
    <tr><td class="paramname">user_data</td><td>Pointer you provided in the config - use for context</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>The message buffer is temporary and may be freed after this callback returns. If you need to keep the message, copy it with strdup() or similar. </dd>
<dd>
This callback is called from an internal thread, so if you access shared data structures, protect them with mutexes. </dd>
<dd>
Avoid doing expensive operations in this callback - logging should be fast. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../dd/d08/library_8h_source.html#l00161">161</a> of file <a class="el" href="../../dd/d08/library_8h_source.html">library.h</a>.</p>

</div>
</div>
<a id="ad3b0a6981e0c04dbf4de858972894a3d" name="ad3b0a6981e0c04dbf4de858972894a3d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad3b0a6981e0c04dbf4de858972894a3d">&#9670;&nbsp;</a></span>obsws_state_callback_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void(* obsws_state_callback_t) (<a class="el" href="../../dd/d08/library_8h.html#a81ecb6b2403c8155af2e4edb4716c141">obsws_connection_t</a> *conn, <a class="el" href="../../dd/d08/library_8h.html#a2fb4e7d7196f39a5ce0e9c71b2d78991">obsws_state_t</a> old_state, <a class="el" href="../../dd/d08/library_8h.html#a2fb4e7d7196f39a5ce0e9c71b2d78991">obsws_state_t</a> new_state, void *user_data)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>State callback function type - called when connection state changes. </p>
<p >This is how you know when the connection comes up or goes down. Use this to update your UI - disable buttons when disconnected, enable them when connected, show spinners during connecting, etc.</p>
<p >The callback receives both the old and new states so you can see the transition. For example, if old_state is DISCONNECTED and new_state is CONNECTING, you might show a "connecting..." message. If old_state is CONNECTED and new_state is DISCONNECTED, you might show "disconnected" and disable sending commands.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">conn</td><td>The connection whose state changed </td></tr>
    <tr><td class="paramname">old_state</td><td>Previous state (what it was before) </td></tr>
    <tr><td class="paramname">new_state</td><td>Current state (what it is now) </td></tr>
    <tr><td class="paramname">user_data</td><td>Pointer you provided in the config</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>This callback is called from an internal thread, so protect shared data. </dd>
<dd>
Don't do slow operations here - state changes should be handled quickly.</dd></dl>
<p>State transitions:</p><ul>
<li>DISCONNECTED -&gt; CONNECTING (connection attempt starting)</li>
<li>CONNECTING -&gt; AUTHENTICATING (WebSocket connected, checking auth)</li>
<li>AUTHENTICATING -&gt; CONNECTED (ready to use)</li>
<li>CONNECTING -&gt; ERROR (connection failed)</li>
<li>AUTHENTICATING -&gt; ERROR (auth failed)</li>
<li>CONNECTED -&gt; DISCONNECTED (user disconnected or connection lost)</li>
<li>CONNECTED -&gt; ERROR (unexpected connection drop)</li>
<li>ERROR -&gt; DISCONNECTED (after cleanup)</li>
<li>Any state -&gt; DISCONNECTED (when you call obsws_disconnect) </li>
</ul>

<p class="definition">Definition at line <a class="el" href="../../dd/d08/library_8h_source.html#l00223">223</a> of file <a class="el" href="../../dd/d08/library_8h_source.html">library.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="a1997a985daa6bfb4117e885d9bb81668" name="a1997a985daa6bfb4117e885d9bb81668"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1997a985daa6bfb4117e885d9bb81668">&#9670;&nbsp;</a></span>obsws_debug_level_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="../../dd/d08/library_8h.html#a1997a985daa6bfb4117e885d9bb81668">obsws_debug_level_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Debug levels - fine-grained control for troubleshooting connection issues. </p>
<p >Debug output is separate from log output because it's meant for developers debugging the library itself. It shows low-level protocol details. You probably only need this if something seems broken or you're curious about the protocol.</p>
<p >WARNING: Debug level HIGH will log passwords and raw messages. Never use in production or with untrusted users watching the output. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a1997a985daa6bfb4117e885d9bb81668a0f96dd454f8efb9a755ebda2e81919aa" name="a1997a985daa6bfb4117e885d9bb81668a0f96dd454f8efb9a755ebda2e81919aa"></a>OBSWS_DEBUG_NONE&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a1997a985daa6bfb4117e885d9bb81668a50fd66057e634b5bd51441ba3fdeaf50" name="a1997a985daa6bfb4117e885d9bb81668a50fd66057e634b5bd51441ba3fdeaf50"></a>OBSWS_DEBUG_LOW&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a1997a985daa6bfb4117e885d9bb81668aa6c8d9d070b4d69beeadf605bc03eee1" name="a1997a985daa6bfb4117e885d9bb81668aa6c8d9d070b4d69beeadf605bc03eee1"></a>OBSWS_DEBUG_MEDIUM&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a1997a985daa6bfb4117e885d9bb81668aceb0431d743cdecf0848564f388d51bd" name="a1997a985daa6bfb4117e885d9bb81668aceb0431d743cdecf0848564f388d51bd"></a>OBSWS_DEBUG_HIGH&#160;</td><td class="fielddoc"></td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="../../dd/d08/library_8h_source.html#l00134">134</a> of file <a class="el" href="../../dd/d08/library_8h_source.html">library.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  134</span>             {</div>
<div class="line"><span class="lineno">  135</span>    <a class="code hl_enumvalue" href="../../dd/d08/library_8h.html#a1997a985daa6bfb4117e885d9bb81668a0f96dd454f8efb9a755ebda2e81919aa">OBSWS_DEBUG_NONE</a> = 0,       <span class="comment">/* No debug output - production mode */</span></div>
<div class="line"><span class="lineno">  136</span>    <a class="code hl_enumvalue" href="../../dd/d08/library_8h.html#a1997a985daa6bfb4117e885d9bb81668a50fd66057e634b5bd51441ba3fdeaf50">OBSWS_DEBUG_LOW</a> = 1,        <span class="comment">/* Connection events, auth success/failure, major state changes */</span></div>
<div class="line"><span class="lineno">  137</span>    <a class="code hl_enumvalue" href="../../dd/d08/library_8h.html#a1997a985daa6bfb4117e885d9bb81668aa6c8d9d070b4d69beeadf605bc03eee1">OBSWS_DEBUG_MEDIUM</a> = 2,     <span class="comment">/* Low + WebSocket opcodes, event type names, request IDs */</span></div>
<div class="line"><span class="lineno">  138</span>    <a class="code hl_enumvalue" href="../../dd/d08/library_8h.html#a1997a985daa6bfb4117e885d9bb81668aceb0431d743cdecf0848564f388d51bd">OBSWS_DEBUG_HIGH</a> = 3        <span class="comment">/* Medium + full message contents - can include passwords! */</span></div>
<div class="line"><span class="lineno">  139</span>} <a class="code hl_enumeration" href="../../dd/d08/library_8h.html#a1997a985daa6bfb4117e885d9bb81668">obsws_debug_level_t</a>;</div>
<div class="ttc" id="alibrary_8h_html_a1997a985daa6bfb4117e885d9bb81668"><div class="ttname"><a href="../../dd/d08/library_8h.html#a1997a985daa6bfb4117e885d9bb81668">obsws_debug_level_t</a></div><div class="ttdeci">obsws_debug_level_t</div><div class="ttdoc">Debug levels - fine-grained control for troubleshooting connection issues.</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d08/library_8h_source.html#l00134">library.h:134</a></div></div>
<div class="ttc" id="alibrary_8h_html_a1997a985daa6bfb4117e885d9bb81668a0f96dd454f8efb9a755ebda2e81919aa"><div class="ttname"><a href="../../dd/d08/library_8h.html#a1997a985daa6bfb4117e885d9bb81668a0f96dd454f8efb9a755ebda2e81919aa">OBSWS_DEBUG_NONE</a></div><div class="ttdeci">@ OBSWS_DEBUG_NONE</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d08/library_8h_source.html#l00135">library.h:135</a></div></div>
<div class="ttc" id="alibrary_8h_html_a1997a985daa6bfb4117e885d9bb81668a50fd66057e634b5bd51441ba3fdeaf50"><div class="ttname"><a href="../../dd/d08/library_8h.html#a1997a985daa6bfb4117e885d9bb81668a50fd66057e634b5bd51441ba3fdeaf50">OBSWS_DEBUG_LOW</a></div><div class="ttdeci">@ OBSWS_DEBUG_LOW</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d08/library_8h_source.html#l00136">library.h:136</a></div></div>
<div class="ttc" id="alibrary_8h_html_a1997a985daa6bfb4117e885d9bb81668aa6c8d9d070b4d69beeadf605bc03eee1"><div class="ttname"><a href="../../dd/d08/library_8h.html#a1997a985daa6bfb4117e885d9bb81668aa6c8d9d070b4d69beeadf605bc03eee1">OBSWS_DEBUG_MEDIUM</a></div><div class="ttdeci">@ OBSWS_DEBUG_MEDIUM</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d08/library_8h_source.html#l00137">library.h:137</a></div></div>
<div class="ttc" id="alibrary_8h_html_a1997a985daa6bfb4117e885d9bb81668aceb0431d743cdecf0848564f388d51bd"><div class="ttname"><a href="../../dd/d08/library_8h.html#a1997a985daa6bfb4117e885d9bb81668aceb0431d743cdecf0848564f388d51bd">OBSWS_DEBUG_HIGH</a></div><div class="ttdeci">@ OBSWS_DEBUG_HIGH</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d08/library_8h_source.html#l00139">library.h:138</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a4820ea98988736a81d6695a51f74acd6" name="a4820ea98988736a81d6695a51f74acd6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4820ea98988736a81d6695a51f74acd6">&#9670;&nbsp;</a></span>obsws_error_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="../../dd/d08/library_8h.html#a4820ea98988736a81d6695a51f74acd6">obsws_error_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Error codes returned by library functions. </p>
<p >These error codes provide detailed information about what went wrong during library operations. Unlike generic error codes, they help distinguish between different failure modes so you can implement proper error handling and recovery strategies. For example, OBSWS_ERROR_TIMEOUT means you should probably retry the operation, while OBSWS_ERROR_AUTH_FAILED means retrying won't help - the password is just wrong.</p>
<p >The library uses negative error codes following POSIX conventions. Zero is always success. This makes it easy to check errors with simple conditions like if (error &lt; 0).</p>
<p >Note that some errors are recoverable (network timeouts, temporary connection failures) while others are not (invalid parameters, authentication failure). The auto-reconnect feature only applies to network-level errors, not application errors like wrong scene names. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a4820ea98988736a81d6695a51f74acd6aa43b9a59f39db094a477cb25a638e5a1" name="a4820ea98988736a81d6695a51f74acd6aa43b9a59f39db094a477cb25a638e5a1"></a>OBSWS_OK&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a4820ea98988736a81d6695a51f74acd6a8944fe1379e71d22a82399c21107ebf6" name="a4820ea98988736a81d6695a51f74acd6a8944fe1379e71d22a82399c21107ebf6"></a>OBSWS_ERROR_INVALID_PARAM&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a4820ea98988736a81d6695a51f74acd6aa99054291b32e3476d521ea9efeb83a2" name="a4820ea98988736a81d6695a51f74acd6aa99054291b32e3476d521ea9efeb83a2"></a>OBSWS_ERROR_CONNECTION_FAILED&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a4820ea98988736a81d6695a51f74acd6abab3c6691cc119a7b875d967f0fc565f" name="a4820ea98988736a81d6695a51f74acd6abab3c6691cc119a7b875d967f0fc565f"></a>OBSWS_ERROR_SEND_FAILED&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a4820ea98988736a81d6695a51f74acd6a312613cd84331a653e2c1de24b94c52b" name="a4820ea98988736a81d6695a51f74acd6a312613cd84331a653e2c1de24b94c52b"></a>OBSWS_ERROR_RECV_FAILED&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a4820ea98988736a81d6695a51f74acd6aea7cb95255efa1d01e6761d676ab599c" name="a4820ea98988736a81d6695a51f74acd6aea7cb95255efa1d01e6761d676ab599c"></a>OBSWS_ERROR_SSL_FAILED&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a4820ea98988736a81d6695a51f74acd6a3132520f4e5efcd0e07668b4afcd5c4c" name="a4820ea98988736a81d6695a51f74acd6a3132520f4e5efcd0e07668b4afcd5c4c"></a>OBSWS_ERROR_AUTH_FAILED&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a4820ea98988736a81d6695a51f74acd6a72ca999664bea413857d7901acf2d598" name="a4820ea98988736a81d6695a51f74acd6a72ca999664bea413857d7901acf2d598"></a>OBSWS_ERROR_PARSE_FAILED&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a4820ea98988736a81d6695a51f74acd6ace2eb9908cf7d65109788a2593582982" name="a4820ea98988736a81d6695a51f74acd6ace2eb9908cf7d65109788a2593582982"></a>OBSWS_ERROR_NOT_CONNECTED&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a4820ea98988736a81d6695a51f74acd6a6b4348384a97af637d6361e38a5de052" name="a4820ea98988736a81d6695a51f74acd6a6b4348384a97af637d6361e38a5de052"></a>OBSWS_ERROR_ALREADY_CONNECTED&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a4820ea98988736a81d6695a51f74acd6a852a5a13d07531a60aedc6e3cc1ae86d" name="a4820ea98988736a81d6695a51f74acd6a852a5a13d07531a60aedc6e3cc1ae86d"></a>OBSWS_ERROR_TIMEOUT&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a4820ea98988736a81d6695a51f74acd6a976f03f9cfc1de7d7172732454829e15" name="a4820ea98988736a81d6695a51f74acd6a976f03f9cfc1de7d7172732454829e15"></a>OBSWS_ERROR_OUT_OF_MEMORY&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a4820ea98988736a81d6695a51f74acd6a8988f38a0e1e83701ffc075686bb3395" name="a4820ea98988736a81d6695a51f74acd6a8988f38a0e1e83701ffc075686bb3395"></a>OBSWS_ERROR_UNKNOWN&#160;</td><td class="fielddoc"></td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="../../dd/d08/library_8h_source.html#l00051">51</a> of file <a class="el" href="../../dd/d08/library_8h_source.html">library.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   51</span>             {</div>
<div class="line"><span class="lineno">   52</span>    <a class="code hl_enumvalue" href="../../dd/d08/library_8h.html#a4820ea98988736a81d6695a51f74acd6aa43b9a59f39db094a477cb25a638e5a1">OBSWS_OK</a> = 0,</div>
<div class="line"><span class="lineno">   53</span>    </div>
<div class="line"><span class="lineno">   54</span>    <span class="comment">/* Parameter validation errors (application layer) - not recoverable by retrying */</span></div>
<div class="line"><span class="lineno">   55</span>    <a class="code hl_enumvalue" href="../../dd/d08/library_8h.html#a4820ea98988736a81d6695a51f74acd6a8944fe1379e71d22a82399c21107ebf6">OBSWS_ERROR_INVALID_PARAM</a> = -1,</div>
<div class="line"><span class="lineno">   56</span>    </div>
<div class="line"><span class="lineno">   57</span>    <span class="comment">/* Network-level errors (can be recovered with reconnection) */</span></div>
<div class="line"><span class="lineno">   58</span>    <a class="code hl_enumvalue" href="../../dd/d08/library_8h.html#a4820ea98988736a81d6695a51f74acd6aa99054291b32e3476d521ea9efeb83a2">OBSWS_ERROR_CONNECTION_FAILED</a> = -2,</div>
<div class="line"><span class="lineno">   59</span>    <a class="code hl_enumvalue" href="../../dd/d08/library_8h.html#a4820ea98988736a81d6695a51f74acd6abab3c6691cc119a7b875d967f0fc565f">OBSWS_ERROR_SEND_FAILED</a> = -5,</div>
<div class="line"><span class="lineno">   60</span>    <a class="code hl_enumvalue" href="../../dd/d08/library_8h.html#a4820ea98988736a81d6695a51f74acd6a312613cd84331a653e2c1de24b94c52b">OBSWS_ERROR_RECV_FAILED</a> = -6,</div>
<div class="line"><span class="lineno">   61</span>    <a class="code hl_enumvalue" href="../../dd/d08/library_8h.html#a4820ea98988736a81d6695a51f74acd6aea7cb95255efa1d01e6761d676ab599c">OBSWS_ERROR_SSL_FAILED</a> = -11,</div>
<div class="line"><span class="lineno">   62</span>    </div>
<div class="line"><span class="lineno">   63</span>    <span class="comment">/* Authentication errors (recoverable only by fixing the password) */</span></div>
<div class="line"><span class="lineno">   64</span>    <a class="code hl_enumvalue" href="../../dd/d08/library_8h.html#a4820ea98988736a81d6695a51f74acd6a3132520f4e5efcd0e07668b4afcd5c4c">OBSWS_ERROR_AUTH_FAILED</a> = -3,</div>
<div class="line"><span class="lineno">   65</span>    </div>
<div class="line"><span class="lineno">   66</span>    <span class="comment">/* Protocol/messaging errors (typically indicate bad request data or OBS issues) */</span></div>
<div class="line"><span class="lineno">   67</span>    <a class="code hl_enumvalue" href="../../dd/d08/library_8h.html#a4820ea98988736a81d6695a51f74acd6a72ca999664bea413857d7901acf2d598">OBSWS_ERROR_PARSE_FAILED</a> = -7,</div>
<div class="line"><span class="lineno">   68</span>    <a class="code hl_enumvalue" href="../../dd/d08/library_8h.html#a4820ea98988736a81d6695a51f74acd6ace2eb9908cf7d65109788a2593582982">OBSWS_ERROR_NOT_CONNECTED</a> = -8,</div>
<div class="line"><span class="lineno">   69</span>    <a class="code hl_enumvalue" href="../../dd/d08/library_8h.html#a4820ea98988736a81d6695a51f74acd6a6b4348384a97af637d6361e38a5de052">OBSWS_ERROR_ALREADY_CONNECTED</a> = -9,</div>
<div class="line"><span class="lineno">   70</span>    </div>
<div class="line"><span class="lineno">   71</span>    <span class="comment">/* Timeout errors (recoverable by retrying with patience) */</span></div>
<div class="line"><span class="lineno">   72</span>    <a class="code hl_enumvalue" href="../../dd/d08/library_8h.html#a4820ea98988736a81d6695a51f74acd6a852a5a13d07531a60aedc6e3cc1ae86d">OBSWS_ERROR_TIMEOUT</a> = -4,</div>
<div class="line"><span class="lineno">   73</span>    </div>
<div class="line"><span class="lineno">   74</span>    <span class="comment">/* System resource errors (usually indicates system-wide issues) */</span></div>
<div class="line"><span class="lineno">   75</span>    <a class="code hl_enumvalue" href="../../dd/d08/library_8h.html#a4820ea98988736a81d6695a51f74acd6a976f03f9cfc1de7d7172732454829e15">OBSWS_ERROR_OUT_OF_MEMORY</a> = -10,</div>
<div class="line"><span class="lineno">   76</span>    </div>
<div class="line"><span class="lineno">   77</span>    <span class="comment">/* Catch-all for things we didn&#39;t expect */</span></div>
<div class="line"><span class="lineno">   78</span>    <a class="code hl_enumvalue" href="../../dd/d08/library_8h.html#a4820ea98988736a81d6695a51f74acd6a8988f38a0e1e83701ffc075686bb3395">OBSWS_ERROR_UNKNOWN</a> = -99</div>
<div class="line"><span class="lineno">   79</span>} <a class="code hl_enumeration" href="../../dd/d08/library_8h.html#a4820ea98988736a81d6695a51f74acd6">obsws_error_t</a>;</div>
<div class="ttc" id="alibrary_8h_html_a4820ea98988736a81d6695a51f74acd6"><div class="ttname"><a href="../../dd/d08/library_8h.html#a4820ea98988736a81d6695a51f74acd6">obsws_error_t</a></div><div class="ttdeci">obsws_error_t</div><div class="ttdoc">Error codes returned by library functions.</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d08/library_8h_source.html#l00051">library.h:51</a></div></div>
<div class="ttc" id="alibrary_8h_html_a4820ea98988736a81d6695a51f74acd6a312613cd84331a653e2c1de24b94c52b"><div class="ttname"><a href="../../dd/d08/library_8h.html#a4820ea98988736a81d6695a51f74acd6a312613cd84331a653e2c1de24b94c52b">OBSWS_ERROR_RECV_FAILED</a></div><div class="ttdeci">@ OBSWS_ERROR_RECV_FAILED</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d08/library_8h_source.html#l00060">library.h:60</a></div></div>
<div class="ttc" id="alibrary_8h_html_a4820ea98988736a81d6695a51f74acd6a3132520f4e5efcd0e07668b4afcd5c4c"><div class="ttname"><a href="../../dd/d08/library_8h.html#a4820ea98988736a81d6695a51f74acd6a3132520f4e5efcd0e07668b4afcd5c4c">OBSWS_ERROR_AUTH_FAILED</a></div><div class="ttdeci">@ OBSWS_ERROR_AUTH_FAILED</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d08/library_8h_source.html#l00064">library.h:64</a></div></div>
<div class="ttc" id="alibrary_8h_html_a4820ea98988736a81d6695a51f74acd6a6b4348384a97af637d6361e38a5de052"><div class="ttname"><a href="../../dd/d08/library_8h.html#a4820ea98988736a81d6695a51f74acd6a6b4348384a97af637d6361e38a5de052">OBSWS_ERROR_ALREADY_CONNECTED</a></div><div class="ttdeci">@ OBSWS_ERROR_ALREADY_CONNECTED</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d08/library_8h_source.html#l00069">library.h:69</a></div></div>
<div class="ttc" id="alibrary_8h_html_a4820ea98988736a81d6695a51f74acd6a72ca999664bea413857d7901acf2d598"><div class="ttname"><a href="../../dd/d08/library_8h.html#a4820ea98988736a81d6695a51f74acd6a72ca999664bea413857d7901acf2d598">OBSWS_ERROR_PARSE_FAILED</a></div><div class="ttdeci">@ OBSWS_ERROR_PARSE_FAILED</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d08/library_8h_source.html#l00067">library.h:67</a></div></div>
<div class="ttc" id="alibrary_8h_html_a4820ea98988736a81d6695a51f74acd6a852a5a13d07531a60aedc6e3cc1ae86d"><div class="ttname"><a href="../../dd/d08/library_8h.html#a4820ea98988736a81d6695a51f74acd6a852a5a13d07531a60aedc6e3cc1ae86d">OBSWS_ERROR_TIMEOUT</a></div><div class="ttdeci">@ OBSWS_ERROR_TIMEOUT</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d08/library_8h_source.html#l00072">library.h:72</a></div></div>
<div class="ttc" id="alibrary_8h_html_a4820ea98988736a81d6695a51f74acd6a8944fe1379e71d22a82399c21107ebf6"><div class="ttname"><a href="../../dd/d08/library_8h.html#a4820ea98988736a81d6695a51f74acd6a8944fe1379e71d22a82399c21107ebf6">OBSWS_ERROR_INVALID_PARAM</a></div><div class="ttdeci">@ OBSWS_ERROR_INVALID_PARAM</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d08/library_8h_source.html#l00055">library.h:55</a></div></div>
<div class="ttc" id="alibrary_8h_html_a4820ea98988736a81d6695a51f74acd6a8988f38a0e1e83701ffc075686bb3395"><div class="ttname"><a href="../../dd/d08/library_8h.html#a4820ea98988736a81d6695a51f74acd6a8988f38a0e1e83701ffc075686bb3395">OBSWS_ERROR_UNKNOWN</a></div><div class="ttdeci">@ OBSWS_ERROR_UNKNOWN</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d08/library_8h_source.html#l00079">library.h:78</a></div></div>
<div class="ttc" id="alibrary_8h_html_a4820ea98988736a81d6695a51f74acd6a976f03f9cfc1de7d7172732454829e15"><div class="ttname"><a href="../../dd/d08/library_8h.html#a4820ea98988736a81d6695a51f74acd6a976f03f9cfc1de7d7172732454829e15">OBSWS_ERROR_OUT_OF_MEMORY</a></div><div class="ttdeci">@ OBSWS_ERROR_OUT_OF_MEMORY</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d08/library_8h_source.html#l00075">library.h:75</a></div></div>
<div class="ttc" id="alibrary_8h_html_a4820ea98988736a81d6695a51f74acd6aa43b9a59f39db094a477cb25a638e5a1"><div class="ttname"><a href="../../dd/d08/library_8h.html#a4820ea98988736a81d6695a51f74acd6aa43b9a59f39db094a477cb25a638e5a1">OBSWS_OK</a></div><div class="ttdeci">@ OBSWS_OK</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d08/library_8h_source.html#l00052">library.h:52</a></div></div>
<div class="ttc" id="alibrary_8h_html_a4820ea98988736a81d6695a51f74acd6aa99054291b32e3476d521ea9efeb83a2"><div class="ttname"><a href="../../dd/d08/library_8h.html#a4820ea98988736a81d6695a51f74acd6aa99054291b32e3476d521ea9efeb83a2">OBSWS_ERROR_CONNECTION_FAILED</a></div><div class="ttdeci">@ OBSWS_ERROR_CONNECTION_FAILED</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d08/library_8h_source.html#l00058">library.h:58</a></div></div>
<div class="ttc" id="alibrary_8h_html_a4820ea98988736a81d6695a51f74acd6abab3c6691cc119a7b875d967f0fc565f"><div class="ttname"><a href="../../dd/d08/library_8h.html#a4820ea98988736a81d6695a51f74acd6abab3c6691cc119a7b875d967f0fc565f">OBSWS_ERROR_SEND_FAILED</a></div><div class="ttdeci">@ OBSWS_ERROR_SEND_FAILED</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d08/library_8h_source.html#l00059">library.h:59</a></div></div>
<div class="ttc" id="alibrary_8h_html_a4820ea98988736a81d6695a51f74acd6ace2eb9908cf7d65109788a2593582982"><div class="ttname"><a href="../../dd/d08/library_8h.html#a4820ea98988736a81d6695a51f74acd6ace2eb9908cf7d65109788a2593582982">OBSWS_ERROR_NOT_CONNECTED</a></div><div class="ttdeci">@ OBSWS_ERROR_NOT_CONNECTED</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d08/library_8h_source.html#l00068">library.h:68</a></div></div>
<div class="ttc" id="alibrary_8h_html_a4820ea98988736a81d6695a51f74acd6aea7cb95255efa1d01e6761d676ab599c"><div class="ttname"><a href="../../dd/d08/library_8h.html#a4820ea98988736a81d6695a51f74acd6aea7cb95255efa1d01e6761d676ab599c">OBSWS_ERROR_SSL_FAILED</a></div><div class="ttdeci">@ OBSWS_ERROR_SSL_FAILED</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d08/library_8h_source.html#l00061">library.h:61</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="afbee3b6b991e705309ea19fd5fb0bff9" name="afbee3b6b991e705309ea19fd5fb0bff9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afbee3b6b991e705309ea19fd5fb0bff9">&#9670;&nbsp;</a></span>obsws_log_level_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="../../dd/d08/library_8h.html#afbee3b6b991e705309ea19fd5fb0bff9">obsws_log_level_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Log levels for filtering library output. </p>
<p >Think of log levels like a funnel - higher levels include all the output from lower levels plus more. So LOG_DEBUG includes everything, while LOG_ERROR only shows when things go wrong.</p>
<p >For production, use OBSWS_LOG_ERROR or OBSWS_LOG_WARNING to avoid spam. For development/debugging, use OBSWS_LOG_DEBUG to see everything happening. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="afbee3b6b991e705309ea19fd5fb0bff9a565d702d35e780d080b14dd8f1c8e299" name="afbee3b6b991e705309ea19fd5fb0bff9a565d702d35e780d080b14dd8f1c8e299"></a>OBSWS_LOG_NONE&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="afbee3b6b991e705309ea19fd5fb0bff9a6a2a374e4af0446011df30bfd09e329e" name="afbee3b6b991e705309ea19fd5fb0bff9a6a2a374e4af0446011df30bfd09e329e"></a>OBSWS_LOG_ERROR&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="afbee3b6b991e705309ea19fd5fb0bff9a7db7d387859c4786d8eb303e5bbafef7" name="afbee3b6b991e705309ea19fd5fb0bff9a7db7d387859c4786d8eb303e5bbafef7"></a>OBSWS_LOG_WARNING&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="afbee3b6b991e705309ea19fd5fb0bff9ae48017bf78390a3df8cd87a24782c421" name="afbee3b6b991e705309ea19fd5fb0bff9ae48017bf78390a3df8cd87a24782c421"></a>OBSWS_LOG_INFO&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="afbee3b6b991e705309ea19fd5fb0bff9aa69cfac4b3acbd5968bfab9ef5759cd2" name="afbee3b6b991e705309ea19fd5fb0bff9aa69cfac4b3acbd5968bfab9ef5759cd2"></a>OBSWS_LOG_DEBUG&#160;</td><td class="fielddoc"></td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="../../dd/d08/library_8h_source.html#l00116">116</a> of file <a class="el" href="../../dd/d08/library_8h_source.html">library.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  116</span>             {</div>
<div class="line"><span class="lineno">  117</span>    <a class="code hl_enumvalue" href="../../dd/d08/library_8h.html#afbee3b6b991e705309ea19fd5fb0bff9a565d702d35e780d080b14dd8f1c8e299">OBSWS_LOG_NONE</a> = 0,         <span class="comment">/* Silence the library completely */</span></div>
<div class="line"><span class="lineno">  118</span>    <a class="code hl_enumvalue" href="../../dd/d08/library_8h.html#afbee3b6b991e705309ea19fd5fb0bff9a6a2a374e4af0446011df30bfd09e329e">OBSWS_LOG_ERROR</a> = 1,        <span class="comment">/* Only errors - something went wrong */</span></div>
<div class="line"><span class="lineno">  119</span>    <a class="code hl_enumvalue" href="../../dd/d08/library_8h.html#afbee3b6b991e705309ea19fd5fb0bff9a7db7d387859c4786d8eb303e5bbafef7">OBSWS_LOG_WARNING</a> = 2,      <span class="comment">/* Errors + warnings - potential issues but still working */</span></div>
<div class="line"><span class="lineno">  120</span>    <a class="code hl_enumvalue" href="../../dd/d08/library_8h.html#afbee3b6b991e705309ea19fd5fb0bff9ae48017bf78390a3df8cd87a24782c421">OBSWS_LOG_INFO</a> = 3,         <span class="comment">/* Normal operation info, good for seeing what&#39;s happening */</span></div>
<div class="line"><span class="lineno">  121</span>    <a class="code hl_enumvalue" href="../../dd/d08/library_8h.html#afbee3b6b991e705309ea19fd5fb0bff9aa69cfac4b3acbd5968bfab9ef5759cd2">OBSWS_LOG_DEBUG</a> = 4         <span class="comment">/* Very verbose, includes internal decisions and state changes */</span></div>
<div class="line"><span class="lineno">  122</span>} <a class="code hl_enumeration" href="../../dd/d08/library_8h.html#afbee3b6b991e705309ea19fd5fb0bff9">obsws_log_level_t</a>;</div>
<div class="ttc" id="alibrary_8h_html_afbee3b6b991e705309ea19fd5fb0bff9"><div class="ttname"><a href="../../dd/d08/library_8h.html#afbee3b6b991e705309ea19fd5fb0bff9">obsws_log_level_t</a></div><div class="ttdeci">obsws_log_level_t</div><div class="ttdoc">Log levels for filtering library output.</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d08/library_8h_source.html#l00116">library.h:116</a></div></div>
<div class="ttc" id="alibrary_8h_html_afbee3b6b991e705309ea19fd5fb0bff9a565d702d35e780d080b14dd8f1c8e299"><div class="ttname"><a href="../../dd/d08/library_8h.html#afbee3b6b991e705309ea19fd5fb0bff9a565d702d35e780d080b14dd8f1c8e299">OBSWS_LOG_NONE</a></div><div class="ttdeci">@ OBSWS_LOG_NONE</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d08/library_8h_source.html#l00117">library.h:117</a></div></div>
<div class="ttc" id="alibrary_8h_html_afbee3b6b991e705309ea19fd5fb0bff9a6a2a374e4af0446011df30bfd09e329e"><div class="ttname"><a href="../../dd/d08/library_8h.html#afbee3b6b991e705309ea19fd5fb0bff9a6a2a374e4af0446011df30bfd09e329e">OBSWS_LOG_ERROR</a></div><div class="ttdeci">@ OBSWS_LOG_ERROR</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d08/library_8h_source.html#l00118">library.h:118</a></div></div>
<div class="ttc" id="alibrary_8h_html_afbee3b6b991e705309ea19fd5fb0bff9a7db7d387859c4786d8eb303e5bbafef7"><div class="ttname"><a href="../../dd/d08/library_8h.html#afbee3b6b991e705309ea19fd5fb0bff9a7db7d387859c4786d8eb303e5bbafef7">OBSWS_LOG_WARNING</a></div><div class="ttdeci">@ OBSWS_LOG_WARNING</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d08/library_8h_source.html#l00119">library.h:119</a></div></div>
<div class="ttc" id="alibrary_8h_html_afbee3b6b991e705309ea19fd5fb0bff9aa69cfac4b3acbd5968bfab9ef5759cd2"><div class="ttname"><a href="../../dd/d08/library_8h.html#afbee3b6b991e705309ea19fd5fb0bff9aa69cfac4b3acbd5968bfab9ef5759cd2">OBSWS_LOG_DEBUG</a></div><div class="ttdeci">@ OBSWS_LOG_DEBUG</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d08/library_8h_source.html#l00122">library.h:121</a></div></div>
<div class="ttc" id="alibrary_8h_html_afbee3b6b991e705309ea19fd5fb0bff9ae48017bf78390a3df8cd87a24782c421"><div class="ttname"><a href="../../dd/d08/library_8h.html#afbee3b6b991e705309ea19fd5fb0bff9ae48017bf78390a3df8cd87a24782c421">OBSWS_LOG_INFO</a></div><div class="ttdeci">@ OBSWS_LOG_INFO</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d08/library_8h_source.html#l00120">library.h:120</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a2fb4e7d7196f39a5ce0e9c71b2d78991" name="a2fb4e7d7196f39a5ce0e9c71b2d78991"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2fb4e7d7196f39a5ce0e9c71b2d78991">&#9670;&nbsp;</a></span>obsws_state_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="../../dd/d08/library_8h.html#a2fb4e7d7196f39a5ce0e9c71b2d78991">obsws_state_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Connection state - represents the current phase of the connection lifecycle. </p>
<p >The connection goes through several states as it initializes. Understanding these states is important because different operations are only valid in certain states. For example, you can't send scene-switching commands when the state is CONNECTING</p><ul>
<li>you have to wait until CONNECTED.</li>
</ul>
<p >The state machine looks like this: DISCONNECTED -&gt; CONNECTING -&gt; AUTHENTICATING -&gt; CONNECTED Any state can transition to ERROR if something goes wrong CONNECTED or ERROR can go back to DISCONNECTED when closing</p>
<p >When you get a state callback, it tells you the old and new states so you can react appropriately. For example, you might want to disable UI buttons when moving from CONNECTED to DISCONNECTED. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a2fb4e7d7196f39a5ce0e9c71b2d78991af973d2b8b0a498d0bbffb40ccab1ef2d" name="a2fb4e7d7196f39a5ce0e9c71b2d78991af973d2b8b0a498d0bbffb40ccab1ef2d"></a>OBSWS_STATE_DISCONNECTED&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a2fb4e7d7196f39a5ce0e9c71b2d78991a88276a1a9f595735a2b242f0eab1524a" name="a2fb4e7d7196f39a5ce0e9c71b2d78991a88276a1a9f595735a2b242f0eab1524a"></a>OBSWS_STATE_CONNECTING&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a2fb4e7d7196f39a5ce0e9c71b2d78991ac9c5d9c3aab50d7e6d1d38b1bb7d6d0f" name="a2fb4e7d7196f39a5ce0e9c71b2d78991ac9c5d9c3aab50d7e6d1d38b1bb7d6d0f"></a>OBSWS_STATE_AUTHENTICATING&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a2fb4e7d7196f39a5ce0e9c71b2d78991adbaae08035175b470fb9f543414672b8" name="a2fb4e7d7196f39a5ce0e9c71b2d78991adbaae08035175b470fb9f543414672b8"></a>OBSWS_STATE_CONNECTED&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a2fb4e7d7196f39a5ce0e9c71b2d78991ae13bce21841139a7510b1c8b10a694ac" name="a2fb4e7d7196f39a5ce0e9c71b2d78991ae13bce21841139a7510b1c8b10a694ac"></a>OBSWS_STATE_ERROR&#160;</td><td class="fielddoc"></td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="../../dd/d08/library_8h_source.html#l00098">98</a> of file <a class="el" href="../../dd/d08/library_8h_source.html">library.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   98</span>             {</div>
<div class="line"><span class="lineno">   99</span>    <a class="code hl_enumvalue" href="../../dd/d08/library_8h.html#a2fb4e7d7196f39a5ce0e9c71b2d78991af973d2b8b0a498d0bbffb40ccab1ef2d">OBSWS_STATE_DISCONNECTED</a> = 0,       <span class="comment">/* Not connected to OBS, no operations possible */</span></div>
<div class="line"><span class="lineno">  100</span>    <a class="code hl_enumvalue" href="../../dd/d08/library_8h.html#a2fb4e7d7196f39a5ce0e9c71b2d78991a88276a1a9f595735a2b242f0eab1524a">OBSWS_STATE_CONNECTING</a> = 1,         <span class="comment">/* WebSocket handshake in progress, wait for AUTHENTICATING */</span></div>
<div class="line"><span class="lineno">  101</span>    <a class="code hl_enumvalue" href="../../dd/d08/library_8h.html#a2fb4e7d7196f39a5ce0e9c71b2d78991ac9c5d9c3aab50d7e6d1d38b1bb7d6d0f">OBSWS_STATE_AUTHENTICATING</a> = 2,     <span class="comment">/* Connected but still doing auth, wait for CONNECTED */</span></div>
<div class="line"><span class="lineno">  102</span>    <a class="code hl_enumvalue" href="../../dd/d08/library_8h.html#a2fb4e7d7196f39a5ce0e9c71b2d78991adbaae08035175b470fb9f543414672b8">OBSWS_STATE_CONNECTED</a> = 3,          <span class="comment">/* Ready - authentication complete, send commands now */</span></div>
<div class="line"><span class="lineno">  103</span>    <a class="code hl_enumvalue" href="../../dd/d08/library_8h.html#a2fb4e7d7196f39a5ce0e9c71b2d78991ae13bce21841139a7510b1c8b10a694ac">OBSWS_STATE_ERROR</a> = 4               <span class="comment">/* Unrecoverable error occurred, reconnection might help */</span></div>
<div class="line"><span class="lineno">  104</span>} <a class="code hl_enumeration" href="../../dd/d08/library_8h.html#a2fb4e7d7196f39a5ce0e9c71b2d78991">obsws_state_t</a>;</div>
<div class="ttc" id="alibrary_8h_html_a2fb4e7d7196f39a5ce0e9c71b2d78991"><div class="ttname"><a href="../../dd/d08/library_8h.html#a2fb4e7d7196f39a5ce0e9c71b2d78991">obsws_state_t</a></div><div class="ttdeci">obsws_state_t</div><div class="ttdoc">Connection state - represents the current phase of the connection lifecycle.</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d08/library_8h_source.html#l00098">library.h:98</a></div></div>
<div class="ttc" id="alibrary_8h_html_a2fb4e7d7196f39a5ce0e9c71b2d78991a88276a1a9f595735a2b242f0eab1524a"><div class="ttname"><a href="../../dd/d08/library_8h.html#a2fb4e7d7196f39a5ce0e9c71b2d78991a88276a1a9f595735a2b242f0eab1524a">OBSWS_STATE_CONNECTING</a></div><div class="ttdeci">@ OBSWS_STATE_CONNECTING</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d08/library_8h_source.html#l00100">library.h:100</a></div></div>
<div class="ttc" id="alibrary_8h_html_a2fb4e7d7196f39a5ce0e9c71b2d78991ac9c5d9c3aab50d7e6d1d38b1bb7d6d0f"><div class="ttname"><a href="../../dd/d08/library_8h.html#a2fb4e7d7196f39a5ce0e9c71b2d78991ac9c5d9c3aab50d7e6d1d38b1bb7d6d0f">OBSWS_STATE_AUTHENTICATING</a></div><div class="ttdeci">@ OBSWS_STATE_AUTHENTICATING</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d08/library_8h_source.html#l00101">library.h:101</a></div></div>
<div class="ttc" id="alibrary_8h_html_a2fb4e7d7196f39a5ce0e9c71b2d78991adbaae08035175b470fb9f543414672b8"><div class="ttname"><a href="../../dd/d08/library_8h.html#a2fb4e7d7196f39a5ce0e9c71b2d78991adbaae08035175b470fb9f543414672b8">OBSWS_STATE_CONNECTED</a></div><div class="ttdeci">@ OBSWS_STATE_CONNECTED</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d08/library_8h_source.html#l00102">library.h:102</a></div></div>
<div class="ttc" id="alibrary_8h_html_a2fb4e7d7196f39a5ce0e9c71b2d78991ae13bce21841139a7510b1c8b10a694ac"><div class="ttname"><a href="../../dd/d08/library_8h.html#a2fb4e7d7196f39a5ce0e9c71b2d78991ae13bce21841139a7510b1c8b10a694ac">OBSWS_STATE_ERROR</a></div><div class="ttdeci">@ OBSWS_STATE_ERROR</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d08/library_8h_source.html#l00104">library.h:103</a></div></div>
<div class="ttc" id="alibrary_8h_html_a2fb4e7d7196f39a5ce0e9c71b2d78991af973d2b8b0a498d0bbffb40ccab1ef2d"><div class="ttname"><a href="../../dd/d08/library_8h.html#a2fb4e7d7196f39a5ce0e9c71b2d78991af973d2b8b0a498d0bbffb40ccab1ef2d">OBSWS_STATE_DISCONNECTED</a></div><div class="ttdeci">@ OBSWS_STATE_DISCONNECTED</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d08/library_8h_source.html#l00099">library.h:99</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="ad3afe1c77e8b8f26a8281186379790a1" name="ad3afe1c77e8b8f26a8281186379790a1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad3afe1c77e8b8f26a8281186379790a1">&#9670;&nbsp;</a></span>obsws_cleanup()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void obsws_cleanup </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Cleanup the OBS WebSocket library. </p>
<p >Call this when done using the library to release resources. Any connections should be disconnected before cleanup, though the library will try to clean them up if they're not. After calling this, don't use any library functions until you call <a class="el" href="../../dd/d08/library_8h.html#aff3d6c035330741df84552800c0d0124" title="Initialize the OBS WebSocket library.">obsws_init()</a> again.</p>
<dl class="section note"><dt>Note</dt><dd>It's safe to call this multiple times. </dd>
<dd>
You should <a class="el" href="../../dd/d08/library_8h.html#aa8389ba6731e01a9426bd921180b7195" title="Disconnect and destroy a connection.">obsws_disconnect()</a> all connections before calling this. </dd>
<dd>
Threads should exit before calling cleanup - don't cleanup while callbacks are running.</dd></dl>
<p>Cleanup the OBS WebSocket library.</p>
<p >Call this when you're done with the library to deallocate OpenSSL resources. This is a counterpart to <a class="el" href="../../dd/d08/library_8h.html#aff3d6c035330741df84552800c0d0124" title="Initialize the OBS WebSocket library.">obsws_init()</a>.</p>
<p >Important: Make sure all obsws_connection_t objects have been disconnected and freed via <a class="el" href="../../dd/d08/library_8h.html#aa8389ba6731e01a9426bd921180b7195" title="Disconnect and destroy a connection.">obsws_disconnect()</a> before calling this. If not, you might have dangling references and resource leaks.</p>
<p >Thread safety: This function is thread-safe and idempotent (safe to call multiple times). It checks g_library_initialized before doing anything.</p>
<p >Note: This is optional on program exit because the OS will clean up memory anyway. But it's good practice for:</p><ul>
<li>Library consumers that need clean shutdown</li>
<li>Memory leak detectors / Valgrind tests</li>
<li>Programs that unload the library</li>
</ul>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="../../dd/d08/library_8h.html#aff3d6c035330741df84552800c0d0124" title="Initialize the OBS WebSocket library.">obsws_init</a> </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d5/d27/library_8c_source.html#l01237">1237</a> of file <a class="el" href="../../d5/d27/library_8c_source.html">library.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1237</span>                         {</div>
<div class="line"><span class="lineno"> 1238</span>    pthread_mutex_lock(&amp;<a class="code hl_variable" href="../../d5/d27/library_8c.html#ad5f633670e2eea3285c1867570a33cbc">g_init_mutex</a>);</div>
<div class="line"><span class="lineno"> 1239</span>    </div>
<div class="line"><span class="lineno"> 1240</span>    <span class="keywordflow">if</span> (!<a class="code hl_variable" href="../../d5/d27/library_8c.html#a5c573cf80a65ed908b966420c4a5d7d2">g_library_initialized</a>) {</div>
<div class="line"><span class="lineno"> 1241</span>        pthread_mutex_unlock(&amp;<a class="code hl_variable" href="../../d5/d27/library_8c.html#ad5f633670e2eea3285c1867570a33cbc">g_init_mutex</a>);</div>
<div class="line"><span class="lineno"> 1242</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 1243</span>    }</div>
<div class="line"><span class="lineno"> 1244</span>    </div>
<div class="line"><span class="lineno"> 1245</span>    EVP_cleanup();</div>
<div class="line"><span class="lineno"> 1246</span>    <a class="code hl_variable" href="../../d5/d27/library_8c.html#a5c573cf80a65ed908b966420c4a5d7d2">g_library_initialized</a> = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1247</span>    </div>
<div class="line"><span class="lineno"> 1248</span>    pthread_mutex_unlock(&amp;<a class="code hl_variable" href="../../d5/d27/library_8c.html#ad5f633670e2eea3285c1867570a33cbc">g_init_mutex</a>);</div>
<div class="line"><span class="lineno"> 1249</span>}</div>
<div class="ttc" id="alibrary_8c_html_a5c573cf80a65ed908b966420c4a5d7d2"><div class="ttname"><a href="../../d5/d27/library_8c.html#a5c573cf80a65ed908b966420c4a5d7d2">g_library_initialized</a></div><div class="ttdeci">static bool g_library_initialized</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d27/library_8c_source.html#l00251">library.c:251</a></div></div>
<div class="ttc" id="alibrary_8c_html_ad5f633670e2eea3285c1867570a33cbc"><div class="ttname"><a href="../../d5/d27/library_8c.html#ad5f633670e2eea3285c1867570a33cbc">g_init_mutex</a></div><div class="ttdeci">static pthread_mutex_t g_init_mutex</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d27/library_8c_source.html#l00254">library.c:254</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a1f1c69172bbf706ac225b718797d30c6" name="a1f1c69172bbf706ac225b718797d30c6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1f1c69172bbf706ac225b718797d30c6">&#9670;&nbsp;</a></span>obsws_config_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void obsws_config_init </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dc/de7/structobsws__config__t.html">obsws_config_t</a> *&#160;</td>
          <td class="paramname"><em>config</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create a default configuration structure with reasonable defaults. </p>
<p >This initializes a config structure with settings that should work for most cases. You then modify only the fields you care about. This is better than manually setting each field because if we add new config options in the future, you'll automatically get the right defaults without changing your code.</p>
<p >After calling this, typically you'd set: config.host = "192.168.1.100"; config.port = 4455; config.password = "your-obs-password";</p>
<p >Then pass it to <a class="el" href="../../dd/d08/library_8h.html#a7ed7225961f0989acb31ebbd9c099626" title="Establish a connection to OBS.">obsws_connect()</a>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">config</td><td>Pointer to configuration structure to fill with defaults</td></tr>
  </table>
  </dd>
</dl>
<p>Create a default configuration structure with reasonable defaults.</p>
<p >Before calling <a class="el" href="../../dd/d08/library_8h.html#a7ed7225961f0989acb31ebbd9c099626" title="Establish a connection to OBS.">obsws_connect()</a>, you create an <a class="el" href="../../dc/de7/structobsws__config__t.html" title="Connection configuration structure.">obsws_config_t</a> structure with the connection parameters. This function initializes that structure with sensible defaults so you only need to change what's different for your use case.</p>
<p >Default values set:</p><ul>
<li>port: 4455 (OBS WebSocket v5 default port)</li>
<li>use_ssl: false (OBS uses ws://, not wss://)</li>
<li>connect_timeout_ms: 5000 (5 seconds to connect)</li>
<li>recv_timeout_ms: 5000 (5 seconds to receive each message)</li>
<li>send_timeout_ms: 5000 (5 seconds to send each message)</li>
<li>ping_interval_ms: 10000 (send ping every 10 seconds)</li>
<li>ping_timeout_ms: 5000 (expect pong within 5 seconds)</li>
<li>auto_reconnect: true (reconnect automatically if connection drops)</li>
<li>reconnect_delay_ms: 1000 (start with 1 second delay)</li>
<li>max_reconnect_delay_ms: 30000 (max wait is 30 seconds)</li>
<li>max_reconnect_attempts: 0 (infinite attempts)</li>
</ul>
<p >After calling this, you typically set:</p><ul>
<li>config.host = "localhost" (where OBS is running)</li>
<li>config.password = "your_password" (if OBS has auth enabled)</li>
<li>config.event_callback = your_callback_func (to receive events)</li>
</ul>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">config</td><td>Pointer to structure to initialize (must not be NULL)</td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="../../dd/d08/library_8h.html#a7ed7225961f0989acb31ebbd9c099626" title="Establish a connection to OBS.">obsws_connect</a> </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d5/d27/library_8c_source.html#l01367">1367</a> of file <a class="el" href="../../d5/d27/library_8c_source.html">library.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1367</span>                                               {</div>
<div class="line"><span class="lineno"> 1368</span>    memset(config, 0, <span class="keyword">sizeof</span>(<a class="code hl_struct" href="../../dc/de7/structobsws__config__t.html">obsws_config_t</a>));</div>
<div class="line"><span class="lineno"> 1369</span>    </div>
<div class="line"><span class="lineno"> 1370</span>    config-&gt;<a class="code hl_variable" href="../../dc/de7/structobsws__config__t.html#a7355cf2fb949f6d4391b6c2c605c9073">port</a> = 4455;</div>
<div class="line"><span class="lineno"> 1371</span>    config-&gt;<a class="code hl_variable" href="../../dc/de7/structobsws__config__t.html#a1070992d75f19a3fd4567754d37b9290">use_ssl</a> = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1372</span>    config-&gt;<a class="code hl_variable" href="../../dc/de7/structobsws__config__t.html#ab7ca748ce58419a7c8b6b6dc440d3387">connect_timeout_ms</a> = 5000;</div>
<div class="line"><span class="lineno"> 1373</span>    config-&gt;<a class="code hl_variable" href="../../dc/de7/structobsws__config__t.html#a6439a4274026273ba5fb9786c90daa93">recv_timeout_ms</a> = 5000;</div>
<div class="line"><span class="lineno"> 1374</span>    config-&gt;<a class="code hl_variable" href="../../dc/de7/structobsws__config__t.html#a5e99af1526aaa66f76b71c3948b5b294">send_timeout_ms</a> = 5000;</div>
<div class="line"><span class="lineno"> 1375</span>    config-&gt;<a class="code hl_variable" href="../../dc/de7/structobsws__config__t.html#a74ee702373489ff1ea1289e87d50e469">ping_interval_ms</a> = 10000;</div>
<div class="line"><span class="lineno"> 1376</span>    config-&gt;<a class="code hl_variable" href="../../dc/de7/structobsws__config__t.html#a806599d35ea8d3fc9c7140e76adf1c1a">ping_timeout_ms</a> = 5000;</div>
<div class="line"><span class="lineno"> 1377</span>    config-&gt;<a class="code hl_variable" href="../../dc/de7/structobsws__config__t.html#a5be1729ffbc28b3e036315f06e80a7a8">auto_reconnect</a> = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 1378</span>    config-&gt;<a class="code hl_variable" href="../../dc/de7/structobsws__config__t.html#a5ccd3a828a3fcad6d6ebedc0324c4aee">reconnect_delay_ms</a> = 1000;</div>
<div class="line"><span class="lineno"> 1379</span>    config-&gt;<a class="code hl_variable" href="../../dc/de7/structobsws__config__t.html#ae4f46d4b683af271b1ba69e335fb7e3c">max_reconnect_delay_ms</a> = 30000;</div>
<div class="line"><span class="lineno"> 1380</span>    config-&gt;<a class="code hl_variable" href="../../dc/de7/structobsws__config__t.html#a1aff4f0ff9ac25c5d63772eb91d443ac">max_reconnect_attempts</a> = 0; <span class="comment">/* Infinite */</span></div>
<div class="line"><span class="lineno"> 1381</span>}</div>
<div class="ttc" id="astructobsws__config__t_html"><div class="ttname"><a href="../../dc/de7/structobsws__config__t.html">obsws_config_t</a></div><div class="ttdoc">Connection configuration structure.</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d08/library_8h_source.html#l00237">library.h:237</a></div></div>
<div class="ttc" id="astructobsws__config__t_html_a1070992d75f19a3fd4567754d37b9290"><div class="ttname"><a href="../../dc/de7/structobsws__config__t.html#a1070992d75f19a3fd4567754d37b9290">obsws_config_t::use_ssl</a></div><div class="ttdeci">bool use_ssl</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d08/library_8h_source.html#l00242">library.h:242</a></div></div>
<div class="ttc" id="astructobsws__config__t_html_a1aff4f0ff9ac25c5d63772eb91d443ac"><div class="ttname"><a href="../../dc/de7/structobsws__config__t.html#a1aff4f0ff9ac25c5d63772eb91d443ac">obsws_config_t::max_reconnect_attempts</a></div><div class="ttdeci">uint32_t max_reconnect_attempts</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d08/library_8h_source.html#l00264">library.h:264</a></div></div>
<div class="ttc" id="astructobsws__config__t_html_a5be1729ffbc28b3e036315f06e80a7a8"><div class="ttname"><a href="../../dc/de7/structobsws__config__t.html#a5be1729ffbc28b3e036315f06e80a7a8">obsws_config_t::auto_reconnect</a></div><div class="ttdeci">bool auto_reconnect</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d08/library_8h_source.html#l00261">library.h:261</a></div></div>
<div class="ttc" id="astructobsws__config__t_html_a5ccd3a828a3fcad6d6ebedc0324c4aee"><div class="ttname"><a href="../../dc/de7/structobsws__config__t.html#a5ccd3a828a3fcad6d6ebedc0324c4aee">obsws_config_t::reconnect_delay_ms</a></div><div class="ttdeci">uint32_t reconnect_delay_ms</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d08/library_8h_source.html#l00262">library.h:262</a></div></div>
<div class="ttc" id="astructobsws__config__t_html_a5e99af1526aaa66f76b71c3948b5b294"><div class="ttname"><a href="../../dc/de7/structobsws__config__t.html#a5e99af1526aaa66f76b71c3948b5b294">obsws_config_t::send_timeout_ms</a></div><div class="ttdeci">uint32_t send_timeout_ms</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d08/library_8h_source.html#l00249">library.h:249</a></div></div>
<div class="ttc" id="astructobsws__config__t_html_a6439a4274026273ba5fb9786c90daa93"><div class="ttname"><a href="../../dc/de7/structobsws__config__t.html#a6439a4274026273ba5fb9786c90daa93">obsws_config_t::recv_timeout_ms</a></div><div class="ttdeci">uint32_t recv_timeout_ms</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d08/library_8h_source.html#l00248">library.h:248</a></div></div>
<div class="ttc" id="astructobsws__config__t_html_a7355cf2fb949f6d4391b6c2c605c9073"><div class="ttname"><a href="../../dc/de7/structobsws__config__t.html#a7355cf2fb949f6d4391b6c2c605c9073">obsws_config_t::port</a></div><div class="ttdeci">uint16_t port</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d08/library_8h_source.html#l00240">library.h:240</a></div></div>
<div class="ttc" id="astructobsws__config__t_html_a74ee702373489ff1ea1289e87d50e469"><div class="ttname"><a href="../../dc/de7/structobsws__config__t.html#a74ee702373489ff1ea1289e87d50e469">obsws_config_t::ping_interval_ms</a></div><div class="ttdeci">uint32_t ping_interval_ms</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d08/library_8h_source.html#l00254">library.h:254</a></div></div>
<div class="ttc" id="astructobsws__config__t_html_a806599d35ea8d3fc9c7140e76adf1c1a"><div class="ttname"><a href="../../dc/de7/structobsws__config__t.html#a806599d35ea8d3fc9c7140e76adf1c1a">obsws_config_t::ping_timeout_ms</a></div><div class="ttdeci">uint32_t ping_timeout_ms</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d08/library_8h_source.html#l00255">library.h:255</a></div></div>
<div class="ttc" id="astructobsws__config__t_html_ab7ca748ce58419a7c8b6b6dc440d3387"><div class="ttname"><a href="../../dc/de7/structobsws__config__t.html#ab7ca748ce58419a7c8b6b6dc440d3387">obsws_config_t::connect_timeout_ms</a></div><div class="ttdeci">uint32_t connect_timeout_ms</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d08/library_8h_source.html#l00247">library.h:247</a></div></div>
<div class="ttc" id="astructobsws__config__t_html_ae4f46d4b683af271b1ba69e335fb7e3c"><div class="ttname"><a href="../../dc/de7/structobsws__config__t.html#ae4f46d4b683af271b1ba69e335fb7e3c">obsws_config_t::max_reconnect_delay_ms</a></div><div class="ttdeci">uint32_t max_reconnect_delay_ms</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d08/library_8h_source.html#l00263">library.h:263</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a7ed7225961f0989acb31ebbd9c099626" name="a7ed7225961f0989acb31ebbd9c099626"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7ed7225961f0989acb31ebbd9c099626">&#9670;&nbsp;</a></span>obsws_connect()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../dd/d08/library_8h.html#a81ecb6b2403c8155af2e4edb4716c141">obsws_connection_t</a> * obsws_connect </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../dc/de7/structobsws__config__t.html">obsws_config_t</a> *&#160;</td>
          <td class="paramname"><em>config</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Establish a connection to OBS. </p>
<p >This is the main entry point for using the library. You provide a configuration structure (initialized with obsws_config_init and then customized), and this function connects to OBS, authenticates if needed, and spawns a background thread to handle incoming messages and events.</p>
<p >The function returns immediately - it doesn't wait for the connection to complete. Instead, it:</p><ol type="1">
<li>Creates a connection structure with the provided config</li>
<li>Allocates buffers for sending and receiving messages</li>
<li>Creates a libwebsockets context and connects to OBS</li>
<li>Spawns a background event_thread to process WebSocket messages</li>
<li>Returns the connection handle</li>
</ol>
<p >Connection states: The connection progresses through states:</p><ul>
<li>DISCONNECTED -&gt; CONNECTING (TCP handshake, WebSocket upgrade)</li>
<li>CONNECTING -&gt; AUTHENTICATING (receive HELLO, send IDENTIFY)</li>
<li>AUTHENTICATING -&gt; CONNECTED (receive IDENTIFIED)</li>
</ul>
<p >You don't have to wait for CONNECTED state before calling obsws_send_request, but requests sent while not connected will return OBSWS_ERROR_NOT_CONNECTED.</p>
<p >Memory ownership: The connection structure is allocated and owned by this function. You must free it by calling <a class="el" href="../../d5/d27/library_8c.html#aa8389ba6731e01a9426bd921180b7195" title="Disconnect from OBS and clean up connection resources.">obsws_disconnect()</a>. Don't free it directly with free() - that will cause memory leaks (threads won't be cleaned up properly).</p>
<p >Error cases:</p><ul>
<li>NULL config or config-&gt;host: Returns NULL</li>
<li>libwebsockets context creation fails: Returns NULL and logs error</li>
<li>Network connection fails: Returns valid pointer but connection stays in ERROR state</li>
<li>Bad password: Returns valid pointer but stays in AUTHENTICATING (never reaches CONNECTED)</li>
</ul>
<p >Note: This function calls <a class="el" href="../../d5/d27/library_8c.html#aff3d6c035330741df84552800c0d0124" title="Initialize the libwsv5 library.">obsws_init()</a> automatically if the library isn't already initialized.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">config</td><td>Pointer to initialized <a class="el" href="../../dc/de7/structobsws__config__t.html" title="Connection configuration structure.">obsws_config_t</a> with connection parameters </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Pointer to new connection handle, or NULL if creation failed</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="../../d5/d27/library_8c.html#aa8389ba6731e01a9426bd921180b7195" title="Disconnect from OBS and clean up connection resources.">obsws_disconnect</a>, <a class="el" href="../../d5/d27/library_8c.html#a61a10e31041532a9da0c1c1993f84a79" title="Get the current connection state.">obsws_get_state</a>, <a class="el" href="../../d5/d27/library_8c.html#af2fd7f8dd928e03b38a3e2c5b5745417" title="Send a synchronous request to OBS and wait for the response.">obsws_send_request</a> </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d5/d27/library_8c_source.html#l01425">1425</a> of file <a class="el" href="../../d5/d27/library_8c_source.html">library.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1425</span>                                                                {</div>
<div class="line"><span class="lineno"> 1426</span>    <span class="keywordflow">if</span> (!<a class="code hl_variable" href="../../d5/d27/library_8c.html#a5c573cf80a65ed908b966420c4a5d7d2">g_library_initialized</a>) {</div>
<div class="line"><span class="lineno"> 1427</span>        <a class="code hl_function" href="../../d5/d27/library_8c.html#aff3d6c035330741df84552800c0d0124">obsws_init</a>();</div>
<div class="line"><span class="lineno"> 1428</span>    }</div>
<div class="line"><span class="lineno"> 1429</span>    </div>
<div class="line"><span class="lineno"> 1430</span>    <span class="keywordflow">if</span> (!config || !config-&gt;<a class="code hl_variable" href="../../dc/de7/structobsws__config__t.html#af632161e8b6cf2d7c1baf7fc80859d48">host</a>) {</div>
<div class="line"><span class="lineno"> 1431</span>        <span class="keywordflow">return</span> NULL;</div>
<div class="line"><span class="lineno"> 1432</span>    }</div>
<div class="line"><span class="lineno"> 1433</span>    </div>
<div class="line"><span class="lineno"> 1434</span>    <a class="code hl_struct" href="../../d5/d88/structobsws__connection.html">obsws_connection_t</a> *conn = calloc(1, <span class="keyword">sizeof</span>(<a class="code hl_struct" href="../../d5/d88/structobsws__connection.html">obsws_connection_t</a>));</div>
<div class="line"><span class="lineno"> 1435</span>    <span class="keywordflow">if</span> (!conn) <span class="keywordflow">return</span> NULL;</div>
<div class="line"><span class="lineno"> 1436</span>    </div>
<div class="line"><span class="lineno"> 1437</span>    <span class="comment">/* Copy configuration */</span></div>
<div class="line"><span class="lineno"> 1438</span>    memcpy(&amp;conn-&gt;<a class="code hl_variable" href="../../d5/d88/structobsws__connection.html#aaa5cf000b991e623632977c379314d89">config</a>, config, <span class="keyword">sizeof</span>(<a class="code hl_struct" href="../../dc/de7/structobsws__config__t.html">obsws_config_t</a>));</div>
<div class="line"><span class="lineno"> 1439</span>    <span class="keywordflow">if</span> (config-&gt;<a class="code hl_variable" href="../../dc/de7/structobsws__config__t.html#af632161e8b6cf2d7c1baf7fc80859d48">host</a>) conn-&gt;<a class="code hl_variable" href="../../d5/d88/structobsws__connection.html#aaa5cf000b991e623632977c379314d89">config</a>.<a class="code hl_variable" href="../../dc/de7/structobsws__config__t.html#af632161e8b6cf2d7c1baf7fc80859d48">host</a> = strdup(config-&gt;<a class="code hl_variable" href="../../dc/de7/structobsws__config__t.html#af632161e8b6cf2d7c1baf7fc80859d48">host</a>);</div>
<div class="line"><span class="lineno"> 1440</span>    <span class="keywordflow">if</span> (config-&gt;<a class="code hl_variable" href="../../dc/de7/structobsws__config__t.html#a53ed762a113bb2a27b3ffab06a5c02ee">password</a>) conn-&gt;<a class="code hl_variable" href="../../d5/d88/structobsws__connection.html#aaa5cf000b991e623632977c379314d89">config</a>.<a class="code hl_variable" href="../../dc/de7/structobsws__config__t.html#a53ed762a113bb2a27b3ffab06a5c02ee">password</a> = strdup(config-&gt;<a class="code hl_variable" href="../../dc/de7/structobsws__config__t.html#a53ed762a113bb2a27b3ffab06a5c02ee">password</a>);</div>
<div class="line"><span class="lineno"> 1441</span>    </div>
<div class="line"><span class="lineno"> 1442</span>    <span class="comment">/* Initialize mutexes */</span></div>
<div class="line"><span class="lineno"> 1443</span>    pthread_mutex_init(&amp;conn-&gt;<a class="code hl_variable" href="../../d5/d88/structobsws__connection.html#aa2752abaf5b201277fae73b42c78c8e6">state_mutex</a>, NULL);</div>
<div class="line"><span class="lineno"> 1444</span>    pthread_mutex_init(&amp;conn-&gt;<a class="code hl_variable" href="../../d5/d88/structobsws__connection.html#afc665d5d6864f038f551e4e7d4aae679">send_mutex</a>, NULL);</div>
<div class="line"><span class="lineno"> 1445</span>    pthread_mutex_init(&amp;conn-&gt;<a class="code hl_variable" href="../../d5/d88/structobsws__connection.html#a5be49ce76c72f09948fdf9c520eb133c">requests_mutex</a>, NULL);</div>
<div class="line"><span class="lineno"> 1446</span>    pthread_mutex_init(&amp;conn-&gt;<a class="code hl_variable" href="../../d5/d88/structobsws__connection.html#ab29e2a357e95b536a2c79b0990614bc5">stats_mutex</a>, NULL);</div>
<div class="line"><span class="lineno"> 1447</span>    pthread_mutex_init(&amp;conn-&gt;<a class="code hl_variable" href="../../d5/d88/structobsws__connection.html#a4343875c5de5530580e13fb1b528cf35">scene_mutex</a>, NULL);</div>
<div class="line"><span class="lineno"> 1448</span>    </div>
<div class="line"><span class="lineno"> 1449</span>    <span class="comment">/* Allocate buffers */</span></div>
<div class="line"><span class="lineno"> 1450</span>    conn-&gt;<a class="code hl_variable" href="../../d5/d88/structobsws__connection.html#ac3cdc6c4de9ae6aed16d3aac13effe78">recv_buffer_size</a> = <a class="code hl_define" href="../../d5/d27/library_8c.html#a665c5272405e81329a26d2db1a7d5d97">OBSWS_DEFAULT_BUFFER_SIZE</a>;</div>
<div class="line"><span class="lineno"> 1451</span>    conn-&gt;<a class="code hl_variable" href="../../d5/d88/structobsws__connection.html#a89f2bbc96729ab308290da8959534d18">recv_buffer</a> = malloc(conn-&gt;<a class="code hl_variable" href="../../d5/d88/structobsws__connection.html#ac3cdc6c4de9ae6aed16d3aac13effe78">recv_buffer_size</a>);</div>
<div class="line"><span class="lineno"> 1452</span>    conn-&gt;<a class="code hl_variable" href="../../d5/d88/structobsws__connection.html#a60f4507eac7295e16ece7c2a97c910d6">send_buffer_size</a> = <a class="code hl_define" href="../../d5/d27/library_8c.html#a665c5272405e81329a26d2db1a7d5d97">OBSWS_DEFAULT_BUFFER_SIZE</a>;</div>
<div class="line"><span class="lineno"> 1453</span>    conn-&gt;<a class="code hl_variable" href="../../d5/d88/structobsws__connection.html#a14a61d0e27a8cac772ce173dd31d4fb7">send_buffer</a> = malloc(conn-&gt;<a class="code hl_variable" href="../../d5/d88/structobsws__connection.html#a60f4507eac7295e16ece7c2a97c910d6">send_buffer_size</a>);</div>
<div class="line"><span class="lineno"> 1454</span>    </div>
<div class="line"><span class="lineno"> 1455</span>    conn-&gt;<a class="code hl_variable" href="../../d5/d88/structobsws__connection.html#adad7d0fb4880543b1f5b5e897010d814">state</a> = <a class="code hl_enumvalue" href="../../dd/d08/library_8h.html#a2fb4e7d7196f39a5ce0e9c71b2d78991af973d2b8b0a498d0bbffb40ccab1ef2d">OBSWS_STATE_DISCONNECTED</a>;</div>
<div class="line"><span class="lineno"> 1456</span>    conn-&gt;<a class="code hl_variable" href="../../d5/d88/structobsws__connection.html#a32b971d76cdd4c2b166ff19135601776">current_reconnect_delay</a> = config-&gt;<a class="code hl_variable" href="../../dc/de7/structobsws__config__t.html#a5ccd3a828a3fcad6d6ebedc0324c4aee">reconnect_delay_ms</a>;</div>
<div class="line"><span class="lineno"> 1457</span>    </div>
<div class="line"><span class="lineno"> 1458</span>    <span class="comment">/* Create libwebsockets context */</span></div>
<div class="line"><span class="lineno"> 1459</span>    <span class="keyword">struct </span>lws_context_creation_info info;</div>
<div class="line"><span class="lineno"> 1460</span>    memset(&amp;info, 0, <span class="keyword">sizeof</span>(info));</div>
<div class="line"><span class="lineno"> 1461</span>    </div>
<div class="line"><span class="lineno"> 1462</span>    info.port = CONTEXT_PORT_NO_LISTEN;</div>
<div class="line"><span class="lineno"> 1463</span>    info.protocols = <a class="code hl_variable" href="../../d5/d27/library_8c.html#ad34f3c7a416fe0d9311efdc5715410e1">protocols</a>;</div>
<div class="line"><span class="lineno"> 1464</span>    info.gid = -1;</div>
<div class="line"><span class="lineno"> 1465</span>    info.uid = -1;</div>
<div class="line"><span class="lineno"> 1466</span>    info.options = LWS_SERVER_OPTION_DO_SSL_GLOBAL_INIT;</div>
<div class="line"><span class="lineno"> 1467</span>    </div>
<div class="line"><span class="lineno"> 1468</span>    conn-&gt;<a class="code hl_variable" href="../../d5/d88/structobsws__connection.html#a2f876a0ab0ad0e5e012444a806aa3490">lws_context</a> = lws_create_context(&amp;info);</div>
<div class="line"><span class="lineno"> 1469</span>    <span class="keywordflow">if</span> (!conn-&gt;<a class="code hl_variable" href="../../d5/d88/structobsws__connection.html#a2f876a0ab0ad0e5e012444a806aa3490">lws_context</a>) {</div>
<div class="line"><span class="lineno"> 1470</span>        <a class="code hl_function" href="../../d5/d27/library_8c.html#a1d8529feb33753ebb45d896c4c125642">obsws_log</a>(conn, <a class="code hl_enumvalue" href="../../dd/d08/library_8h.html#afbee3b6b991e705309ea19fd5fb0bff9a6a2a374e4af0446011df30bfd09e329e">OBSWS_LOG_ERROR</a>, <span class="stringliteral">&quot;Failed to create libwebsockets context&quot;</span>);</div>
<div class="line"><span class="lineno"> 1471</span>        free(conn-&gt;<a class="code hl_variable" href="../../d5/d88/structobsws__connection.html#a89f2bbc96729ab308290da8959534d18">recv_buffer</a>);</div>
<div class="line"><span class="lineno"> 1472</span>        free(conn-&gt;<a class="code hl_variable" href="../../d5/d88/structobsws__connection.html#a14a61d0e27a8cac772ce173dd31d4fb7">send_buffer</a>);</div>
<div class="line"><span class="lineno"> 1473</span>        free(conn);</div>
<div class="line"><span class="lineno"> 1474</span>        <span class="keywordflow">return</span> NULL;</div>
<div class="line"><span class="lineno"> 1475</span>    }</div>
<div class="line"><span class="lineno"> 1476</span>    </div>
<div class="line"><span class="lineno"> 1477</span>    <span class="comment">/* Connect to OBS */</span></div>
<div class="line"><span class="lineno"> 1478</span>    <span class="keyword">struct </span>lws_client_connect_info ccinfo;</div>
<div class="line"><span class="lineno"> 1479</span>    memset(&amp;ccinfo, 0, <span class="keyword">sizeof</span>(ccinfo));</div>
<div class="line"><span class="lineno"> 1480</span>    </div>
<div class="line"><span class="lineno"> 1481</span>    ccinfo.context = conn-&gt;<a class="code hl_variable" href="../../d5/d88/structobsws__connection.html#a2f876a0ab0ad0e5e012444a806aa3490">lws_context</a>;</div>
<div class="line"><span class="lineno"> 1482</span>    ccinfo.address = conn-&gt;<a class="code hl_variable" href="../../d5/d88/structobsws__connection.html#aaa5cf000b991e623632977c379314d89">config</a>.<a class="code hl_variable" href="../../dc/de7/structobsws__config__t.html#af632161e8b6cf2d7c1baf7fc80859d48">host</a>;</div>
<div class="line"><span class="lineno"> 1483</span>    ccinfo.port = conn-&gt;<a class="code hl_variable" href="../../d5/d88/structobsws__connection.html#aaa5cf000b991e623632977c379314d89">config</a>.<a class="code hl_variable" href="../../dc/de7/structobsws__config__t.html#a7355cf2fb949f6d4391b6c2c605c9073">port</a>;</div>
<div class="line"><span class="lineno"> 1484</span>    ccinfo.path = <span class="stringliteral">&quot;/&quot;</span>;</div>
<div class="line"><span class="lineno"> 1485</span>    ccinfo.host = ccinfo.address;</div>
<div class="line"><span class="lineno"> 1486</span>    ccinfo.origin = ccinfo.address;</div>
<div class="line"><span class="lineno"> 1487</span>    ccinfo.protocol = <a class="code hl_variable" href="../../d5/d27/library_8c.html#ad34f3c7a416fe0d9311efdc5715410e1">protocols</a>[0].name;</div>
<div class="line"><span class="lineno"> 1488</span>    ccinfo.userdata = conn;</div>
<div class="line"><span class="lineno"> 1489</span>    </div>
<div class="line"><span class="lineno"> 1490</span>    <span class="keywordflow">if</span> (config-&gt;<a class="code hl_variable" href="../../dc/de7/structobsws__config__t.html#a1070992d75f19a3fd4567754d37b9290">use_ssl</a>) {</div>
<div class="line"><span class="lineno"> 1491</span>        ccinfo.ssl_connection = LCCSCF_USE_SSL;</div>
<div class="line"><span class="lineno"> 1492</span>    }</div>
<div class="line"><span class="lineno"> 1493</span>    </div>
<div class="line"><span class="lineno"> 1494</span>    conn-&gt;<a class="code hl_variable" href="../../d5/d88/structobsws__connection.html#aaf49ac1578fc794ee4b01ccbf9edc35a">wsi</a> = lws_client_connect_via_info(&amp;ccinfo);</div>
<div class="line"><span class="lineno"> 1495</span>    <span class="keywordflow">if</span> (!conn-&gt;<a class="code hl_variable" href="../../d5/d88/structobsws__connection.html#aaf49ac1578fc794ee4b01ccbf9edc35a">wsi</a>) {</div>
<div class="line"><span class="lineno"> 1496</span>        <a class="code hl_function" href="../../d5/d27/library_8c.html#a1d8529feb33753ebb45d896c4c125642">obsws_log</a>(conn, <a class="code hl_enumvalue" href="../../dd/d08/library_8h.html#afbee3b6b991e705309ea19fd5fb0bff9a6a2a374e4af0446011df30bfd09e329e">OBSWS_LOG_ERROR</a>, <span class="stringliteral">&quot;Failed to initiate connection&quot;</span>);</div>
<div class="line"><span class="lineno"> 1497</span>        lws_context_destroy(conn-&gt;<a class="code hl_variable" href="../../d5/d88/structobsws__connection.html#a2f876a0ab0ad0e5e012444a806aa3490">lws_context</a>);</div>
<div class="line"><span class="lineno"> 1498</span>        free(conn-&gt;<a class="code hl_variable" href="../../d5/d88/structobsws__connection.html#a89f2bbc96729ab308290da8959534d18">recv_buffer</a>);</div>
<div class="line"><span class="lineno"> 1499</span>        free(conn-&gt;<a class="code hl_variable" href="../../d5/d88/structobsws__connection.html#a14a61d0e27a8cac772ce173dd31d4fb7">send_buffer</a>);</div>
<div class="line"><span class="lineno"> 1500</span>        free(conn);</div>
<div class="line"><span class="lineno"> 1501</span>        <span class="keywordflow">return</span> NULL;</div>
<div class="line"><span class="lineno"> 1502</span>    }</div>
<div class="line"><span class="lineno"> 1503</span>    </div>
<div class="line"><span class="lineno"> 1504</span>    <span class="comment">/* Start event thread - protect flags with mutex */</span></div>
<div class="line"><span class="lineno"> 1505</span>    pthread_mutex_lock(&amp;conn-&gt;<a class="code hl_variable" href="../../d5/d88/structobsws__connection.html#aa2752abaf5b201277fae73b42c78c8e6">state_mutex</a>);</div>
<div class="line"><span class="lineno"> 1506</span>    conn-&gt;<a class="code hl_variable" href="../../d5/d88/structobsws__connection.html#afbc2be09cbcbbe17561e400babd084e2">thread_running</a> = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 1507</span>    conn-&gt;<a class="code hl_variable" href="../../d5/d88/structobsws__connection.html#a6aa5a0ce7b42fc1cd72385181ca43454">should_exit</a> = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1508</span>    pthread_mutex_unlock(&amp;conn-&gt;<a class="code hl_variable" href="../../d5/d88/structobsws__connection.html#aa2752abaf5b201277fae73b42c78c8e6">state_mutex</a>);</div>
<div class="line"><span class="lineno"> 1509</span>    </div>
<div class="line"><span class="lineno"> 1510</span>    pthread_create(&amp;conn-&gt;<a class="code hl_variable" href="../../d5/d88/structobsws__connection.html#a160a7f93e6caf0da1bc2f4dbe48fbb41">event_thread</a>, NULL, <a class="code hl_function" href="../../d5/d27/library_8c.html#a27739efcea1287611c82ff3e8c88d7b7">event_thread_func</a>, conn);</div>
<div class="line"><span class="lineno"> 1511</span>    </div>
<div class="line"><span class="lineno"> 1512</span>    <a class="code hl_function" href="../../d5/d27/library_8c.html#a1d8529feb33753ebb45d896c4c125642">obsws_log</a>(conn, <a class="code hl_enumvalue" href="../../dd/d08/library_8h.html#afbee3b6b991e705309ea19fd5fb0bff9ae48017bf78390a3df8cd87a24782c421">OBSWS_LOG_INFO</a>, <span class="stringliteral">&quot;Connecting to OBS at %s:%d&quot;</span>, config-&gt;<a class="code hl_variable" href="../../dc/de7/structobsws__config__t.html#af632161e8b6cf2d7c1baf7fc80859d48">host</a>, config-&gt;<a class="code hl_variable" href="../../dc/de7/structobsws__config__t.html#a7355cf2fb949f6d4391b6c2c605c9073">port</a>);</div>
<div class="line"><span class="lineno"> 1513</span>    </div>
<div class="line"><span class="lineno"> 1514</span>    <span class="keywordflow">return</span> conn;</div>
<div class="line"><span class="lineno"> 1515</span>}</div>
<div class="ttc" id="alibrary_8c_html_a1d8529feb33753ebb45d896c4c125642"><div class="ttname"><a href="../../d5/d27/library_8c.html#a1d8529feb33753ebb45d896c4c125642">obsws_log</a></div><div class="ttdeci">static void obsws_log(obsws_connection_t *conn, obsws_log_level_t level, const char *format,...)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d27/library_8c_source.html#l00270">library.c:270</a></div></div>
<div class="ttc" id="alibrary_8c_html_a27739efcea1287611c82ff3e8c88d7b7"><div class="ttname"><a href="../../d5/d27/library_8c.html#a27739efcea1287611c82ff3e8c88d7b7">event_thread_func</a></div><div class="ttdeci">static void * event_thread_func(void *arg)</div><div class="ttdoc">Background thread function that continuously processes WebSocket events.</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d27/library_8c_source.html#l01131">library.c:1131</a></div></div>
<div class="ttc" id="alibrary_8c_html_a665c5272405e81329a26d2db1a7d5d97"><div class="ttname"><a href="../../d5/d27/library_8c.html#a665c5272405e81329a26d2db1a7d5d97">OBSWS_DEFAULT_BUFFER_SIZE</a></div><div class="ttdeci">#define OBSWS_DEFAULT_BUFFER_SIZE</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d27/library_8c_source.html#l00039">library.c:39</a></div></div>
<div class="ttc" id="alibrary_8c_html_ad34f3c7a416fe0d9311efdc5715410e1"><div class="ttname"><a href="../../d5/d27/library_8c.html#ad34f3c7a416fe0d9311efdc5715410e1">protocols</a></div><div class="ttdeci">static const struct lws_protocols protocols[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d27/library_8c_source.html#l01075">library.c:1075</a></div></div>
<div class="ttc" id="alibrary_8c_html_aff3d6c035330741df84552800c0d0124"><div class="ttname"><a href="../../d5/d27/library_8c.html#aff3d6c035330741df84552800c0d0124">obsws_init</a></div><div class="ttdeci">obsws_error_t obsws_init(void)</div><div class="ttdoc">Initialize the libwsv5 library.</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d27/library_8c_source.html#l01196">library.c:1196</a></div></div>
<div class="ttc" id="astructobsws__config__t_html_a53ed762a113bb2a27b3ffab06a5c02ee"><div class="ttname"><a href="../../dc/de7/structobsws__config__t.html#a53ed762a113bb2a27b3ffab06a5c02ee">obsws_config_t::password</a></div><div class="ttdeci">const char * password</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d08/library_8h_source.html#l00241">library.h:241</a></div></div>
<div class="ttc" id="astructobsws__config__t_html_af632161e8b6cf2d7c1baf7fc80859d48"><div class="ttname"><a href="../../dc/de7/structobsws__config__t.html#af632161e8b6cf2d7c1baf7fc80859d48">obsws_config_t::host</a></div><div class="ttdeci">const char * host</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d08/library_8h_source.html#l00239">library.h:239</a></div></div>
<div class="ttc" id="astructobsws__connection_html"><div class="ttname"><a href="../../d5/d88/structobsws__connection.html">obsws_connection</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d27/library_8c_source.html#l00169">library.c:169</a></div></div>
<div class="ttc" id="astructobsws__connection_html_a14a61d0e27a8cac772ce173dd31d4fb7"><div class="ttname"><a href="../../d5/d88/structobsws__connection.html#a14a61d0e27a8cac772ce173dd31d4fb7">obsws_connection::send_buffer</a></div><div class="ttdeci">char * send_buffer</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d27/library_8c_source.html#l00188">library.c:188</a></div></div>
<div class="ttc" id="astructobsws__connection_html_a160a7f93e6caf0da1bc2f4dbe48fbb41"><div class="ttname"><a href="../../d5/d88/structobsws__connection.html#a160a7f93e6caf0da1bc2f4dbe48fbb41">obsws_connection::event_thread</a></div><div class="ttdeci">pthread_t event_thread</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d27/library_8c_source.html#l00194">library.c:194</a></div></div>
<div class="ttc" id="astructobsws__connection_html_a2f876a0ab0ad0e5e012444a806aa3490"><div class="ttname"><a href="../../d5/d88/structobsws__connection.html#a2f876a0ab0ad0e5e012444a806aa3490">obsws_connection::lws_context</a></div><div class="ttdeci">struct lws_context * lws_context</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d27/library_8c_source.html#l00178">library.c:178</a></div></div>
<div class="ttc" id="astructobsws__connection_html_a32b971d76cdd4c2b166ff19135601776"><div class="ttname"><a href="../../d5/d88/structobsws__connection.html#a32b971d76cdd4c2b166ff19135601776">obsws_connection::current_reconnect_delay</a></div><div class="ttdeci">uint32_t current_reconnect_delay</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d27/library_8c_source.html#l00219">library.c:219</a></div></div>
<div class="ttc" id="astructobsws__connection_html_a4343875c5de5530580e13fb1b528cf35"><div class="ttname"><a href="../../d5/d88/structobsws__connection.html#a4343875c5de5530580e13fb1b528cf35">obsws_connection::scene_mutex</a></div><div class="ttdeci">pthread_mutex_t scene_mutex</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d27/library_8c_source.html#l00232">library.c:232</a></div></div>
<div class="ttc" id="astructobsws__connection_html_a5be49ce76c72f09948fdf9c520eb133c"><div class="ttname"><a href="../../d5/d88/structobsws__connection.html#a5be49ce76c72f09948fdf9c520eb133c">obsws_connection::requests_mutex</a></div><div class="ttdeci">pthread_mutex_t requests_mutex</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d27/library_8c_source.html#l00203">library.c:203</a></div></div>
<div class="ttc" id="astructobsws__connection_html_a60f4507eac7295e16ece7c2a97c910d6"><div class="ttname"><a href="../../d5/d88/structobsws__connection.html#a60f4507eac7295e16ece7c2a97c910d6">obsws_connection::send_buffer_size</a></div><div class="ttdeci">size_t send_buffer_size</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d27/library_8c_source.html#l00189">library.c:189</a></div></div>
<div class="ttc" id="astructobsws__connection_html_a6aa5a0ce7b42fc1cd72385181ca43454"><div class="ttname"><a href="../../d5/d88/structobsws__connection.html#a6aa5a0ce7b42fc1cd72385181ca43454">obsws_connection::should_exit</a></div><div class="ttdeci">bool should_exit</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d27/library_8c_source.html#l00197">library.c:197</a></div></div>
<div class="ttc" id="astructobsws__connection_html_a89f2bbc96729ab308290da8959534d18"><div class="ttname"><a href="../../d5/d88/structobsws__connection.html#a89f2bbc96729ab308290da8959534d18">obsws_connection::recv_buffer</a></div><div class="ttdeci">char * recv_buffer</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d27/library_8c_source.html#l00184">library.c:184</a></div></div>
<div class="ttc" id="astructobsws__connection_html_aa2752abaf5b201277fae73b42c78c8e6"><div class="ttname"><a href="../../d5/d88/structobsws__connection.html#aa2752abaf5b201277fae73b42c78c8e6">obsws_connection::state_mutex</a></div><div class="ttdeci">pthread_mutex_t state_mutex</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d27/library_8c_source.html#l00175">library.c:175</a></div></div>
<div class="ttc" id="astructobsws__connection_html_aaa5cf000b991e623632977c379314d89"><div class="ttname"><a href="../../d5/d88/structobsws__connection.html#aaa5cf000b991e623632977c379314d89">obsws_connection::config</a></div><div class="ttdeci">obsws_config_t config</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d27/library_8c_source.html#l00171">library.c:171</a></div></div>
<div class="ttc" id="astructobsws__connection_html_aaf49ac1578fc794ee4b01ccbf9edc35a"><div class="ttname"><a href="../../d5/d88/structobsws__connection.html#aaf49ac1578fc794ee4b01ccbf9edc35a">obsws_connection::wsi</a></div><div class="ttdeci">struct lws * wsi</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d27/library_8c_source.html#l00179">library.c:179</a></div></div>
<div class="ttc" id="astructobsws__connection_html_ab29e2a357e95b536a2c79b0990614bc5"><div class="ttname"><a href="../../d5/d88/structobsws__connection.html#ab29e2a357e95b536a2c79b0990614bc5">obsws_connection::stats_mutex</a></div><div class="ttdeci">pthread_mutex_t stats_mutex</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d27/library_8c_source.html#l00207">library.c:207</a></div></div>
<div class="ttc" id="astructobsws__connection_html_ac3cdc6c4de9ae6aed16d3aac13effe78"><div class="ttname"><a href="../../d5/d88/structobsws__connection.html#ac3cdc6c4de9ae6aed16d3aac13effe78">obsws_connection::recv_buffer_size</a></div><div class="ttdeci">size_t recv_buffer_size</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d27/library_8c_source.html#l00185">library.c:185</a></div></div>
<div class="ttc" id="astructobsws__connection_html_adad7d0fb4880543b1f5b5e897010d814"><div class="ttname"><a href="../../d5/d88/structobsws__connection.html#adad7d0fb4880543b1f5b5e897010d814">obsws_connection::state</a></div><div class="ttdeci">obsws_state_t state</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d27/library_8c_source.html#l00174">library.c:174</a></div></div>
<div class="ttc" id="astructobsws__connection_html_afbc2be09cbcbbe17561e400babd084e2"><div class="ttname"><a href="../../d5/d88/structobsws__connection.html#afbc2be09cbcbbe17561e400babd084e2">obsws_connection::thread_running</a></div><div class="ttdeci">bool thread_running</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d27/library_8c_source.html#l00196">library.c:196</a></div></div>
<div class="ttc" id="astructobsws__connection_html_afc665d5d6864f038f551e4e7d4aae679"><div class="ttname"><a href="../../d5/d88/structobsws__connection.html#afc665d5d6864f038f551e4e7d4aae679">obsws_connection::send_mutex</a></div><div class="ttdeci">pthread_mutex_t send_mutex</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d27/library_8c_source.html#l00195">library.c:195</a></div></div>
</div><!-- fragment --><div id="dynsection-2" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-2-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-2-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-2-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../dd/d08/library_8h_a7ed7225961f0989acb31ebbd9c099626_cgraph.svg" width="534" height="139"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="aa8389ba6731e01a9426bd921180b7195" name="aa8389ba6731e01a9426bd921180b7195"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa8389ba6731e01a9426bd921180b7195">&#9670;&nbsp;</a></span>obsws_disconnect()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void obsws_disconnect </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dd/d08/library_8h.html#a81ecb6b2403c8155af2e4edb4716c141">obsws_connection_t</a> *&#160;</td>
          <td class="paramname"><em>conn</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Disconnect and destroy a connection. </p>
<p >This closes the connection to OBS and releases all associated resources. After calling this, the connection handle is invalid - don't use it anymore.</p>
<p >If auto_reconnect was enabled, it stops trying to reconnect. If you want to connect again, create a new connection with <a class="el" href="../../dd/d08/library_8h.html#a7ed7225961f0989acb31ebbd9c099626" title="Establish a connection to OBS.">obsws_connect()</a>.</p>
<p >This function blocks until the background thread cleanly shuts down. It should be fast (under 100ms), but avoid calling it from callbacks since callbacks run in the connection thread - this would deadlock.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">conn</td><td>Connection handle to destroy (can be NULL, which does nothing)</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>Safe to call even if already disconnected. </dd>
<dd>
Don't call from inside callbacks (they run in the connection thread). </dd>
<dd>
After calling this, all pending requests are abandoned (responses never arrive).</dd></dl>
<p>Disconnect and destroy a connection.</p>
<p >This is the counterpart to <a class="el" href="../../dd/d08/library_8h.html#a7ed7225961f0989acb31ebbd9c099626" title="Establish a connection to OBS.">obsws_connect()</a>. It cleanly shuts down the connection, stops the background event thread, and frees all allocated resources.</p>
<p >The function performs these steps:</p><ol type="1">
<li>Signal the event_thread to stop by setting should_exit flag</li>
<li>Wait for the event_thread to actually exit using pthread_join()</li>
<li>Send a normal WebSocket close frame to OBS (if connected)</li>
<li>Destroy the libwebsockets context</li>
<li>Free all pending requests (they won't get responses now, but don't leak memory)</li>
<li>Free buffers, config, authentication data</li>
<li>Destroy all mutexes and condition variables</li>
<li>Free the connection structure</li>
</ol>
<p >After calling this, the connection pointer is invalid. Don't use it again.</p>
<p >Safe to call multiple times: If you call it twice, the second call will be a no-op (because conn will be NULL).</p>
<p >Safe to call even if connection never fully established: If you disconnect while in CONNECTING or AUTHENTICATING state, everything is still cleaned up.</p>
<p >Important: This function blocks until the event_thread exits. If you have a callback that's blocked, this will deadlock. Make sure your callbacks don't block!</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">conn</td><td>The connection to close (can be NULL - safe to call)</td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="../../dd/d08/library_8h.html#a7ed7225961f0989acb31ebbd9c099626" title="Establish a connection to OBS.">obsws_connect</a> </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d5/d27/library_8c_source.html#l01549">1549</a> of file <a class="el" href="../../d5/d27/library_8c_source.html">library.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1549</span>                                                {</div>
<div class="line"><span class="lineno"> 1550</span>    <span class="keywordflow">if</span> (!conn) <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 1551</span>    </div>
<div class="line"><span class="lineno"> 1552</span>    <a class="code hl_function" href="../../d5/d27/library_8c.html#a1d8529feb33753ebb45d896c4c125642">obsws_log</a>(conn, <a class="code hl_enumvalue" href="../../dd/d08/library_8h.html#afbee3b6b991e705309ea19fd5fb0bff9ae48017bf78390a3df8cd87a24782c421">OBSWS_LOG_INFO</a>, <span class="stringliteral">&quot;Disconnecting from OBS&quot;</span>);</div>
<div class="line"><span class="lineno"> 1553</span>    </div>
<div class="line"><span class="lineno"> 1554</span>    <span class="comment">/* Stop event thread - protect flag with mutex */</span></div>
<div class="line"><span class="lineno"> 1555</span>    pthread_mutex_lock(&amp;conn-&gt;<a class="code hl_variable" href="../../d5/d88/structobsws__connection.html#aa2752abaf5b201277fae73b42c78c8e6">state_mutex</a>);</div>
<div class="line"><span class="lineno"> 1556</span>    conn-&gt;<a class="code hl_variable" href="../../d5/d88/structobsws__connection.html#a6aa5a0ce7b42fc1cd72385181ca43454">should_exit</a> = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 1557</span>    <span class="keywordtype">bool</span> thread_was_running = conn-&gt;<a class="code hl_variable" href="../../d5/d88/structobsws__connection.html#afbc2be09cbcbbe17561e400babd084e2">thread_running</a>;</div>
<div class="line"><span class="lineno"> 1558</span>    pthread_mutex_unlock(&amp;conn-&gt;<a class="code hl_variable" href="../../d5/d88/structobsws__connection.html#aa2752abaf5b201277fae73b42c78c8e6">state_mutex</a>);</div>
<div class="line"><span class="lineno"> 1559</span>    </div>
<div class="line"><span class="lineno"> 1560</span>    <span class="keywordflow">if</span> (thread_was_running) {</div>
<div class="line"><span class="lineno"> 1561</span>        pthread_join(conn-&gt;<a class="code hl_variable" href="../../d5/d88/structobsws__connection.html#a160a7f93e6caf0da1bc2f4dbe48fbb41">event_thread</a>, NULL);</div>
<div class="line"><span class="lineno"> 1562</span>    }</div>
<div class="line"><span class="lineno"> 1563</span>    </div>
<div class="line"><span class="lineno"> 1564</span>    <span class="comment">/* Close WebSocket - only if connected */</span></div>
<div class="line"><span class="lineno"> 1565</span>    <span class="keywordflow">if</span> (conn-&gt;<a class="code hl_variable" href="../../d5/d88/structobsws__connection.html#aaf49ac1578fc794ee4b01ccbf9edc35a">wsi</a> &amp;&amp; conn-&gt;<a class="code hl_variable" href="../../d5/d88/structobsws__connection.html#adad7d0fb4880543b1f5b5e897010d814">state</a> == <a class="code hl_enumvalue" href="../../dd/d08/library_8h.html#a2fb4e7d7196f39a5ce0e9c71b2d78991adbaae08035175b470fb9f543414672b8">OBSWS_STATE_CONNECTED</a>) {</div>
<div class="line"><span class="lineno"> 1566</span>        lws_close_reason(conn-&gt;<a class="code hl_variable" href="../../d5/d88/structobsws__connection.html#aaf49ac1578fc794ee4b01ccbf9edc35a">wsi</a>, LWS_CLOSE_STATUS_NORMAL, NULL, 0);</div>
<div class="line"><span class="lineno"> 1567</span>    }</div>
<div class="line"><span class="lineno"> 1568</span>    </div>
<div class="line"><span class="lineno"> 1569</span>    <span class="comment">/* Cleanup libwebsockets */</span></div>
<div class="line"><span class="lineno"> 1570</span>    <span class="keywordflow">if</span> (conn-&gt;<a class="code hl_variable" href="../../d5/d88/structobsws__connection.html#a2f876a0ab0ad0e5e012444a806aa3490">lws_context</a>) {</div>
<div class="line"><span class="lineno"> 1571</span>        lws_context_destroy(conn-&gt;<a class="code hl_variable" href="../../d5/d88/structobsws__connection.html#a2f876a0ab0ad0e5e012444a806aa3490">lws_context</a>);</div>
<div class="line"><span class="lineno"> 1572</span>    }</div>
<div class="line"><span class="lineno"> 1573</span>    </div>
<div class="line"><span class="lineno"> 1574</span>    <span class="comment">/* Free pending requests */</span></div>
<div class="line"><span class="lineno"> 1575</span>    pthread_mutex_lock(&amp;conn-&gt;<a class="code hl_variable" href="../../d5/d88/structobsws__connection.html#a5be49ce76c72f09948fdf9c520eb133c">requests_mutex</a>);</div>
<div class="line"><span class="lineno"> 1576</span>    <a class="code hl_struct" href="../../da/d45/structpending__request.html">pending_request_t</a> *req = conn-&gt;<a class="code hl_variable" href="../../d5/d88/structobsws__connection.html#acc0664cafa773ffe211ffe993c6ac8af">pending_requests</a>;</div>
<div class="line"><span class="lineno"> 1577</span>    <span class="keywordflow">while</span> (req) {</div>
<div class="line"><span class="lineno"> 1578</span>        <a class="code hl_struct" href="../../da/d45/structpending__request.html">pending_request_t</a> *next = req-&gt;<a class="code hl_variable" href="../../da/d45/structpending__request.html#a49161e43ef29129c11fe643e85338df2">next</a>;</div>
<div class="line"><span class="lineno"> 1579</span>        <span class="keywordflow">if</span> (req-&gt;<a class="code hl_variable" href="../../da/d45/structpending__request.html#a4b37104673cb81e3f2825c8f6df372ba">response</a>) {</div>
<div class="line"><span class="lineno"> 1580</span>            <a class="code hl_function" href="../../d5/d27/library_8c.html#a53067e61dc0ddcf1134d46b275d7ce6b">obsws_response_free</a>(req-&gt;<a class="code hl_variable" href="../../da/d45/structpending__request.html#a4b37104673cb81e3f2825c8f6df372ba">response</a>);</div>
<div class="line"><span class="lineno"> 1581</span>        }</div>
<div class="line"><span class="lineno"> 1582</span>        pthread_mutex_destroy(&amp;req-&gt;<a class="code hl_variable" href="../../da/d45/structpending__request.html#a30b4636ccd06e4f775ee0dcc29ba3a69">mutex</a>);</div>
<div class="line"><span class="lineno"> 1583</span>        pthread_cond_destroy(&amp;req-&gt;<a class="code hl_variable" href="../../da/d45/structpending__request.html#a619500d05293ec1f654ea803139941de">cond</a>);</div>
<div class="line"><span class="lineno"> 1584</span>        free(req);</div>
<div class="line"><span class="lineno"> 1585</span>        req = next;</div>
<div class="line"><span class="lineno"> 1586</span>    }</div>
<div class="line"><span class="lineno"> 1587</span>    pthread_mutex_unlock(&amp;conn-&gt;<a class="code hl_variable" href="../../d5/d88/structobsws__connection.html#a5be49ce76c72f09948fdf9c520eb133c">requests_mutex</a>);</div>
<div class="line"><span class="lineno"> 1588</span>    </div>
<div class="line"><span class="lineno"> 1589</span>    <span class="comment">/* Free resources */</span></div>
<div class="line"><span class="lineno"> 1590</span>    free(conn-&gt;<a class="code hl_variable" href="../../d5/d88/structobsws__connection.html#a89f2bbc96729ab308290da8959534d18">recv_buffer</a>);</div>
<div class="line"><span class="lineno"> 1591</span>    free(conn-&gt;<a class="code hl_variable" href="../../d5/d88/structobsws__connection.html#a14a61d0e27a8cac772ce173dd31d4fb7">send_buffer</a>);</div>
<div class="line"><span class="lineno"> 1592</span>    free((<span class="keywordtype">char</span> *)conn-&gt;<a class="code hl_variable" href="../../d5/d88/structobsws__connection.html#aaa5cf000b991e623632977c379314d89">config</a>.<a class="code hl_variable" href="../../dc/de7/structobsws__config__t.html#af632161e8b6cf2d7c1baf7fc80859d48">host</a>);</div>
<div class="line"><span class="lineno"> 1593</span>    free((<span class="keywordtype">char</span> *)conn-&gt;<a class="code hl_variable" href="../../d5/d88/structobsws__connection.html#aaa5cf000b991e623632977c379314d89">config</a>.<a class="code hl_variable" href="../../dc/de7/structobsws__config__t.html#a53ed762a113bb2a27b3ffab06a5c02ee">password</a>);</div>
<div class="line"><span class="lineno"> 1594</span>    free(conn-&gt;<a class="code hl_variable" href="../../d5/d88/structobsws__connection.html#a99dd8596f842d976297c91a7e101b9f4">challenge</a>);</div>
<div class="line"><span class="lineno"> 1595</span>    free(conn-&gt;<a class="code hl_variable" href="../../d5/d88/structobsws__connection.html#a172b9304975dc52f9c962e0592f20330">salt</a>);</div>
<div class="line"><span class="lineno"> 1596</span>    free(conn-&gt;<a class="code hl_variable" href="../../d5/d88/structobsws__connection.html#a887874891a0026e6ad2a2ee2c3c7390a">current_scene</a>);</div>
<div class="line"><span class="lineno"> 1597</span>    </div>
<div class="line"><span class="lineno"> 1598</span>    <span class="comment">/* Destroy mutexes */</span></div>
<div class="line"><span class="lineno"> 1599</span>    pthread_mutex_destroy(&amp;conn-&gt;<a class="code hl_variable" href="../../d5/d88/structobsws__connection.html#aa2752abaf5b201277fae73b42c78c8e6">state_mutex</a>);</div>
<div class="line"><span class="lineno"> 1600</span>    pthread_mutex_destroy(&amp;conn-&gt;<a class="code hl_variable" href="../../d5/d88/structobsws__connection.html#afc665d5d6864f038f551e4e7d4aae679">send_mutex</a>);</div>
<div class="line"><span class="lineno"> 1601</span>    pthread_mutex_destroy(&amp;conn-&gt;<a class="code hl_variable" href="../../d5/d88/structobsws__connection.html#a5be49ce76c72f09948fdf9c520eb133c">requests_mutex</a>);</div>
<div class="line"><span class="lineno"> 1602</span>    pthread_mutex_destroy(&amp;conn-&gt;<a class="code hl_variable" href="../../d5/d88/structobsws__connection.html#ab29e2a357e95b536a2c79b0990614bc5">stats_mutex</a>);</div>
<div class="line"><span class="lineno"> 1603</span>    pthread_mutex_destroy(&amp;conn-&gt;<a class="code hl_variable" href="../../d5/d88/structobsws__connection.html#a4343875c5de5530580e13fb1b528cf35">scene_mutex</a>);</div>
<div class="line"><span class="lineno"> 1604</span>    </div>
<div class="line"><span class="lineno"> 1605</span>    free(conn);</div>
<div class="line"><span class="lineno"> 1606</span>}</div>
<div class="ttc" id="alibrary_8c_html_a53067e61dc0ddcf1134d46b275d7ce6b"><div class="ttname"><a href="../../d5/d27/library_8c.html#a53067e61dc0ddcf1134d46b275d7ce6b">obsws_response_free</a></div><div class="ttdeci">void obsws_response_free(obsws_response_t *response)</div><div class="ttdoc">Free a response object previously allocated by obsws_send_request().</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d27/library_8c_source.html#l02195">library.c:2195</a></div></div>
<div class="ttc" id="astructobsws__connection_html_a172b9304975dc52f9c962e0592f20330"><div class="ttname"><a href="../../d5/d88/structobsws__connection.html#a172b9304975dc52f9c962e0592f20330">obsws_connection::salt</a></div><div class="ttdeci">char * salt</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d27/library_8c_source.html#l00226">library.c:226</a></div></div>
<div class="ttc" id="astructobsws__connection_html_a887874891a0026e6ad2a2ee2c3c7390a"><div class="ttname"><a href="../../d5/d88/structobsws__connection.html#a887874891a0026e6ad2a2ee2c3c7390a">obsws_connection::current_scene</a></div><div class="ttdeci">char * current_scene</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d27/library_8c_source.html#l00231">library.c:231</a></div></div>
<div class="ttc" id="astructobsws__connection_html_a99dd8596f842d976297c91a7e101b9f4"><div class="ttname"><a href="../../d5/d88/structobsws__connection.html#a99dd8596f842d976297c91a7e101b9f4">obsws_connection::challenge</a></div><div class="ttdeci">char * challenge</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d27/library_8c_source.html#l00225">library.c:225</a></div></div>
<div class="ttc" id="astructobsws__connection_html_acc0664cafa773ffe211ffe993c6ac8af"><div class="ttname"><a href="../../d5/d88/structobsws__connection.html#acc0664cafa773ffe211ffe993c6ac8af">obsws_connection::pending_requests</a></div><div class="ttdeci">pending_request_t * pending_requests</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d27/library_8c_source.html#l00202">library.c:202</a></div></div>
<div class="ttc" id="astructpending__request_html"><div class="ttname"><a href="../../da/d45/structpending__request.html">pending_request</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d27/library_8c_source.html#l00127">library.c:127</a></div></div>
<div class="ttc" id="astructpending__request_html_a30b4636ccd06e4f775ee0dcc29ba3a69"><div class="ttname"><a href="../../da/d45/structpending__request.html#a30b4636ccd06e4f775ee0dcc29ba3a69">pending_request::mutex</a></div><div class="ttdeci">pthread_mutex_t mutex</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d27/library_8c_source.html#l00131">library.c:131</a></div></div>
<div class="ttc" id="astructpending__request_html_a49161e43ef29129c11fe643e85338df2"><div class="ttname"><a href="../../da/d45/structpending__request.html#a49161e43ef29129c11fe643e85338df2">pending_request::next</a></div><div class="ttdeci">struct pending_request * next</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d27/library_8c_source.html#l00134">library.c:134</a></div></div>
<div class="ttc" id="astructpending__request_html_a4b37104673cb81e3f2825c8f6df372ba"><div class="ttname"><a href="../../da/d45/structpending__request.html#a4b37104673cb81e3f2825c8f6df372ba">pending_request::response</a></div><div class="ttdeci">obsws_response_t * response</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d27/library_8c_source.html#l00129">library.c:129</a></div></div>
<div class="ttc" id="astructpending__request_html_a619500d05293ec1f654ea803139941de"><div class="ttname"><a href="../../da/d45/structpending__request.html#a619500d05293ec1f654ea803139941de">pending_request::cond</a></div><div class="ttdeci">pthread_cond_t cond</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d27/library_8c_source.html#l00132">library.c:132</a></div></div>
</div><!-- fragment --><div id="dynsection-3" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-3-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-3-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-3-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../dd/d08/library_8h_aa8389ba6731e01a9426bd921180b7195_cgraph.svg" width="362" height="88"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="a39534944f30eaed9a0f2d7de19be0c3e" name="a39534944f30eaed9a0f2d7de19be0c3e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a39534944f30eaed9a0f2d7de19be0c3e">&#9670;&nbsp;</a></span>obsws_error_string()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char * obsws_error_string </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dd/d08/library_8h.html#a4820ea98988736a81d6695a51f74acd6">obsws_error_t</a>&#160;</td>
          <td class="paramname"><em>error</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Convert an error code to a human-readable string. </p>
<p >Utility function for error reporting and logging. Returns a brief English description of each error code.</p>
<p ><b>Never returns NULL</b> Unknown error codes return "Unknown error", so it's always safe to use the returned pointer without NULL checks.</p>
<p ><b>Example usage:</b> </p><div class="fragment"><div class="line"><a class="code hl_enumeration" href="../../dd/d08/library_8h.html#a4820ea98988736a81d6695a51f74acd6">obsws_error_t</a> err = <a class="code hl_function" href="../../dd/d08/library_8h.html#af2fd7f8dd928e03b38a3e2c5b5745417">obsws_send_request</a>(...);</div>
<div class="line"><span class="keywordflow">if</span> (err != <a class="code hl_enumvalue" href="../../dd/d08/library_8h.html#a4820ea98988736a81d6695a51f74acd6aa43b9a59f39db094a477cb25a638e5a1">OBSWS_OK</a>) {</div>
<div class="line">    fprintf(stderr, <span class="stringliteral">&quot;Error: %s\\n&quot;</span>, <a class="code hl_function" href="../../dd/d08/library_8h.html#a39534944f30eaed9a0f2d7de19be0c3e">obsws_error_string</a>(err));</div>
<div class="line">}</div>
<div class="ttc" id="alibrary_8h_html_a39534944f30eaed9a0f2d7de19be0c3e"><div class="ttname"><a href="../../dd/d08/library_8h.html#a39534944f30eaed9a0f2d7de19be0c3e">obsws_error_string</a></div><div class="ttdeci">const char * obsws_error_string(obsws_error_t error)</div><div class="ttdoc">Convert an error code to a human-readable string.</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d27/library_8c_source.html#l02229">library.c:2229</a></div></div>
<div class="ttc" id="alibrary_8h_html_af2fd7f8dd928e03b38a3e2c5b5745417"><div class="ttname"><a href="../../dd/d08/library_8h.html#af2fd7f8dd928e03b38a3e2c5b5745417">obsws_send_request</a></div><div class="ttdeci">obsws_error_t obsws_send_request(obsws_connection_t *conn, const char *request_type, const char *request_data, obsws_response_t **response, uint32_t timeout_ms)</div><div class="ttdoc">Send a synchronous request to OBS and wait for the response.</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d27/library_8c_source.html#l01776">library.c:1776</a></div></div>
</div><!-- fragment --><p ><b>Strings are constants</b> Returned strings are statically allocated - do not modify or free them.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">error</td><td>The error code to describe </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Pointer to a static string describing the error</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="../../dd/d08/library_8h.html#a4820ea98988736a81d6695a51f74acd6" title="Error codes returned by library functions.">obsws_error_t</a> </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d5/d27/library_8c_source.html#l02229">2229</a> of file <a class="el" href="../../d5/d27/library_8c_source.html">library.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2229</span>                                                    {</div>
<div class="line"><span class="lineno"> 2230</span>    <span class="keywordflow">switch</span> (error) {</div>
<div class="line"><span class="lineno"> 2231</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../dd/d08/library_8h.html#a4820ea98988736a81d6695a51f74acd6aa43b9a59f39db094a477cb25a638e5a1">OBSWS_OK</a>: <span class="keywordflow">return</span> <span class="stringliteral">&quot;Success&quot;</span>;</div>
<div class="line"><span class="lineno"> 2232</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../dd/d08/library_8h.html#a4820ea98988736a81d6695a51f74acd6a8944fe1379e71d22a82399c21107ebf6">OBSWS_ERROR_INVALID_PARAM</a>: <span class="keywordflow">return</span> <span class="stringliteral">&quot;Invalid parameter&quot;</span>;</div>
<div class="line"><span class="lineno"> 2233</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../dd/d08/library_8h.html#a4820ea98988736a81d6695a51f74acd6aa99054291b32e3476d521ea9efeb83a2">OBSWS_ERROR_CONNECTION_FAILED</a>: <span class="keywordflow">return</span> <span class="stringliteral">&quot;Connection failed&quot;</span>;</div>
<div class="line"><span class="lineno"> 2234</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../dd/d08/library_8h.html#a4820ea98988736a81d6695a51f74acd6a3132520f4e5efcd0e07668b4afcd5c4c">OBSWS_ERROR_AUTH_FAILED</a>: <span class="keywordflow">return</span> <span class="stringliteral">&quot;Authentication failed&quot;</span>;</div>
<div class="line"><span class="lineno"> 2235</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../dd/d08/library_8h.html#a4820ea98988736a81d6695a51f74acd6a852a5a13d07531a60aedc6e3cc1ae86d">OBSWS_ERROR_TIMEOUT</a>: <span class="keywordflow">return</span> <span class="stringliteral">&quot;Timeout&quot;</span>;</div>
<div class="line"><span class="lineno"> 2236</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../dd/d08/library_8h.html#a4820ea98988736a81d6695a51f74acd6abab3c6691cc119a7b875d967f0fc565f">OBSWS_ERROR_SEND_FAILED</a>: <span class="keywordflow">return</span> <span class="stringliteral">&quot;Send failed&quot;</span>;</div>
<div class="line"><span class="lineno"> 2237</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../dd/d08/library_8h.html#a4820ea98988736a81d6695a51f74acd6a312613cd84331a653e2c1de24b94c52b">OBSWS_ERROR_RECV_FAILED</a>: <span class="keywordflow">return</span> <span class="stringliteral">&quot;Receive failed&quot;</span>;</div>
<div class="line"><span class="lineno"> 2238</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../dd/d08/library_8h.html#a4820ea98988736a81d6695a51f74acd6a72ca999664bea413857d7901acf2d598">OBSWS_ERROR_PARSE_FAILED</a>: <span class="keywordflow">return</span> <span class="stringliteral">&quot;Parse failed&quot;</span>;</div>
<div class="line"><span class="lineno"> 2239</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../dd/d08/library_8h.html#a4820ea98988736a81d6695a51f74acd6ace2eb9908cf7d65109788a2593582982">OBSWS_ERROR_NOT_CONNECTED</a>: <span class="keywordflow">return</span> <span class="stringliteral">&quot;Not connected&quot;</span>;</div>
<div class="line"><span class="lineno"> 2240</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../dd/d08/library_8h.html#a4820ea98988736a81d6695a51f74acd6a6b4348384a97af637d6361e38a5de052">OBSWS_ERROR_ALREADY_CONNECTED</a>: <span class="keywordflow">return</span> <span class="stringliteral">&quot;Already connected&quot;</span>;</div>
<div class="line"><span class="lineno"> 2241</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../dd/d08/library_8h.html#a4820ea98988736a81d6695a51f74acd6a976f03f9cfc1de7d7172732454829e15">OBSWS_ERROR_OUT_OF_MEMORY</a>: <span class="keywordflow">return</span> <span class="stringliteral">&quot;Out of memory&quot;</span>;</div>
<div class="line"><span class="lineno"> 2242</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../dd/d08/library_8h.html#a4820ea98988736a81d6695a51f74acd6aea7cb95255efa1d01e6761d676ab599c">OBSWS_ERROR_SSL_FAILED</a>: <span class="keywordflow">return</span> <span class="stringliteral">&quot;SSL failed&quot;</span>;</div>
<div class="line"><span class="lineno"> 2243</span>        <span class="keywordflow">default</span>: <span class="keywordflow">return</span> <span class="stringliteral">&quot;Unknown error&quot;</span>;</div>
<div class="line"><span class="lineno"> 2244</span>    }</div>
<div class="line"><span class="lineno"> 2245</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="ac26d8f108d875f8213a73e23ae46068b" name="ac26d8f108d875f8213a73e23ae46068b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac26d8f108d875f8213a73e23ae46068b">&#9670;&nbsp;</a></span>obsws_free_scene_list()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void obsws_free_scene_list </td>
          <td>(</td>
          <td class="paramtype">char **&#160;</td>
          <td class="paramname"><em>scenes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>count</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a91bd5ceb5878431131513cb4624e935a" name="a91bd5ceb5878431131513cb4624e935a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a91bd5ceb5878431131513cb4624e935a">&#9670;&nbsp;</a></span>obsws_get_current_scene()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../dd/d08/library_8h.html#a4820ea98988736a81d6695a51f74acd6">obsws_error_t</a> obsws_get_current_scene </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dd/d08/library_8h.html#a81ecb6b2403c8155af2e4edb4716c141">obsws_connection_t</a> *&#160;</td>
          <td class="paramname"><em>conn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>scene_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>buffer_size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Query the currently active scene in OBS. </p>
<p >This function queries OBS for the active scene name and returns it in the provided buffer. It also updates the local scene cache to keep it synchronized.</p>
<p ><b>Cache Synchronization</b> This function always queries the OBS server (doesn't use cached value). When the response arrives, it updates the cache. This ensures the library's cached scene name stays in sync with the actual OBS state.</p>
<p ><b>Buffer Management</b> The caller provides a buffer. If the scene name is longer than buffer_size-1, it will be truncated and null-terminated. Always check the returned buffer length if you need the full name.</p>
<p ><b>Thread-safety</b> The scene_mutex protects the cache update, so this is safe to call from any thread. Multiple concurrent calls are safe but will all query OBS (no deduplication).</p>
<p ><b>Example usage:</b> </p><div class="fragment"><div class="line"><span class="keywordtype">char</span> scene[256];</div>
<div class="line"><span class="keywordflow">if</span> (<a class="code hl_function" href="../../dd/d08/library_8h.html#a91bd5ceb5878431131513cb4624e935a">obsws_get_current_scene</a>(conn, scene, <span class="keyword">sizeof</span>(scene)) == <a class="code hl_enumvalue" href="../../dd/d08/library_8h.html#a4820ea98988736a81d6695a51f74acd6aa43b9a59f39db094a477cb25a638e5a1">OBSWS_OK</a>) {</div>
<div class="line">    printf(<span class="stringliteral">&quot;Current scene: %s\\n&quot;</span>, scene);</div>
<div class="line">}</div>
<div class="ttc" id="alibrary_8h_html_a91bd5ceb5878431131513cb4624e935a"><div class="ttname"><a href="../../dd/d08/library_8h.html#a91bd5ceb5878431131513cb4624e935a">obsws_get_current_scene</a></div><div class="ttdeci">obsws_error_t obsws_get_current_scene(obsws_connection_t *conn, char *scene_name, size_t buffer_size)</div><div class="ttdoc">Query the currently active scene in OBS.</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d27/library_8c_source.html#l02022">library.c:2022</a></div></div>
</div><!-- fragment --><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">conn</td><td>Connection object (must be in CONNECTED state) </td></tr>
    <tr><td class="paramname">scene_name</td><td>Buffer to receive the scene name (must not be NULL) </td></tr>
    <tr><td class="paramname">buffer_size</td><td>Size of scene_name buffer (must be &gt; 0)</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>OBSWS_OK if scene name retrieved successfully </dd>
<dd>
OBSWS_ERROR_INVALID_PARAM if conn, scene_name is NULL or buffer_size is 0 </dd>
<dd>
OBSWS_ERROR_NOT_CONNECTED if connection not ready </dd>
<dd>
OBSWS_ERROR_TIMEOUT if OBS doesn't respond </dd>
<dd>
OBSWS_ERROR_PARSE_FAILED if response can't be parsed</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="../../d5/d27/library_8c.html#a7cb91bbce42b458f267f79b9a7b293bf" title="Switch OBS to a specific scene.">obsws_set_current_scene</a> </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d5/d27/library_8c_source.html#l02022">2022</a> of file <a class="el" href="../../d5/d27/library_8c_source.html">library.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2022</span>                                                                                                      {</div>
<div class="line"><span class="lineno"> 2023</span>    <span class="keywordflow">if</span> (!conn || !scene_name || buffer_size == 0) {</div>
<div class="line"><span class="lineno"> 2024</span>        <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="../../dd/d08/library_8h.html#a4820ea98988736a81d6695a51f74acd6a8944fe1379e71d22a82399c21107ebf6">OBSWS_ERROR_INVALID_PARAM</a>;</div>
<div class="line"><span class="lineno"> 2025</span>    }</div>
<div class="line"><span class="lineno"> 2026</span>    </div>
<div class="line"><span class="lineno"> 2027</span>    <a class="code hl_struct" href="../../d2/d1f/structobsws__response__t.html">obsws_response_t</a> *response = NULL;</div>
<div class="line"><span class="lineno"> 2028</span>    <a class="code hl_enumeration" href="../../dd/d08/library_8h.html#a4820ea98988736a81d6695a51f74acd6">obsws_error_t</a> result = <a class="code hl_function" href="../../d5/d27/library_8c.html#af2fd7f8dd928e03b38a3e2c5b5745417">obsws_send_request</a>(conn, <span class="stringliteral">&quot;GetCurrentProgramScene&quot;</span>, NULL, &amp;response, 0);</div>
<div class="line"><span class="lineno"> 2029</span>    </div>
<div class="line"><span class="lineno"> 2030</span>    <span class="keywordflow">if</span> (result == <a class="code hl_enumvalue" href="../../dd/d08/library_8h.html#a4820ea98988736a81d6695a51f74acd6aa43b9a59f39db094a477cb25a638e5a1">OBSWS_OK</a> &amp;&amp; response &amp;&amp; response-&gt;<a class="code hl_variable" href="../../d2/d1f/structobsws__response__t.html#abbf2e99faa8fdef1c94bbd174470c821">success</a> &amp;&amp; response-&gt;<a class="code hl_variable" href="../../d2/d1f/structobsws__response__t.html#a696a1179e1d40c6c31136999846d5902">response_data</a>) {</div>
<div class="line"><span class="lineno"> 2031</span>        cJSON *data = cJSON_Parse(response-&gt;<a class="code hl_variable" href="../../d2/d1f/structobsws__response__t.html#a696a1179e1d40c6c31136999846d5902">response_data</a>);</div>
<div class="line"><span class="lineno"> 2032</span>        <span class="keywordflow">if</span> (data) {</div>
<div class="line"><span class="lineno"> 2033</span>            cJSON *name = cJSON_GetObjectItem(data, <span class="stringliteral">&quot;currentProgramSceneName&quot;</span>);</div>
<div class="line"><span class="lineno"> 2034</span>            <span class="keywordflow">if</span> (name &amp;&amp; name-&gt;valuestring) {</div>
<div class="line"><span class="lineno"> 2035</span>                strncpy(scene_name, name-&gt;valuestring, buffer_size - 1);</div>
<div class="line"><span class="lineno"> 2036</span>                scene_name[buffer_size - 1] = <span class="charliteral">&#39;\0&#39;</span>;</div>
<div class="line"><span class="lineno"> 2037</span>                </div>
<div class="line"><span class="lineno"> 2038</span>                <span class="comment">/* Update cache */</span></div>
<div class="line"><span class="lineno"> 2039</span>                pthread_mutex_lock(&amp;conn-&gt;<a class="code hl_variable" href="../../d5/d88/structobsws__connection.html#a4343875c5de5530580e13fb1b528cf35">scene_mutex</a>);</div>
<div class="line"><span class="lineno"> 2040</span>                free(conn-&gt;<a class="code hl_variable" href="../../d5/d88/structobsws__connection.html#a887874891a0026e6ad2a2ee2c3c7390a">current_scene</a>);</div>
<div class="line"><span class="lineno"> 2041</span>                conn-&gt;<a class="code hl_variable" href="../../d5/d88/structobsws__connection.html#a887874891a0026e6ad2a2ee2c3c7390a">current_scene</a> = strdup(name-&gt;valuestring);</div>
<div class="line"><span class="lineno"> 2042</span>                pthread_mutex_unlock(&amp;conn-&gt;<a class="code hl_variable" href="../../d5/d88/structobsws__connection.html#a4343875c5de5530580e13fb1b528cf35">scene_mutex</a>);</div>
<div class="line"><span class="lineno"> 2043</span>            }</div>
<div class="line"><span class="lineno"> 2044</span>            cJSON_Delete(data);</div>
<div class="line"><span class="lineno"> 2045</span>        }</div>
<div class="line"><span class="lineno"> 2046</span>    }</div>
<div class="line"><span class="lineno"> 2047</span>    </div>
<div class="line"><span class="lineno"> 2048</span>    <span class="keywordflow">if</span> (response) {</div>
<div class="line"><span class="lineno"> 2049</span>        <a class="code hl_function" href="../../d5/d27/library_8c.html#a53067e61dc0ddcf1134d46b275d7ce6b">obsws_response_free</a>(response);</div>
<div class="line"><span class="lineno"> 2050</span>    }</div>
<div class="line"><span class="lineno"> 2051</span>    </div>
<div class="line"><span class="lineno"> 2052</span>    <span class="keywordflow">return</span> result;</div>
<div class="line"><span class="lineno"> 2053</span>}</div>
<div class="ttc" id="alibrary_8c_html_af2fd7f8dd928e03b38a3e2c5b5745417"><div class="ttname"><a href="../../d5/d27/library_8c.html#af2fd7f8dd928e03b38a3e2c5b5745417">obsws_send_request</a></div><div class="ttdeci">obsws_error_t obsws_send_request(obsws_connection_t *conn, const char *request_type, const char *request_data, obsws_response_t **response, uint32_t timeout_ms)</div><div class="ttdoc">Send a synchronous request to OBS and wait for the response.</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d27/library_8c_source.html#l01776">library.c:1776</a></div></div>
<div class="ttc" id="astructobsws__response__t_html"><div class="ttname"><a href="../../d2/d1f/structobsws__response__t.html">obsws_response_t</a></div><div class="ttdoc">Response structure for requests to OBS.</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d08/library_8h_source.html#l00309">library.h:309</a></div></div>
<div class="ttc" id="astructobsws__response__t_html_a696a1179e1d40c6c31136999846d5902"><div class="ttname"><a href="../../d2/d1f/structobsws__response__t.html#a696a1179e1d40c6c31136999846d5902">obsws_response_t::response_data</a></div><div class="ttdeci">char * response_data</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d08/library_8h_source.html#l00313">library.h:313</a></div></div>
<div class="ttc" id="astructobsws__response__t_html_abbf2e99faa8fdef1c94bbd174470c821"><div class="ttname"><a href="../../d2/d1f/structobsws__response__t.html#abbf2e99faa8fdef1c94bbd174470c821">obsws_response_t::success</a></div><div class="ttdeci">bool success</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d08/library_8h_source.html#l00310">library.h:310</a></div></div>
</div><!-- fragment --><div id="dynsection-4" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-4-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-4-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-4-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../dd/d08/library_8h_a91bd5ceb5878431131513cb4624e935a_cgraph.svg" width="646" height="190"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="a17d68299d8070c22f5cb04e2c4af28a1" name="a17d68299d8070c22f5cb04e2c4af28a1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a17d68299d8070c22f5cb04e2c4af28a1">&#9670;&nbsp;</a></span>obsws_get_debug_level()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../dd/d08/library_8h.html#a1997a985daa6bfb4117e885d9bb81668">obsws_debug_level_t</a> obsws_get_debug_level </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the current global debug level. </p>
<p >Returns what the debug level is set to. Useful if you have code that needs to know how verbose the debugging is.</p>
<dl class="section return"><dt>Returns</dt><dd>Current debug level</dd></dl>
<p>Get the current global debug level.</p>
<p >This is a read-only query - it doesn't change anything, just returns the current global debug level that was set by <a class="el" href="../../dd/d08/library_8h.html#adde8bcb270d34f560ae99047e0524a1d" title="Set the global debug level for the library.">obsws_set_debug_level()</a>.</p>
<p >Useful for conditional logging in your application, e.g.: </p><div class="fragment"><div class="line"><span class="keywordflow">if</span> (<a class="code hl_function" href="../../dd/d08/library_8h.html#a17d68299d8070c22f5cb04e2c4af28a1">obsws_get_debug_level</a>() &gt;= <a class="code hl_enumvalue" href="../../dd/d08/library_8h.html#a1997a985daa6bfb4117e885d9bb81668aa6c8d9d070b4d69beeadf605bc03eee1">OBSWS_DEBUG_MEDIUM</a>) {</div>
<div class="line">    <span class="comment">// do expensive trace operation</span></div>
<div class="line">}</div>
<div class="ttc" id="alibrary_8h_html_a17d68299d8070c22f5cb04e2c4af28a1"><div class="ttname"><a href="../../dd/d08/library_8h.html#a17d68299d8070c22f5cb04e2c4af28a1">obsws_get_debug_level</a></div><div class="ttdeci">obsws_debug_level_t obsws_get_debug_level(void)</div><div class="ttdoc">Get the current global debug level.</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d27/library_8c_source.html#l01333">library.c:1333</a></div></div>
</div><!-- fragment --><dl class="section return"><dt>Returns</dt><dd>The currently active debug level </dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="../../dd/d08/library_8h.html#adde8bcb270d34f560ae99047e0524a1d" title="Set the global debug level for the library.">obsws_set_debug_level</a> </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d5/d27/library_8c_source.html#l01333">1333</a> of file <a class="el" href="../../d5/d27/library_8c_source.html">library.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1333</span>                                                {</div>
<div class="line"><span class="lineno"> 1334</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="../../d5/d27/library_8c.html#abf3a9f2c8c4082f1e6b67daddd8a5931">g_debug_level</a>;</div>
<div class="line"><span class="lineno"> 1335</span>}</div>
<div class="ttc" id="alibrary_8c_html_abf3a9f2c8c4082f1e6b67daddd8a5931"><div class="ttname"><a href="../../d5/d27/library_8c.html#abf3a9f2c8c4082f1e6b67daddd8a5931">g_debug_level</a></div><div class="ttdeci">static obsws_debug_level_t g_debug_level</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d27/library_8c_source.html#l00253">library.c:253</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a845b9465a0b58952402d9ee021dbb003" name="a845b9465a0b58952402d9ee021dbb003"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a845b9465a0b58952402d9ee021dbb003">&#9670;&nbsp;</a></span>obsws_get_recording_status()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../dd/d08/library_8h.html#a4820ea98988736a81d6695a51f74acd6">obsws_error_t</a> obsws_get_recording_status </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dd/d08/library_8h.html#a81ecb6b2403c8155af2e4edb4716c141">obsws_connection_t</a> *&#160;</td>
          <td class="paramname"><em>conn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool *&#160;</td>
          <td class="paramname"><em>is_recording</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d2/d1f/structobsws__response__t.html">obsws_response_t</a> **&#160;</td>
          <td class="paramname"><em>response</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get whether OBS is currently recording. </p>
<p >Returns true if recording is active, false otherwise. Similar to <a class="el" href="../../dd/d08/library_8h.html#ae1192f8018768dc070926702f0958a61">obsws_get_streaming_status()</a> but for recording instead.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">conn</td><td>Connection handle (must be in CONNECTED state) </td></tr>
    <tr><td class="paramname">is_recording</td><td>Output parameter - true if recording, false if not </td></tr>
    <tr><td class="paramname">response</td><td>Optional pointer to receive full response with stats </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>OBSWS_OK on success </dd>
<dd>
OBSWS_ERROR_NOT_CONNECTED if not connected </dd>
<dd>
OBSWS_ERROR_INVALID_PARAM if is_recording is NULL</dd></dl>
<dl class="section note"><dt>Note</dt><dd>is_recording must be non-NULL, but response can be NULL. </dd></dl>

</div>
</div>
<a id="a07a41289dbce951ffead9d15b467d7c5" name="a07a41289dbce951ffead9d15b467d7c5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a07a41289dbce951ffead9d15b467d7c5">&#9670;&nbsp;</a></span>obsws_get_scene_list()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../dd/d08/library_8h.html#a4820ea98988736a81d6695a51f74acd6">obsws_error_t</a> obsws_get_scene_list </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dd/d08/library_8h.html#a81ecb6b2403c8155af2e4edb4716c141">obsws_connection_t</a> *&#160;</td>
          <td class="paramname"><em>conn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char ***&#160;</td>
          <td class="paramname"><em>scenes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t *&#160;</td>
          <td class="paramname"><em>count</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a61a10e31041532a9da0c1c1993f84a79" name="a61a10e31041532a9da0c1c1993f84a79"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a61a10e31041532a9da0c1c1993f84a79">&#9670;&nbsp;</a></span>obsws_get_state()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../dd/d08/library_8h.html#a2fb4e7d7196f39a5ce0e9c71b2d78991">obsws_state_t</a> obsws_get_state </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../dd/d08/library_8h.html#a81ecb6b2403c8155af2e4edb4716c141">obsws_connection_t</a> *&#160;</td>
          <td class="paramname"><em>conn</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the detailed current connection state. </p>
<p >Similar to <a class="el" href="../../dd/d08/library_8h.html#ad9894e72ee8510f4eaf7d42feaf0cf9a" title="Check if connection is currently authenticated and ready to use.">obsws_is_connected()</a> but returns the full state, not just a boolean. This lets you distinguish between different states - for example, you might show "connecting..." if the state is CONNECTING, vs "disconnected" if DISCONNECTED.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">conn</td><td>Connection handle </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Current connection state (see obsws_state_t for the state machine)</dd></dl>
<p>Get the detailed current connection state.</p>
<p >Returns one of the connection states:</p><ul>
<li>OBSWS_STATE_DISCONNECTED: Not connected, idle</li>
<li>OBSWS_STATE_CONNECTING: TCP connection established, waiting for WebSocket handshake</li>
<li>OBSWS_STATE_AUTHENTICATING: WebSocket established, waiting for auth response</li>
<li>OBSWS_STATE_CONNECTED: Connected and ready for requests</li>
<li>OBSWS_STATE_ERROR: Connection encountered an error</li>
</ul>
<p >State transitions normally follow this flow: DISCONNECTED -&gt; CONNECTING -&gt; AUTHENTICATING -&gt; CONNECTED</p>
<p >But with errors, you can also have: (any state) -&gt; ERROR</p>
<p >You don't usually need to call this - just try to send requests and check the error code. But it's useful for monitoring and debugging.</p>
<p >Thread-safe: This function locks the state_mutex, so it's safe to call from any thread.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">conn</td><td>The connection to check (NULL is safe - returns DISCONNECTED) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The current connection state</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="../../dd/d08/library_8h.html#ad9894e72ee8510f4eaf7d42feaf0cf9a" title="Check if connection is currently authenticated and ready to use.">obsws_is_connected</a> </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d5/d27/library_8c_source.html#l01663">1663</a> of file <a class="el" href="../../d5/d27/library_8c_source.html">library.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1663</span>                                                              {</div>
<div class="line"><span class="lineno"> 1664</span>    <span class="keywordflow">if</span> (!conn) <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="../../dd/d08/library_8h.html#a2fb4e7d7196f39a5ce0e9c71b2d78991af973d2b8b0a498d0bbffb40ccab1ef2d">OBSWS_STATE_DISCONNECTED</a>;</div>
<div class="line"><span class="lineno"> 1665</span>    </div>
<div class="line"><span class="lineno"> 1666</span>    pthread_mutex_lock((pthread_mutex_t *)&amp;conn-&gt;<a class="code hl_variable" href="../../d5/d88/structobsws__connection.html#aa2752abaf5b201277fae73b42c78c8e6">state_mutex</a>);</div>
<div class="line"><span class="lineno"> 1667</span>    <a class="code hl_enumeration" href="../../dd/d08/library_8h.html#a2fb4e7d7196f39a5ce0e9c71b2d78991">obsws_state_t</a> state = conn-&gt;<a class="code hl_variable" href="../../d5/d88/structobsws__connection.html#adad7d0fb4880543b1f5b5e897010d814">state</a>;</div>
<div class="line"><span class="lineno"> 1668</span>    pthread_mutex_unlock((pthread_mutex_t *)&amp;conn-&gt;<a class="code hl_variable" href="../../d5/d88/structobsws__connection.html#aa2752abaf5b201277fae73b42c78c8e6">state_mutex</a>);</div>
<div class="line"><span class="lineno"> 1669</span>    </div>
<div class="line"><span class="lineno"> 1670</span>    <span class="keywordflow">return</span> state;</div>
<div class="line"><span class="lineno"> 1671</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a5cce41cb6c70229eaab8b1b3afba57a9" name="a5cce41cb6c70229eaab8b1b3afba57a9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5cce41cb6c70229eaab8b1b3afba57a9">&#9670;&nbsp;</a></span>obsws_get_stats()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../dd/d08/library_8h.html#a4820ea98988736a81d6695a51f74acd6">obsws_error_t</a> obsws_get_stats </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../dd/d08/library_8h.html#a81ecb6b2403c8155af2e4edb4716c141">obsws_connection_t</a> *&#160;</td>
          <td class="paramname"><em>conn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d6/d5c/structobsws__stats__t.html">obsws_stats_t</a> *&#160;</td>
          <td class="paramname"><em>stats</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get connection statistics and performance metrics. </p>
<p >Returns counters showing what's happened on this connection - messages sent, bytes transmitted, errors, reconnect attempts, etc. Useful for monitoring, debugging, or just curiosity.</p>
<p >The latency field (last_ping_ms) shows the round-trip time of the last ping, which indicates network quality. Higher values mean slower network or more congestion.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">conn</td><td>Connection handle </td></tr>
    <tr><td class="paramname">stats</td><td>Pointer to structure to fill (required) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>OBSWS_OK on success, error code if conn is invalid</dd></dl>
<dl class="section note"><dt>Note</dt><dd>fast operation - just copies the stats struct.</dd></dl>
<p>Get connection statistics and performance metrics.</p>
<p >The library maintains statistics about the connection:</p><ul>
<li>messages_sent / messages_received: Count of WebSocket messages</li>
<li>bytes_sent / bytes_received: Total bytes transmitted/received</li>
<li>connected_since: Timestamp of when we reached CONNECTED state</li>
<li>reconnect_count: How many times we've reconnected (0 if never disconnected)</li>
</ul>
<p >These can be useful for:</p><ul>
<li>Monitoring connection health</li>
<li>Detecting stalled connections (if bytes_received stops increasing)</li>
<li>Debugging and performance profiling</li>
<li>Health dashboards or logging</li>
</ul>
<p >Thread-safe: This function acquires stats_mutex and copies the entire stats structure, so it's safe to call from any thread. The copy operation is atomic from the caller's perspective.</p>
<p >Example usage: </p><div class="fragment"><div class="line"><a class="code hl_struct" href="../../d6/d5c/structobsws__stats__t.html">obsws_stats_t</a> stats;</div>
<div class="line"><a class="code hl_function" href="../../dd/d08/library_8h.html#a5cce41cb6c70229eaab8b1b3afba57a9">obsws_get_stats</a>(conn, &amp;stats);</div>
<div class="line">printf(<span class="stringliteral">&quot;Received %zu messages, %zu bytes\\n&quot;</span>, </div>
<div class="line">       stats.<a class="code hl_variable" href="../../d6/d5c/structobsws__stats__t.html#acbd2023849f8049c705c4cbff567119b">messages_received</a>, stats.<a class="code hl_variable" href="../../d6/d5c/structobsws__stats__t.html#ae29f4f06b24960c6802aefd3f1627b4f">bytes_received</a>);</div>
<div class="ttc" id="alibrary_8h_html_a5cce41cb6c70229eaab8b1b3afba57a9"><div class="ttname"><a href="../../dd/d08/library_8h.html#a5cce41cb6c70229eaab8b1b3afba57a9">obsws_get_stats</a></div><div class="ttdeci">obsws_error_t obsws_get_stats(const obsws_connection_t *conn, obsws_stats_t *stats)</div><div class="ttdoc">Get connection statistics and performance metrics.</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d27/library_8c_source.html#l01706">library.c:1706</a></div></div>
<div class="ttc" id="astructobsws__stats__t_html"><div class="ttname"><a href="../../d6/d5c/structobsws__stats__t.html">obsws_stats_t</a></div><div class="ttdoc">Connection statistics - useful for monitoring and debugging connection health.</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d08/library_8h_source.html#l00283">library.h:283</a></div></div>
<div class="ttc" id="astructobsws__stats__t_html_acbd2023849f8049c705c4cbff567119b"><div class="ttname"><a href="../../d6/d5c/structobsws__stats__t.html#acbd2023849f8049c705c4cbff567119b">obsws_stats_t::messages_received</a></div><div class="ttdeci">uint64_t messages_received</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d08/library_8h_source.html#l00285">library.h:285</a></div></div>
<div class="ttc" id="astructobsws__stats__t_html_ae29f4f06b24960c6802aefd3f1627b4f"><div class="ttname"><a href="../../d6/d5c/structobsws__stats__t.html#ae29f4f06b24960c6802aefd3f1627b4f">obsws_stats_t::bytes_received</a></div><div class="ttdeci">uint64_t bytes_received</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d08/library_8h_source.html#l00287">library.h:287</a></div></div>
</div><!-- fragment --><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">conn</td><td>The connection to query (NULL returns error) </td></tr>
    <tr><td class="paramname">stats</td><td>Pointer to stats structure to fill (must not be NULL) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>OBSWS_OK on success, OBSWS_ERROR_INVALID_PARAM if conn or stats is NULL</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="../../d6/d5c/structobsws__stats__t.html" title="Connection statistics - useful for monitoring and debugging connection health.">obsws_stats_t</a> </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d5/d27/library_8c_source.html#l01706">1706</a> of file <a class="el" href="../../d5/d27/library_8c_source.html">library.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1706</span>                                                                                    {</div>
<div class="line"><span class="lineno"> 1707</span>    <span class="keywordflow">if</span> (!conn || !stats) <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="../../dd/d08/library_8h.html#a4820ea98988736a81d6695a51f74acd6a8944fe1379e71d22a82399c21107ebf6">OBSWS_ERROR_INVALID_PARAM</a>;</div>
<div class="line"><span class="lineno"> 1708</span>    </div>
<div class="line"><span class="lineno"> 1709</span>    pthread_mutex_lock((pthread_mutex_t *)&amp;conn-&gt;<a class="code hl_variable" href="../../d5/d88/structobsws__connection.html#ab29e2a357e95b536a2c79b0990614bc5">stats_mutex</a>);</div>
<div class="line"><span class="lineno"> 1710</span>    memcpy(stats, &amp;conn-&gt;<a class="code hl_variable" href="../../d5/d88/structobsws__connection.html#a10b9da03b3a1cb3a6ee0e72387915740">stats</a>, <span class="keyword">sizeof</span>(<a class="code hl_struct" href="../../d6/d5c/structobsws__stats__t.html">obsws_stats_t</a>));</div>
<div class="line"><span class="lineno"> 1711</span>    pthread_mutex_unlock((pthread_mutex_t *)&amp;conn-&gt;<a class="code hl_variable" href="../../d5/d88/structobsws__connection.html#ab29e2a357e95b536a2c79b0990614bc5">stats_mutex</a>);</div>
<div class="line"><span class="lineno"> 1712</span>    </div>
<div class="line"><span class="lineno"> 1713</span>    <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="../../dd/d08/library_8h.html#a4820ea98988736a81d6695a51f74acd6aa43b9a59f39db094a477cb25a638e5a1">OBSWS_OK</a>;</div>
<div class="line"><span class="lineno"> 1714</span>}</div>
<div class="ttc" id="astructobsws__connection_html_a10b9da03b3a1cb3a6ee0e72387915740"><div class="ttname"><a href="../../d5/d88/structobsws__connection.html#a10b9da03b3a1cb3a6ee0e72387915740">obsws_connection::stats</a></div><div class="ttdeci">obsws_stats_t stats</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d27/library_8c_source.html#l00206">library.c:206</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ae1192f8018768dc070926702f0958a61" name="ae1192f8018768dc070926702f0958a61"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae1192f8018768dc070926702f0958a61">&#9670;&nbsp;</a></span>obsws_get_streaming_status()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../dd/d08/library_8h.html#a4820ea98988736a81d6695a51f74acd6">obsws_error_t</a> obsws_get_streaming_status </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dd/d08/library_8h.html#a81ecb6b2403c8155af2e4edb4716c141">obsws_connection_t</a> *&#160;</td>
          <td class="paramname"><em>conn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool *&#160;</td>
          <td class="paramname"><em>is_streaming</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d2/d1f/structobsws__response__t.html">obsws_response_t</a> **&#160;</td>
          <td class="paramname"><em>response</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="aff3d6c035330741df84552800c0d0124" name="aff3d6c035330741df84552800c0d0124"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aff3d6c035330741df84552800c0d0124">&#9670;&nbsp;</a></span>obsws_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../dd/d08/library_8h.html#a4820ea98988736a81d6695a51f74acd6">obsws_error_t</a> obsws_init </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize the OBS WebSocket library. </p>
<p >This must be called once, before using any other library functions. It sets up global state like threading primitives and initializes dependencies like libwebsockets and OpenSSL. If you call it multiple times, subsequent calls are ignored (thread-safe).</p>
<p >Typical usage: if (<a class="el" href="../../dd/d08/library_8h.html#aff3d6c035330741df84552800c0d0124" title="Initialize the OBS WebSocket library.">obsws_init()</a> != OBSWS_OK) { fprintf(stderr, "Failed to init library\n"); return 1; } // ... use the library ... <a class="el" href="../../dd/d08/library_8h.html#ad3afe1c77e8b8f26a8281186379790a1" title="Cleanup the OBS WebSocket library.">obsws_cleanup()</a>;</p>
<dl class="section return"><dt>Returns</dt><dd>OBSWS_OK on success, error code if initialization failed</dd></dl>
<dl class="section note"><dt>Note</dt><dd>Call this from your main thread before spawning other threads. </dd>
<dd>
Very thread-safe - can be called multiple times, only initializes once.</dd></dl>
<p>Initialize the OBS WebSocket library.</p>
<p >This function must be called before creating any connections. It:</p><ol type="1">
<li>Initializes OpenSSL (EVP library for hashing)</li>
<li>Seeds the random number generator for UUID generation</li>
<li>Sets the global g_library_initialized flag</li>
</ol>
<p >Thread safety: This function is thread-safe. Multiple threads can call it simultaneously, and only one will actually do the initialization (protected by g_init_mutex). Subsequent calls are no-ops.</p>
<p >Note: <a class="el" href="../../dd/d08/library_8h.html#a7ed7225961f0989acb31ebbd9c099626" title="Establish a connection to OBS.">obsws_connect()</a> will call this automatically if you forget, so you don't <em>have</em> to call it explicitly. But doing so allows you to initialize in a controlled way, separate from connection creation.</p>
<p >Cleanup: When you're done with the library, call <a class="el" href="../../dd/d08/library_8h.html#ad3afe1c77e8b8f26a8281186379790a1" title="Cleanup the OBS WebSocket library.">obsws_cleanup()</a> to deallocate resources. This is technically optional on program exit (the OS cleans up anyway), but good practice for testing and library shutdown.</p>
<dl class="section return"><dt>Returns</dt><dd>OBSWS_OK always (initialization cannot fail in the current design)</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="../../dd/d08/library_8h.html#ad3afe1c77e8b8f26a8281186379790a1" title="Cleanup the OBS WebSocket library.">obsws_cleanup</a>, <a class="el" href="../../dd/d08/library_8h.html#a7ed7225961f0989acb31ebbd9c099626" title="Establish a connection to OBS.">obsws_connect</a> </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d5/d27/library_8c_source.html#l01196">1196</a> of file <a class="el" href="../../d5/d27/library_8c_source.html">library.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1196</span>                               {</div>
<div class="line"><span class="lineno"> 1197</span>    pthread_mutex_lock(&amp;<a class="code hl_variable" href="../../d5/d27/library_8c.html#ad5f633670e2eea3285c1867570a33cbc">g_init_mutex</a>);</div>
<div class="line"><span class="lineno"> 1198</span>    </div>
<div class="line"><span class="lineno"> 1199</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../d5/d27/library_8c.html#a5c573cf80a65ed908b966420c4a5d7d2">g_library_initialized</a>) {</div>
<div class="line"><span class="lineno"> 1200</span>        pthread_mutex_unlock(&amp;<a class="code hl_variable" href="../../d5/d27/library_8c.html#ad5f633670e2eea3285c1867570a33cbc">g_init_mutex</a>);</div>
<div class="line"><span class="lineno"> 1201</span>        <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="../../dd/d08/library_8h.html#a4820ea98988736a81d6695a51f74acd6aa43b9a59f39db094a477cb25a638e5a1">OBSWS_OK</a>;</div>
<div class="line"><span class="lineno"> 1202</span>    }</div>
<div class="line"><span class="lineno"> 1203</span>    </div>
<div class="line"><span class="lineno"> 1204</span>    <span class="comment">/* Initialize OpenSSL */</span></div>
<div class="line"><span class="lineno"> 1205</span>    OpenSSL_add_all_algorithms();</div>
<div class="line"><span class="lineno"> 1206</span>    </div>
<div class="line"><span class="lineno"> 1207</span>    <span class="comment">/* Seed random number generator */</span></div>
<div class="line"><span class="lineno"> 1208</span>    srand(time(NULL));</div>
<div class="line"><span class="lineno"> 1209</span>    </div>
<div class="line"><span class="lineno"> 1210</span>    <a class="code hl_variable" href="../../d5/d27/library_8c.html#a5c573cf80a65ed908b966420c4a5d7d2">g_library_initialized</a> = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 1211</span>    pthread_mutex_unlock(&amp;<a class="code hl_variable" href="../../d5/d27/library_8c.html#ad5f633670e2eea3285c1867570a33cbc">g_init_mutex</a>);</div>
<div class="line"><span class="lineno"> 1212</span>    </div>
<div class="line"><span class="lineno"> 1213</span>    <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="../../dd/d08/library_8h.html#a4820ea98988736a81d6695a51f74acd6aa43b9a59f39db094a477cb25a638e5a1">OBSWS_OK</a>;</div>
<div class="line"><span class="lineno"> 1214</span>}</div>
</div><!-- fragment --><div id="dynsection-5" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-5-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-5-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-5-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../dd/d08/library_8h_aff3d6c035330741df84552800c0d0124_icgraph.svg" width="271" height="38"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="ad9894e72ee8510f4eaf7d42feaf0cf9a" name="ad9894e72ee8510f4eaf7d42feaf0cf9a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad9894e72ee8510f4eaf7d42feaf0cf9a">&#9670;&nbsp;</a></span>obsws_is_connected()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool obsws_is_connected </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../dd/d08/library_8h.html#a81ecb6b2403c8155af2e4edb4716c141">obsws_connection_t</a> *&#160;</td>
          <td class="paramname"><em>conn</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Check if connection is currently authenticated and ready to use. </p>
<p >Returns true only if the state is CONNECTED - meaning authentication completed and you can send commands. Returns false in all other states (DISCONNECTED, CONNECTING, AUTHENTICATING, ERROR).</p>
<p >This is the main function to check before sending commands. If it returns false, commands will fail with OBSWS_ERROR_NOT_CONNECTED.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">conn</td><td>Connection handle </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if fully connected and authenticated, false otherwise</dd></dl>
<dl class="section note"><dt>Note</dt><dd>Fast operation - just checks internal state variable. </dd>
<dd>
Prefer using state callbacks to be notified of changes instead of polling.</dd></dl>
<p>Check if connection is currently authenticated and ready to use.</p>
<p >Convenience function that returns true if the connection is in CONNECTED state and false otherwise. Useful for checking before sending requests.</p>
<p >Thread-safe: This function locks the state_mutex before checking, so it's safe to call from any thread.</p>
<p >Return value: The connection must be in OBSWS_STATE_CONNECTED to return true. If it's CONNECTING, AUTHENTICATING, ERROR, or DISCONNECTED, this returns false.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">conn</td><td>The connection to check (NULL is safe - returns false) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if connected, false otherwise</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="../../dd/d08/library_8h.html#a61a10e31041532a9da0c1c1993f84a79" title="Get the detailed current connection state.">obsws_get_state</a> </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d5/d27/library_8c_source.html#l01625">1625</a> of file <a class="el" href="../../d5/d27/library_8c_source.html">library.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1625</span>                                                        {</div>
<div class="line"><span class="lineno"> 1626</span>    <span class="keywordflow">if</span> (!conn) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1627</span>    </div>
<div class="line"><span class="lineno"> 1628</span>    <span class="comment">/* Thread-safe state check */</span></div>
<div class="line"><span class="lineno"> 1629</span>    pthread_mutex_lock((pthread_mutex_t *)&amp;conn-&gt;<a class="code hl_variable" href="../../d5/d88/structobsws__connection.html#aa2752abaf5b201277fae73b42c78c8e6">state_mutex</a>);</div>
<div class="line"><span class="lineno"> 1630</span>    <span class="keywordtype">bool</span> connected = (conn-&gt;<a class="code hl_variable" href="../../d5/d88/structobsws__connection.html#adad7d0fb4880543b1f5b5e897010d814">state</a> == <a class="code hl_enumvalue" href="../../dd/d08/library_8h.html#a2fb4e7d7196f39a5ce0e9c71b2d78991adbaae08035175b470fb9f543414672b8">OBSWS_STATE_CONNECTED</a>);</div>
<div class="line"><span class="lineno"> 1631</span>    pthread_mutex_unlock((pthread_mutex_t *)&amp;conn-&gt;<a class="code hl_variable" href="../../d5/d88/structobsws__connection.html#aa2752abaf5b201277fae73b42c78c8e6">state_mutex</a>);</div>
<div class="line"><span class="lineno"> 1632</span>    </div>
<div class="line"><span class="lineno"> 1633</span>    <span class="keywordflow">return</span> connected;</div>
<div class="line"><span class="lineno"> 1634</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="aa9d2065acacec30d240d753e422f2de3" name="aa9d2065acacec30d240d753e422f2de3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa9d2065acacec30d240d753e422f2de3">&#9670;&nbsp;</a></span>obsws_ping()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int obsws_ping </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dd/d08/library_8h.html#a81ecb6b2403c8155af2e4edb4716c141">obsws_connection_t</a> *&#160;</td>
          <td class="paramname"><em>conn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>timeout_ms</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Send a ping and measure round-trip time to check connection health. </p>
<p >Sends a WebSocket ping to OBS and waits for the pong response. The round-trip time tells you the network latency. If the ping times out, it indicates a problem - either the network is very slow or OBS is not responding.</p>
<p >This is useful for:</p><ul>
<li>Checking if the connection is alive</li>
<li>Measuring network latency</li>
<li>Detecting when a connection appears OK but OBS isn't responding</li>
</ul>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">conn</td><td>Connection handle </td></tr>
    <tr><td class="paramname">timeout_ms</td><td>How long to wait for pong (milliseconds). Use 5000-10000 as typical. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Round-trip time in milliseconds if successful, negative error code if it failed (probably OBSWS_ERROR_TIMEOUT if OBS isn't responding)</dd></dl>
<dl class="section note"><dt>Note</dt><dd>Returns immediately if not connected - doesn't attempt to connect. </dd>
<dd>
The library also sends pings automatically at ping_interval_ms, so you usually don't need to call this manually. </dd>
<dd>
A high latency (e.g., several seconds) might indicate network problems. </dd></dl>

</div>
</div>
<a id="abe53062a781ca1cd537f799c075b3e2e" name="abe53062a781ca1cd537f799c075b3e2e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abe53062a781ca1cd537f799c075b3e2e">&#9670;&nbsp;</a></span>obsws_process_events()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int obsws_process_events </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dd/d08/library_8h.html#a81ecb6b2403c8155af2e4edb4716c141">obsws_connection_t</a> *&#160;</td>
          <td class="paramname"><em>conn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>timeout_ms</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Process pending events from the WebSocket connection. </p>
<p >The library processes events in a background thread and calls your callbacks as events arrive. This function is provided for API compatibility and for applications that prefer to do event processing in the main loop rather than in background threads.</p>
<p >In most cases, you don't need to call this - just set up your callbacks and the library handles everything. Call this only if you want explicit control over when event processing happens (e.g., in a game loop).</p>
<p >Note: Even if you don't call this function, events are still processed in the background thread and callbacks are still called. This function is optional.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">conn</td><td>Connection handle </td></tr>
    <tr><td class="paramname">timeout_ms</td><td>Maximum time to wait for events (milliseconds). 0 = return immediately without processing, non-zero = wait up to this long for events. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Number of events processed, or negative error code</dd></dl>
<dl class="section note"><dt>Note</dt><dd>This function is called automatically in the background thread, so you don't typically need to call it manually. </dd>
<dd>
Callbacks are called from within this function (or from the background thread). </dd>
<dd>
If you call this frequently with timeout_ms=0, you'll busy-wait (CPU usage). </dd>
<dd>
This is provided mainly for API flexibility - most code should not use it.</dd></dl>
<p>Process pending events from the WebSocket connection.</p>
<p >This function is provided for API compatibility with single-threaded applications. However, the libwsv5 library uses a background event_thread by default, so this function is usually not needed - events are processed automatically in the background.</p>
<p ><b>Background Event Processing:</b> By design, all WebSocket messages (events, responses, etc.) are processed by the background event_thread. This thread:</p><ul>
<li>Continuously calls lws_service() to pump WebSocket events</li>
<li>Receives incoming messages from OBS</li>
<li>Routes responses to waiting callers via condition variables</li>
<li>Calls event callbacks for real-time events</li>
<li>Maintains keep-alive pings</li>
</ul>
<p >Applications don't need to call this function - the thread handles everything.</p>
<p ><b>What this function does:</b> Currently, this is mainly for API compatibility. It:</p><ul>
<li>Validates the connection object</li>
<li>If timeout_ms &gt; 0, sleeps for that duration</li>
<li>Returns 0 (success)</li>
</ul>
<p ><b>When to use:</b></p><ul>
<li>Most applications: Don't call this - use background thread</li>
<li>If you disable background thread: Call this in your main loop</li>
</ul>
<p ><b>Example (not typical - background thread is recommended):</b> </p><div class="fragment"><div class="line"><span class="comment">// Not recommended - background thread is better</span></div>
<div class="line"><span class="keywordflow">while</span> (app_running) {</div>
<div class="line">    <a class="code hl_function" href="../../dd/d08/library_8h.html#abe53062a781ca1cd537f799c075b3e2e">obsws_process_events</a>(conn, 100);  <span class="comment">// Check every 100ms</span></div>
<div class="line">}</div>
<div class="ttc" id="alibrary_8h_html_abe53062a781ca1cd537f799c075b3e2e"><div class="ttname"><a href="../../dd/d08/library_8h.html#abe53062a781ca1cd537f799c075b3e2e">obsws_process_events</a></div><div class="ttdeci">int obsws_process_events(obsws_connection_t *conn, uint32_t timeout_ms)</div><div class="ttdoc">Process pending events from the WebSocket connection.</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d27/library_8c_source.html#l02347">library.c:2347</a></div></div>
</div><!-- fragment --><p >Better approach - let background thread handle it: </p><div class="fragment"><div class="line"><a class="code hl_function" href="../../dd/d08/library_8h.html#a7ed7225961f0989acb31ebbd9c099626">obsws_connect</a>(conn, <span class="stringliteral">&quot;localhost&quot;</span>, 4455, <span class="stringliteral">&quot;password&quot;</span>);</div>
<div class="line"><span class="comment">// Background thread processes events automatically</span></div>
<div class="line"><span class="keywordflow">while</span> (app_running) {</div>
<div class="line">    <span class="comment">// Your application code - no need to call process_events</span></div>
<div class="line">}</div>
<div class="line"><a class="code hl_function" href="../../dd/d08/library_8h.html#aa8389ba6731e01a9426bd921180b7195">obsws_disconnect</a>(conn);</div>
<div class="ttc" id="alibrary_8h_html_a7ed7225961f0989acb31ebbd9c099626"><div class="ttname"><a href="../../dd/d08/library_8h.html#a7ed7225961f0989acb31ebbd9c099626">obsws_connect</a></div><div class="ttdeci">obsws_connection_t * obsws_connect(const obsws_config_t *config)</div><div class="ttdoc">Establish a connection to OBS.</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d27/library_8c_source.html#l01425">library.c:1425</a></div></div>
<div class="ttc" id="alibrary_8h_html_aa8389ba6731e01a9426bd921180b7195"><div class="ttname"><a href="../../dd/d08/library_8h.html#aa8389ba6731e01a9426bd921180b7195">obsws_disconnect</a></div><div class="ttdeci">void obsws_disconnect(obsws_connection_t *conn)</div><div class="ttdoc">Disconnect and destroy a connection.</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d27/library_8c_source.html#l01549">library.c:1549</a></div></div>
</div><!-- fragment --><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">conn</td><td>Connection object (can be NULL - returns error) </td></tr>
    <tr><td class="paramname">timeout_ms</td><td>Sleep duration in milliseconds (0 = don't sleep)</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success </dd>
<dd>
OBSWS_ERROR_INVALID_PARAM if conn is NULL</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="../../dd/d08/library_8h.html#a7ed7225961f0989acb31ebbd9c099626" title="Establish a connection to OBS.">obsws_connect</a>, <a class="el" href="../../dd/d08/library_8h.html#aa8389ba6731e01a9426bd921180b7195" title="Disconnect and destroy a connection.">obsws_disconnect</a>, <a class="el" href="../../d5/d27/library_8c.html#a27739efcea1287611c82ff3e8c88d7b7" title="Background thread function that continuously processes WebSocket events.">event_thread_func</a> </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d5/d27/library_8c_source.html#l02347">2347</a> of file <a class="el" href="../../d5/d27/library_8c_source.html">library.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2347</span>                                                                        {</div>
<div class="line"><span class="lineno"> 2348</span>    <span class="keywordflow">if</span> (!conn) <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="../../dd/d08/library_8h.html#a4820ea98988736a81d6695a51f74acd6a8944fe1379e71d22a82399c21107ebf6">OBSWS_ERROR_INVALID_PARAM</a>;</div>
<div class="line"><span class="lineno"> 2349</span>    </div>
<div class="line"><span class="lineno"> 2350</span>    <span class="comment">/* Events are processed in the background thread */</span></div>
<div class="line"><span class="lineno"> 2351</span>    <span class="comment">/* This function is provided for API compatibility */</span></div>
<div class="line"><span class="lineno"> 2352</span>    <span class="keywordflow">if</span> (timeout_ms &gt; 0) {</div>
<div class="line"><span class="lineno"> 2353</span>        <span class="keyword">struct </span>timespec ts;</div>
<div class="line"><span class="lineno"> 2354</span>        ts.tv_sec = timeout_ms / 1000;</div>
<div class="line"><span class="lineno"> 2355</span>        ts.tv_nsec = (timeout_ms % 1000) * 1000000;</div>
<div class="line"><span class="lineno"> 2356</span>        nanosleep(&amp;ts, NULL);</div>
<div class="line"><span class="lineno"> 2357</span>    }</div>
<div class="line"><span class="lineno"> 2358</span>    </div>
<div class="line"><span class="lineno"> 2359</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno"> 2360</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="aab2a1b2b1c4a2a19609abfdb4b42f733" name="aab2a1b2b1c4a2a19609abfdb4b42f733"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aab2a1b2b1c4a2a19609abfdb4b42f733">&#9670;&nbsp;</a></span>obsws_reconnect()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../dd/d08/library_8h.html#a4820ea98988736a81d6695a51f74acd6">obsws_error_t</a> obsws_reconnect </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dd/d08/library_8h.html#a81ecb6b2403c8155af2e4edb4716c141">obsws_connection_t</a> *&#160;</td>
          <td class="paramname"><em>conn</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Manually trigger a reconnection attempt. </p>
<p >Normally the library handles reconnection automatically if auto_reconnect is enabled. This function lets you force a reconnect attempt right now, for example if you detect the connection seems dead even though the library hasn't noticed yet.</p>
<p >If the connection is currently connected, this disconnects and reconnects. If it's not connected, this starts a connection attempt.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">conn</td><td>Connection handle </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>OBSWS_OK if reconnection started, error code otherwise</dd></dl>
<dl class="section note"><dt>Note</dt><dd>This is async - it returns immediately, reconnection happens in background. </dd>
<dd>
If auto_reconnect is disabled, this still reconnects one time. </dd></dl>

</div>
</div>
<a id="a53067e61dc0ddcf1134d46b275d7ce6b" name="a53067e61dc0ddcf1134d46b275d7ce6b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a53067e61dc0ddcf1134d46b275d7ce6b">&#9670;&nbsp;</a></span>obsws_response_free()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void obsws_response_free </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d2/d1f/structobsws__response__t.html">obsws_response_t</a> *&#160;</td>
          <td class="paramname"><em>response</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Free a response structure and all its allocated memory. </p>
<p >When you get a response from functions like <a class="el" href="../../dd/d08/library_8h.html#a7cb91bbce42b458f267f79b9a7b293bf" title="Switch OBS to a specific scene.">obsws_set_current_scene()</a> or <a class="el" href="../../dd/d08/library_8h.html#af2fd7f8dd928e03b38a3e2c5b5745417" title="Send a synchronous request to OBS and wait for the response.">obsws_send_request()</a>, you're responsible for freeing it when done. This function frees the response_data and error_message strings, plus the response struct itself.</p>
<p >Always call this when you're done with a response, or you leak memory. It's safe to call with NULL (does nothing).</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">response</td><td>Response to free (can be NULL)</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>Safe to call with NULL. </dd>
<dd>
After calling this, don't access the response pointer anymore. </dd>
<dd>
Don't call free() manually on responses - use this function.</dd></dl>
<p>Free a response structure and all its allocated memory.</p>
<p >This function safely deallocates all memory associated with a response:</p><ul>
<li>The error_message string (if present)</li>
<li>The response_data JSON string (if present) <br  />
</li>
<li>The response structure itself</li>
</ul>
<p ><b>Safe to call with NULL</b> Calling with NULL is safe and does nothing - no crash or error. This allows for simpler cleanup: </p><div class="fragment"><div class="line"><a class="code hl_struct" href="../../d2/d1f/structobsws__response__t.html">obsws_response_t</a> *resp = NULL;</div>
<div class="line"><a class="code hl_function" href="../../dd/d08/library_8h.html#af2fd7f8dd928e03b38a3e2c5b5745417">obsws_send_request</a>(..., &amp;resp, ...);</div>
<div class="line"><a class="code hl_function" href="../../dd/d08/library_8h.html#a53067e61dc0ddcf1134d46b275d7ce6b">obsws_response_free</a>(resp);  <span class="comment">// Safe even if send_request failed</span></div>
<div class="ttc" id="alibrary_8h_html_a53067e61dc0ddcf1134d46b275d7ce6b"><div class="ttname"><a href="../../dd/d08/library_8h.html#a53067e61dc0ddcf1134d46b275d7ce6b">obsws_response_free</a></div><div class="ttdeci">void obsws_response_free(obsws_response_t *response)</div><div class="ttdoc">Free a response structure and all its allocated memory.</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d27/library_8c_source.html#l02195">library.c:2195</a></div></div>
</div><!-- fragment --><p ><b>Memory ownership</b></p><ul>
<li><a class="el" href="../../dd/d08/library_8h.html#af2fd7f8dd928e03b38a3e2c5b5745417" title="Send a synchronous request to OBS and wait for the response.">obsws_send_request()</a> allocates the response - you must free it</li>
<li>High-level functions like <a class="el" href="../../dd/d08/library_8h.html#a7cb91bbce42b458f267f79b9a7b293bf" title="Switch OBS to a specific scene.">obsws_set_current_scene()</a> can optionally take response ownership or free internally based on parameters</li>
</ul>
<p ><b>NOT thread-safe</b> Each response should only be accessed/freed by one thread. If multiple threads need the response, use higher-level synchronization.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">response</td><td>Response to free. Can be NULL (does nothing if so).</td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="../../dd/d08/library_8h.html#af2fd7f8dd928e03b38a3e2c5b5745417" title="Send a synchronous request to OBS and wait for the response.">obsws_send_request</a>, <a class="el" href="../../d2/d1f/structobsws__response__t.html" title="Response structure for requests to OBS.">obsws_response_t</a> </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d5/d27/library_8c_source.html#l02195">2195</a> of file <a class="el" href="../../d5/d27/library_8c_source.html">library.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2195</span>                                                     {</div>
<div class="line"><span class="lineno"> 2196</span>    <span class="keywordflow">if</span> (!response) <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 2197</span>    </div>
<div class="line"><span class="lineno"> 2198</span>    free(response-&gt;<a class="code hl_variable" href="../../d2/d1f/structobsws__response__t.html#ab2b3055a84989889d3de28c2ccfd0dac">error_message</a>);</div>
<div class="line"><span class="lineno"> 2199</span>    free(response-&gt;<a class="code hl_variable" href="../../d2/d1f/structobsws__response__t.html#a696a1179e1d40c6c31136999846d5902">response_data</a>);</div>
<div class="line"><span class="lineno"> 2200</span>    free(response);</div>
<div class="line"><span class="lineno"> 2201</span>}</div>
<div class="ttc" id="astructobsws__response__t_html_ab2b3055a84989889d3de28c2ccfd0dac"><div class="ttname"><a href="../../d2/d1f/structobsws__response__t.html#ab2b3055a84989889d3de28c2ccfd0dac">obsws_response_t::error_message</a></div><div class="ttdeci">char * error_message</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d08/library_8h_source.html#l00312">library.h:312</a></div></div>
</div><!-- fragment --><div id="dynsection-6" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-6-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-6-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-6-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../dd/d08/library_8h_a53067e61dc0ddcf1134d46b275d7ce6b_icgraph.svg" width="411" height="139"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="af2fd7f8dd928e03b38a3e2c5b5745417" name="af2fd7f8dd928e03b38a3e2c5b5745417"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af2fd7f8dd928e03b38a3e2c5b5745417">&#9670;&nbsp;</a></span>obsws_send_request()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../dd/d08/library_8h.html#a4820ea98988736a81d6695a51f74acd6">obsws_error_t</a> obsws_send_request </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dd/d08/library_8h.html#a81ecb6b2403c8155af2e4edb4716c141">obsws_connection_t</a> *&#160;</td>
          <td class="paramname"><em>conn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>request_type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>request_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d2/d1f/structobsws__response__t.html">obsws_response_t</a> **&#160;</td>
          <td class="paramname"><em>response</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>timeout_ms</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Send a synchronous request to OBS and wait for the response. </p>
<p >This is the core function for all OBS operations. It implements the asynchronous request-response pattern of the OBS WebSocket v5 protocol:</p>
<p ><b>Protocol Flow:</b></p><ol type="1">
<li>Generate a unique UUID for this request (used to match responses)</li>
<li>Create a pending_request_t to track the in-flight operation</li>
<li>Build the request JSON with opcode 6 (REQUEST)</li>
<li>Send the message via lws_write()</li>
<li>Block the caller with pthread_cond_timedwait() until response arrives</li>
<li>Return the response to caller (who owns it and must free with obsws_response_free)</li>
</ol>
<p ><b>Why synchronous from caller's perspective?</b> Although WebSocket messages are async at the protocol level, we provide a synchronous API - the caller sends a request and blocks until the response arrives. This is simpler for application code than callback-based async APIs.</p>
<p >Behind the scenes, the background event_thread continuously processes WebSocket messages. When a REQUEST_RESPONSE (opcode 7) arrives matching a pending request ID, it signals the waiting condition variable, waking up the blocked caller.</p>
<p ><b>Performance implications:</b></p><ul>
<li>Thread-safe: The main app thread can be blocked in <a class="el" href="../../d5/d27/library_8c.html#af2fd7f8dd928e03b38a3e2c5b5745417" title="Send a synchronous request to OBS and wait for the response.">obsws_send_request()</a> while the background event_thread processes other messages</li>
<li>No polling: Uses condition variables, not CPU-wasting polling loops</li>
<li>Can make multiple simultaneous requests from different threads (up to OBSWS_MAX_PENDING_REQUESTS = 256)</li>
</ul>
<p ><b>Example usage:</b> </p><div class="fragment"><div class="line"><a class="code hl_struct" href="../../d2/d1f/structobsws__response__t.html">obsws_response_t</a> *response = NULL;</div>
<div class="line"><a class="code hl_enumeration" href="../../dd/d08/library_8h.html#a4820ea98988736a81d6695a51f74acd6">obsws_error_t</a> err = <a class="code hl_function" href="../../dd/d08/library_8h.html#af2fd7f8dd928e03b38a3e2c5b5745417">obsws_send_request</a>(conn, <span class="stringliteral">&quot;SetCurrentProgramScene&quot;</span>,</div>
<div class="line">                                       <span class="stringliteral">&quot;{\&quot;sceneName\&quot;: \&quot;Scene1\&quot;}&quot;</span>, </div>
<div class="line">                                       &amp;response, 0);</div>
<div class="line"><span class="keywordflow">if</span> (err == <a class="code hl_enumvalue" href="../../dd/d08/library_8h.html#a4820ea98988736a81d6695a51f74acd6aa43b9a59f39db094a477cb25a638e5a1">OBSWS_OK</a> &amp;&amp; response &amp;&amp; response-&gt;<a class="code hl_variable" href="../../d2/d1f/structobsws__response__t.html#abbf2e99faa8fdef1c94bbd174470c821">success</a>) {</div>
<div class="line">    printf(<span class="stringliteral">&quot;Scene switched successfully\\n&quot;</span>);</div>
<div class="line">}</div>
<div class="line"><a class="code hl_function" href="../../dd/d08/library_8h.html#a53067e61dc0ddcf1134d46b275d7ce6b">obsws_response_free</a>(response);</div>
</div><!-- fragment --><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">conn</td><td>Connection object (must be in CONNECTED state) </td></tr>
    <tr><td class="paramname">request_type</td><td>OBS request type like "GetCurrentProgramScene", "SetCurrentProgramScene", etc. </td></tr>
    <tr><td class="paramname">request_data</td><td>Optional JSON string with request parameters. NULL for no parameters. Example: "{\"sceneName\": \"Scene1\"}" </td></tr>
    <tr><td class="paramname">response</td><td>Output pointer for the response. Will be allocated by this function. Caller must free with <a class="el" href="../../d5/d27/library_8c.html#a53067e61dc0ddcf1134d46b275d7ce6b" title="Free a response object previously allocated by obsws_send_request().">obsws_response_free()</a>. Can be NULL if caller doesn't need the response (but response is still consumed from server). </td></tr>
    <tr><td class="paramname">timeout_ms</td><td>Timeout in milliseconds (0 = use config-&gt;recv_timeout_ms, typically 30000ms)</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>OBSWS_OK if response received (check response-&gt;success for operation success) </dd>
<dd>
OBSWS_ERROR_INVALID_PARAM if conn, request_type, or response pointer is NULL </dd>
<dd>
OBSWS_ERROR_NOT_CONNECTED if connection is not in CONNECTED state </dd>
<dd>
OBSWS_ERROR_OUT_OF_MEMORY if pending request allocation fails </dd>
<dd>
OBSWS_ERROR_SEND_FAILED if message send fails (buffer too small, invalid wsi, etc) </dd>
<dd>
OBSWS_ERROR_TIMEOUT if no response received within timeout_ms</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="../../d2/d1f/structobsws__response__t.html" title="Response structure for requests to OBS.">obsws_response_t</a>, <a class="el" href="../../d5/d27/library_8c.html#a53067e61dc0ddcf1134d46b275d7ce6b" title="Free a response object previously allocated by obsws_send_request().">obsws_response_free</a>, <a class="el" href="../../d5/d27/library_8c.html#a39534944f30eaed9a0f2d7de19be0c3e" title="Convert an error code to a human-readable string.">obsws_error_string</a> </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d5/d27/library_8c_source.html#l01776">1776</a> of file <a class="el" href="../../d5/d27/library_8c_source.html">library.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1777</span>                                                                                                             {</div>
<div class="line"><span class="lineno"> 1778</span>    <span class="keywordflow">if</span> (!conn || !request_type || !response) {</div>
<div class="line"><span class="lineno"> 1779</span>        <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="../../dd/d08/library_8h.html#a4820ea98988736a81d6695a51f74acd6a8944fe1379e71d22a82399c21107ebf6">OBSWS_ERROR_INVALID_PARAM</a>;</div>
<div class="line"><span class="lineno"> 1780</span>    }</div>
<div class="line"><span class="lineno"> 1781</span>    </div>
<div class="line"><span class="lineno"> 1782</span>    <span class="keywordflow">if</span> (conn-&gt;<a class="code hl_variable" href="../../d5/d88/structobsws__connection.html#adad7d0fb4880543b1f5b5e897010d814">state</a> != <a class="code hl_enumvalue" href="../../dd/d08/library_8h.html#a2fb4e7d7196f39a5ce0e9c71b2d78991adbaae08035175b470fb9f543414672b8">OBSWS_STATE_CONNECTED</a>) {</div>
<div class="line"><span class="lineno"> 1783</span>        <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="../../dd/d08/library_8h.html#a4820ea98988736a81d6695a51f74acd6ace2eb9908cf7d65109788a2593582982">OBSWS_ERROR_NOT_CONNECTED</a>;</div>
<div class="line"><span class="lineno"> 1784</span>    }</div>
<div class="line"><span class="lineno"> 1785</span>    </div>
<div class="line"><span class="lineno"> 1786</span>    <span class="comment">/* Generate request ID */</span></div>
<div class="line"><span class="lineno"> 1787</span>    <span class="keywordtype">char</span> request_id[<a class="code hl_define" href="../../d5/d27/library_8c.html#a25b13264018fd1dc7b1f2bbd93bdc7cc">OBSWS_UUID_LENGTH</a>];</div>
<div class="line"><span class="lineno"> 1788</span>    <a class="code hl_function" href="../../d5/d27/library_8c.html#af79be0fed07182761c923170f4211089">generate_uuid</a>(request_id);</div>
<div class="line"><span class="lineno"> 1789</span>    </div>
<div class="line"><span class="lineno"> 1790</span>    <span class="comment">/* Create pending request */</span></div>
<div class="line"><span class="lineno"> 1791</span>    <a class="code hl_struct" href="../../da/d45/structpending__request.html">pending_request_t</a> *req = <a class="code hl_function" href="../../d5/d27/library_8c.html#aafc3d1ce3debddcb8e3888c9806e044a">create_pending_request</a>(conn, request_id);</div>
<div class="line"><span class="lineno"> 1792</span>    <span class="keywordflow">if</span> (!req) {</div>
<div class="line"><span class="lineno"> 1793</span>        <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="../../dd/d08/library_8h.html#a4820ea98988736a81d6695a51f74acd6a976f03f9cfc1de7d7172732454829e15">OBSWS_ERROR_OUT_OF_MEMORY</a>;</div>
<div class="line"><span class="lineno"> 1794</span>    }</div>
<div class="line"><span class="lineno"> 1795</span>    </div>
<div class="line"><span class="lineno"> 1796</span>    <span class="comment">/* Build request JSON */</span></div>
<div class="line"><span class="lineno"> 1797</span>    cJSON *request = cJSON_CreateObject();</div>
<div class="line"><span class="lineno"> 1798</span>    cJSON_AddNumberToObject(request, <span class="stringliteral">&quot;op&quot;</span>, <a class="code hl_define" href="../../d5/d27/library_8c.html#a6c2c324c3b2c49b7febe0b376d6c1045">OBSWS_OPCODE_REQUEST</a>);</div>
<div class="line"><span class="lineno"> 1799</span>    </div>
<div class="line"><span class="lineno"> 1800</span>    cJSON *d = cJSON_CreateObject();</div>
<div class="line"><span class="lineno"> 1801</span>    cJSON_AddStringToObject(d, <span class="stringliteral">&quot;requestType&quot;</span>, request_type);</div>
<div class="line"><span class="lineno"> 1802</span>    cJSON_AddStringToObject(d, <span class="stringliteral">&quot;requestId&quot;</span>, request_id);</div>
<div class="line"><span class="lineno"> 1803</span>    </div>
<div class="line"><span class="lineno"> 1804</span>    <span class="keywordflow">if</span> (request_data) {</div>
<div class="line"><span class="lineno"> 1805</span>        cJSON *data = cJSON_Parse(request_data);</div>
<div class="line"><span class="lineno"> 1806</span>        <span class="keywordflow">if</span> (data) {</div>
<div class="line"><span class="lineno"> 1807</span>            cJSON_AddItemToObject(d, <span class="stringliteral">&quot;requestData&quot;</span>, data);</div>
<div class="line"><span class="lineno"> 1808</span>        }</div>
<div class="line"><span class="lineno"> 1809</span>    }</div>
<div class="line"><span class="lineno"> 1810</span>    </div>
<div class="line"><span class="lineno"> 1811</span>    cJSON_AddItemToObject(request, <span class="stringliteral">&quot;d&quot;</span>, d);</div>
<div class="line"><span class="lineno"> 1812</span>    </div>
<div class="line"><span class="lineno"> 1813</span>    <span class="keywordtype">char</span> *message = cJSON_PrintUnformatted(request);</div>
<div class="line"><span class="lineno"> 1814</span>    cJSON_Delete(request);</div>
<div class="line"><span class="lineno"> 1815</span>    </div>
<div class="line"><span class="lineno"> 1816</span>    <span class="comment">/* DEBUG_HIGH: Show request being sent */</span></div>
<div class="line"><span class="lineno"> 1817</span>    <a class="code hl_function" href="../../d5/d27/library_8c.html#a3682ffd7f6175dbc796f5750172c99bf">obsws_debug</a>(conn, <a class="code hl_enumvalue" href="../../dd/d08/library_8h.html#a1997a985daa6bfb4117e885d9bb81668aceb0431d743cdecf0848564f388d51bd">OBSWS_DEBUG_HIGH</a>, <span class="stringliteral">&quot;Sending request (ID: %s): %s&quot;</span>, request_id, message);</div>
<div class="line"><span class="lineno"> 1818</span>    </div>
<div class="line"><span class="lineno"> 1819</span>    <span class="comment">/* Send request */</span></div>
<div class="line"><span class="lineno"> 1820</span>    pthread_mutex_lock(&amp;conn-&gt;<a class="code hl_variable" href="../../d5/d88/structobsws__connection.html#afc665d5d6864f038f551e4e7d4aae679">send_mutex</a>);</div>
<div class="line"><span class="lineno"> 1821</span>    <span class="keywordtype">size_t</span> len = strlen(message);</div>
<div class="line"><span class="lineno"> 1822</span>    <a class="code hl_enumeration" href="../../dd/d08/library_8h.html#a4820ea98988736a81d6695a51f74acd6">obsws_error_t</a> result = <a class="code hl_enumvalue" href="../../dd/d08/library_8h.html#a4820ea98988736a81d6695a51f74acd6aa43b9a59f39db094a477cb25a638e5a1">OBSWS_OK</a>;</div>
<div class="line"><span class="lineno"> 1823</span>    </div>
<div class="line"><span class="lineno"> 1824</span>    <span class="keywordflow">if</span> (len &lt; conn-&gt;send_buffer_size - LWS_PRE &amp;&amp; conn-&gt;<a class="code hl_variable" href="../../d5/d88/structobsws__connection.html#aaf49ac1578fc794ee4b01ccbf9edc35a">wsi</a>) {</div>
<div class="line"><span class="lineno"> 1825</span>        memcpy(conn-&gt;<a class="code hl_variable" href="../../d5/d88/structobsws__connection.html#a14a61d0e27a8cac772ce173dd31d4fb7">send_buffer</a> + LWS_PRE, message, len);</div>
<div class="line"><span class="lineno"> 1826</span>        <span class="keywordtype">int</span> written = lws_write(conn-&gt;<a class="code hl_variable" href="../../d5/d88/structobsws__connection.html#aaf49ac1578fc794ee4b01ccbf9edc35a">wsi</a>, (<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *)(conn-&gt;<a class="code hl_variable" href="../../d5/d88/structobsws__connection.html#a14a61d0e27a8cac772ce173dd31d4fb7">send_buffer</a> + LWS_PRE), len, LWS_WRITE_TEXT);</div>
<div class="line"><span class="lineno"> 1827</span>        </div>
<div class="line"><span class="lineno"> 1828</span>        <span class="keywordflow">if</span> (written &lt; 0) {</div>
<div class="line"><span class="lineno"> 1829</span>            result = <a class="code hl_enumvalue" href="../../dd/d08/library_8h.html#a4820ea98988736a81d6695a51f74acd6abab3c6691cc119a7b875d967f0fc565f">OBSWS_ERROR_SEND_FAILED</a>;</div>
<div class="line"><span class="lineno"> 1830</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 1831</span>            pthread_mutex_lock(&amp;conn-&gt;<a class="code hl_variable" href="../../d5/d88/structobsws__connection.html#ab29e2a357e95b536a2c79b0990614bc5">stats_mutex</a>);</div>
<div class="line"><span class="lineno"> 1832</span>            conn-&gt;<a class="code hl_variable" href="../../d5/d88/structobsws__connection.html#a10b9da03b3a1cb3a6ee0e72387915740">stats</a>.<a class="code hl_variable" href="../../d6/d5c/structobsws__stats__t.html#a8fcaddd7c5934bcf0a44225bc9a23fa5">messages_sent</a>++;</div>
<div class="line"><span class="lineno"> 1833</span>            conn-&gt;<a class="code hl_variable" href="../../d5/d88/structobsws__connection.html#a10b9da03b3a1cb3a6ee0e72387915740">stats</a>.<a class="code hl_variable" href="../../d6/d5c/structobsws__stats__t.html#a79582a623821723ea9bf86930eb32db2">bytes_sent</a> += len;</div>
<div class="line"><span class="lineno"> 1834</span>            pthread_mutex_unlock(&amp;conn-&gt;<a class="code hl_variable" href="../../d5/d88/structobsws__connection.html#ab29e2a357e95b536a2c79b0990614bc5">stats_mutex</a>);</div>
<div class="line"><span class="lineno"> 1835</span>        }</div>
<div class="line"><span class="lineno"> 1836</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 1837</span>        result = <a class="code hl_enumvalue" href="../../dd/d08/library_8h.html#a4820ea98988736a81d6695a51f74acd6abab3c6691cc119a7b875d967f0fc565f">OBSWS_ERROR_SEND_FAILED</a>;</div>
<div class="line"><span class="lineno"> 1838</span>    }</div>
<div class="line"><span class="lineno"> 1839</span>    pthread_mutex_unlock(&amp;conn-&gt;<a class="code hl_variable" href="../../d5/d88/structobsws__connection.html#afc665d5d6864f038f551e4e7d4aae679">send_mutex</a>);</div>
<div class="line"><span class="lineno"> 1840</span>    </div>
<div class="line"><span class="lineno"> 1841</span>    free(message);</div>
<div class="line"><span class="lineno"> 1842</span>    </div>
<div class="line"><span class="lineno"> 1843</span>    <span class="keywordflow">if</span> (result != <a class="code hl_enumvalue" href="../../dd/d08/library_8h.html#a4820ea98988736a81d6695a51f74acd6aa43b9a59f39db094a477cb25a638e5a1">OBSWS_OK</a>) {</div>
<div class="line"><span class="lineno"> 1844</span>        <a class="code hl_function" href="../../d5/d27/library_8c.html#a700c8a9baa87a3827b399776e811f328">remove_pending_request</a>(conn, req);</div>
<div class="line"><span class="lineno"> 1845</span>        <span class="keywordflow">return</span> result;</div>
<div class="line"><span class="lineno"> 1846</span>    }</div>
<div class="line"><span class="lineno"> 1847</span>    </div>
<div class="line"><span class="lineno"> 1848</span>    <span class="comment">/* Wait for response */</span></div>
<div class="line"><span class="lineno"> 1849</span>    <span class="keywordflow">if</span> (timeout_ms == 0) {</div>
<div class="line"><span class="lineno"> 1850</span>        timeout_ms = conn-&gt;<a class="code hl_variable" href="../../d5/d88/structobsws__connection.html#aaa5cf000b991e623632977c379314d89">config</a>.<a class="code hl_variable" href="../../dc/de7/structobsws__config__t.html#a6439a4274026273ba5fb9786c90daa93">recv_timeout_ms</a>;</div>
<div class="line"><span class="lineno"> 1851</span>    }</div>
<div class="line"><span class="lineno"> 1852</span>    </div>
<div class="line"><span class="lineno"> 1853</span>    <span class="keyword">struct </span>timespec ts;</div>
<div class="line"><span class="lineno"> 1854</span>    clock_gettime(CLOCK_REALTIME, &amp;ts);</div>
<div class="line"><span class="lineno"> 1855</span>    ts.tv_sec += timeout_ms / 1000;</div>
<div class="line"><span class="lineno"> 1856</span>    ts.tv_nsec += (timeout_ms % 1000) * 1000000;</div>
<div class="line"><span class="lineno"> 1857</span>    <span class="keywordflow">if</span> (ts.tv_nsec &gt;= 1000000000) {</div>
<div class="line"><span class="lineno"> 1858</span>        ts.tv_sec++;</div>
<div class="line"><span class="lineno"> 1859</span>        ts.tv_nsec -= 1000000000;</div>
<div class="line"><span class="lineno"> 1860</span>    }</div>
<div class="line"><span class="lineno"> 1861</span>    </div>
<div class="line"><span class="lineno"> 1862</span>    pthread_mutex_lock(&amp;req-&gt;<a class="code hl_variable" href="../../da/d45/structpending__request.html#a30b4636ccd06e4f775ee0dcc29ba3a69">mutex</a>);</div>
<div class="line"><span class="lineno"> 1863</span>    <span class="keywordflow">while</span> (!req-&gt;<a class="code hl_variable" href="../../da/d45/structpending__request.html#af74dd3c97a064175b9dcf3dbfe3665cc">completed</a>) {</div>
<div class="line"><span class="lineno"> 1864</span>        <span class="keywordtype">int</span> wait_result = pthread_cond_timedwait(&amp;req-&gt;<a class="code hl_variable" href="../../da/d45/structpending__request.html#a619500d05293ec1f654ea803139941de">cond</a>, &amp;req-&gt;<a class="code hl_variable" href="../../da/d45/structpending__request.html#a30b4636ccd06e4f775ee0dcc29ba3a69">mutex</a>, &amp;ts);</div>
<div class="line"><span class="lineno"> 1865</span>        <span class="keywordflow">if</span> (wait_result == ETIMEDOUT) {</div>
<div class="line"><span class="lineno"> 1866</span>            pthread_mutex_unlock(&amp;req-&gt;<a class="code hl_variable" href="../../da/d45/structpending__request.html#a30b4636ccd06e4f775ee0dcc29ba3a69">mutex</a>);</div>
<div class="line"><span class="lineno"> 1867</span>            <a class="code hl_function" href="../../d5/d27/library_8c.html#a700c8a9baa87a3827b399776e811f328">remove_pending_request</a>(conn, req);</div>
<div class="line"><span class="lineno"> 1868</span>            <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="../../dd/d08/library_8h.html#a4820ea98988736a81d6695a51f74acd6a852a5a13d07531a60aedc6e3cc1ae86d">OBSWS_ERROR_TIMEOUT</a>;</div>
<div class="line"><span class="lineno"> 1869</span>        }</div>
<div class="line"><span class="lineno"> 1870</span>    }</div>
<div class="line"><span class="lineno"> 1871</span>    </div>
<div class="line"><span class="lineno"> 1872</span>    *response = req-&gt;<a class="code hl_variable" href="../../da/d45/structpending__request.html#a4b37104673cb81e3f2825c8f6df372ba">response</a>;</div>
<div class="line"><span class="lineno"> 1873</span>    req-&gt;<a class="code hl_variable" href="../../da/d45/structpending__request.html#a4b37104673cb81e3f2825c8f6df372ba">response</a> = NULL; <span class="comment">/* Transfer ownership */</span></div>
<div class="line"><span class="lineno"> 1874</span>    pthread_mutex_unlock(&amp;req-&gt;<a class="code hl_variable" href="../../da/d45/structpending__request.html#a30b4636ccd06e4f775ee0dcc29ba3a69">mutex</a>);</div>
<div class="line"><span class="lineno"> 1875</span>    </div>
<div class="line"><span class="lineno"> 1876</span>    <a class="code hl_function" href="../../d5/d27/library_8c.html#a700c8a9baa87a3827b399776e811f328">remove_pending_request</a>(conn, req);</div>
<div class="line"><span class="lineno"> 1877</span>    </div>
<div class="line"><span class="lineno"> 1878</span>    <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="../../dd/d08/library_8h.html#a4820ea98988736a81d6695a51f74acd6aa43b9a59f39db094a477cb25a638e5a1">OBSWS_OK</a>;</div>
<div class="line"><span class="lineno"> 1879</span>}</div>
<div class="ttc" id="alibrary_8c_html_a25b13264018fd1dc7b1f2bbd93bdc7cc"><div class="ttname"><a href="../../d5/d27/library_8c.html#a25b13264018fd1dc7b1f2bbd93bdc7cc">OBSWS_UUID_LENGTH</a></div><div class="ttdeci">#define OBSWS_UUID_LENGTH</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d27/library_8c_source.html#l00049">library.c:49</a></div></div>
<div class="ttc" id="alibrary_8c_html_a3682ffd7f6175dbc796f5750172c99bf"><div class="ttname"><a href="../../d5/d27/library_8c.html#a3682ffd7f6175dbc796f5750172c99bf">obsws_debug</a></div><div class="ttdeci">static void obsws_debug(obsws_connection_t *conn, obsws_debug_level_t min_level, const char *format,...)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d27/library_8c_source.html#l00302">library.c:302</a></div></div>
<div class="ttc" id="alibrary_8c_html_a6c2c324c3b2c49b7febe0b376d6c1045"><div class="ttname"><a href="../../d5/d27/library_8c.html#a6c2c324c3b2c49b7febe0b376d6c1045">OBSWS_OPCODE_REQUEST</a></div><div class="ttdeci">#define OBSWS_OPCODE_REQUEST</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d27/library_8c_source.html#l00073">library.c:73</a></div></div>
<div class="ttc" id="alibrary_8c_html_a700c8a9baa87a3827b399776e811f328"><div class="ttname"><a href="../../d5/d27/library_8c.html#a700c8a9baa87a3827b399776e811f328">remove_pending_request</a></div><div class="ttdeci">static void remove_pending_request(obsws_connection_t *conn, pending_request_t *target)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d27/library_8c_source.html#l00549">library.c:549</a></div></div>
<div class="ttc" id="alibrary_8c_html_aafc3d1ce3debddcb8e3888c9806e044a"><div class="ttname"><a href="../../d5/d27/library_8c.html#aafc3d1ce3debddcb8e3888c9806e044a">create_pending_request</a></div><div class="ttdeci">static pending_request_t * create_pending_request(obsws_connection_t *conn, const char *request_id)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d27/library_8c_source.html#l00506">library.c:506</a></div></div>
<div class="ttc" id="alibrary_8c_html_af79be0fed07182761c923170f4211089"><div class="ttname"><a href="../../d5/d27/library_8c.html#af79be0fed07182761c923170f4211089">generate_uuid</a></div><div class="ttdeci">static void generate_uuid(char *uuid_out)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d27/library_8c_source.html#l00344">library.c:344</a></div></div>
<div class="ttc" id="astructobsws__stats__t_html_a79582a623821723ea9bf86930eb32db2"><div class="ttname"><a href="../../d6/d5c/structobsws__stats__t.html#a79582a623821723ea9bf86930eb32db2">obsws_stats_t::bytes_sent</a></div><div class="ttdeci">uint64_t bytes_sent</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d08/library_8h_source.html#l00286">library.h:286</a></div></div>
<div class="ttc" id="astructobsws__stats__t_html_a8fcaddd7c5934bcf0a44225bc9a23fa5"><div class="ttname"><a href="../../d6/d5c/structobsws__stats__t.html#a8fcaddd7c5934bcf0a44225bc9a23fa5">obsws_stats_t::messages_sent</a></div><div class="ttdeci">uint64_t messages_sent</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d08/library_8h_source.html#l00284">library.h:284</a></div></div>
<div class="ttc" id="astructpending__request_html_af74dd3c97a064175b9dcf3dbfe3665cc"><div class="ttname"><a href="../../da/d45/structpending__request.html#af74dd3c97a064175b9dcf3dbfe3665cc">pending_request::completed</a></div><div class="ttdeci">bool completed</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d27/library_8c_source.html#l00130">library.c:130</a></div></div>
</div><!-- fragment --><div id="dynsection-7" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-7-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-7-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-7-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../dd/d08/library_8h_af2fd7f8dd928e03b38a3e2c5b5745417_cgraph.svg" width="403" height="190"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
<div id="dynsection-8" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-8-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-8-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-8-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../dd/d08/library_8h_af2fd7f8dd928e03b38a3e2c5b5745417_icgraph.svg" width="406" height="291"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="a7cb91bbce42b458f267f79b9a7b293bf" name="a7cb91bbce42b458f267f79b9a7b293bf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7cb91bbce42b458f267f79b9a7b293bf">&#9670;&nbsp;</a></span>obsws_set_current_scene()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../dd/d08/library_8h.html#a4820ea98988736a81d6695a51f74acd6">obsws_error_t</a> obsws_set_current_scene </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dd/d08/library_8h.html#a81ecb6b2403c8155af2e4edb4716c141">obsws_connection_t</a> *&#160;</td>
          <td class="paramname"><em>conn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>scene_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d2/d1f/structobsws__response__t.html">obsws_response_t</a> **&#160;</td>
          <td class="paramname"><em>response</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Switch OBS to a specific scene. </p>
<p >This is a high-level convenience function for scene switching. It demonstrates several important design patterns in the library:</p>
<p ><b>Optimization: Scene Cache</b> Before sending a request to OBS, this function checks the cached current scene. If the requested scene is already active, it returns immediately without network overhead. The cache is maintained by the event thread when SceneChanged events arrive.</p>
<p ><b>Memory Ownership</b> If the caller provides response pointer, they receive ownership and must call <a class="el" href="../../d5/d27/library_8c.html#a53067e61dc0ddcf1134d46b275d7ce6b" title="Free a response object previously allocated by obsws_send_request().">obsws_response_free()</a>. If response is NULL, the function frees the response internally. This flexibility allows three usage patterns:</p><ol type="1">
<li>Check response: <code>obsws_set_current_scene(conn, name, &amp;resp); if (resp-&gt;success) ...</code></li>
<li>Ignore response: <code>obsws_set_current_scene(conn, name, NULL);</code> (response is freed internally)</li>
<li>Just check error: <code>if (obsws_send_request(...) != OBSWS_OK) ...</code></li>
</ol>
<p ><b>Example usage:</b> </p><div class="fragment"><div class="line"><span class="comment">// Pattern 1: Check response details</span></div>
<div class="line"><a class="code hl_struct" href="../../d2/d1f/structobsws__response__t.html">obsws_response_t</a> *response = NULL;</div>
<div class="line"><span class="keywordflow">if</span> (<a class="code hl_function" href="../../dd/d08/library_8h.html#a7cb91bbce42b458f267f79b9a7b293bf">obsws_set_current_scene</a>(conn, <span class="stringliteral">&quot;Scene1&quot;</span>, &amp;response) == <a class="code hl_enumvalue" href="../../dd/d08/library_8h.html#a4820ea98988736a81d6695a51f74acd6aa43b9a59f39db094a477cb25a638e5a1">OBSWS_OK</a> &amp;&amp;</div>
<div class="line">    response &amp;&amp; response-&gt;<a class="code hl_variable" href="../../d2/d1f/structobsws__response__t.html#abbf2e99faa8fdef1c94bbd174470c821">success</a>) {</div>
<div class="line">    printf(<span class="stringliteral">&quot;Switched successfully\\n&quot;</span>);</div>
<div class="line">} <span class="keywordflow">else</span> {</div>
<div class="line">    printf(<span class="stringliteral">&quot;Switch failed: %s\\n&quot;</span>, response ? response-&gt;<a class="code hl_variable" href="../../d2/d1f/structobsws__response__t.html#ab2b3055a84989889d3de28c2ccfd0dac">error_message</a> : <span class="stringliteral">&quot;unknown&quot;</span>);</div>
<div class="line">}</div>
<div class="line"><a class="code hl_function" href="../../dd/d08/library_8h.html#a53067e61dc0ddcf1134d46b275d7ce6b">obsws_response_free</a>(response);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Pattern 2: Ignore response (simpler)</span></div>
<div class="line"><a class="code hl_function" href="../../dd/d08/library_8h.html#a7cb91bbce42b458f267f79b9a7b293bf">obsws_set_current_scene</a>(conn, <span class="stringliteral">&quot;Scene1&quot;</span>, NULL);</div>
<div class="ttc" id="alibrary_8h_html_a7cb91bbce42b458f267f79b9a7b293bf"><div class="ttname"><a href="../../dd/d08/library_8h.html#a7cb91bbce42b458f267f79b9a7b293bf">obsws_set_current_scene</a></div><div class="ttdeci">obsws_error_t obsws_set_current_scene(obsws_connection_t *conn, const char *scene_name, obsws_response_t **response)</div><div class="ttdoc">Switch OBS to a specific scene.</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d27/library_8c_source.html#l01935">library.c:1935</a></div></div>
</div><!-- fragment --><p ><b>Thread-safety:</b></p><ul>
<li>Scene cache is protected by scene_mutex</li>
<li>Safe to call from any thread</li>
<li>Multiple calls can happen simultaneously (each uses send_mutex)</li>
</ul>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">conn</td><td>Connection object (must be in CONNECTED state) </td></tr>
    <tr><td class="paramname">scene_name</td><td>Name of the scene to switch to. Must not be NULL. </td></tr>
    <tr><td class="paramname">response</td><td>Optional output for response details. If provided, caller owns it and must free with <a class="el" href="../../d5/d27/library_8c.html#a53067e61dc0ddcf1134d46b275d7ce6b" title="Free a response object previously allocated by obsws_send_request().">obsws_response_free()</a>. If NULL, response is freed internally.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>OBSWS_OK if request sent and response received (check response-&gt;success for whether the scene switch actually succeeded in OBS) </dd>
<dd>
OBSWS_ERROR_INVALID_PARAM if conn or scene_name is NULL </dd>
<dd>
OBSWS_ERROR_NOT_CONNECTED if connection not ready </dd>
<dd>
OBSWS_ERROR_TIMEOUT if no response from OBS</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="../../d5/d27/library_8c.html#a91bd5ceb5878431131513cb4624e935a" title="Query the currently active scene in OBS.">obsws_get_current_scene</a>, <a class="el" href="../../d2/d1f/structobsws__response__t.html" title="Response structure for requests to OBS.">obsws_response_t</a>, <a class="el" href="../../d5/d27/library_8c.html#a53067e61dc0ddcf1134d46b275d7ce6b" title="Free a response object previously allocated by obsws_send_request().">obsws_response_free</a> </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d5/d27/library_8c_source.html#l01935">1935</a> of file <a class="el" href="../../d5/d27/library_8c_source.html">library.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1935</span>                                                                                                                     {</div>
<div class="line"><span class="lineno"> 1936</span>    <span class="keywordflow">if</span> (!conn || !scene_name) {</div>
<div class="line"><span class="lineno"> 1937</span>        <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="../../dd/d08/library_8h.html#a4820ea98988736a81d6695a51f74acd6a8944fe1379e71d22a82399c21107ebf6">OBSWS_ERROR_INVALID_PARAM</a>;</div>
<div class="line"><span class="lineno"> 1938</span>    }</div>
<div class="line"><span class="lineno"> 1939</span>    </div>
<div class="line"><span class="lineno"> 1940</span>    <span class="comment">/* Check cache to avoid redundant switches */</span></div>
<div class="line"><span class="lineno"> 1941</span>    pthread_mutex_lock(&amp;conn-&gt;<a class="code hl_variable" href="../../d5/d88/structobsws__connection.html#a4343875c5de5530580e13fb1b528cf35">scene_mutex</a>);</div>
<div class="line"><span class="lineno"> 1942</span>    <span class="keywordtype">bool</span> already_current = (conn-&gt;<a class="code hl_variable" href="../../d5/d88/structobsws__connection.html#a887874891a0026e6ad2a2ee2c3c7390a">current_scene</a> &amp;&amp; strcmp(conn-&gt;<a class="code hl_variable" href="../../d5/d88/structobsws__connection.html#a887874891a0026e6ad2a2ee2c3c7390a">current_scene</a>, scene_name) == 0);</div>
<div class="line"><span class="lineno"> 1943</span>    pthread_mutex_unlock(&amp;conn-&gt;<a class="code hl_variable" href="../../d5/d88/structobsws__connection.html#a4343875c5de5530580e13fb1b528cf35">scene_mutex</a>);</div>
<div class="line"><span class="lineno"> 1944</span>    </div>
<div class="line"><span class="lineno"> 1945</span>    <span class="keywordflow">if</span> (already_current) {</div>
<div class="line"><span class="lineno"> 1946</span>        <a class="code hl_function" href="../../d5/d27/library_8c.html#a1d8529feb33753ebb45d896c4c125642">obsws_log</a>(conn, <a class="code hl_enumvalue" href="../../dd/d08/library_8h.html#afbee3b6b991e705309ea19fd5fb0bff9aa69cfac4b3acbd5968bfab9ef5759cd2">OBSWS_LOG_DEBUG</a>, <span class="stringliteral">&quot;Already on scene: %s&quot;</span>, scene_name);</div>
<div class="line"><span class="lineno"> 1947</span>        <span class="keywordflow">if</span> (response) {</div>
<div class="line"><span class="lineno"> 1948</span>            *response = calloc(1, <span class="keyword">sizeof</span>(<a class="code hl_struct" href="../../d2/d1f/structobsws__response__t.html">obsws_response_t</a>));</div>
<div class="line"><span class="lineno"> 1949</span>            (*response)-&gt;success = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 1950</span>        }</div>
<div class="line"><span class="lineno"> 1951</span>        <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="../../dd/d08/library_8h.html#a4820ea98988736a81d6695a51f74acd6aa43b9a59f39db094a477cb25a638e5a1">OBSWS_OK</a>;</div>
<div class="line"><span class="lineno"> 1952</span>    }</div>
<div class="line"><span class="lineno"> 1953</span>    </div>
<div class="line"><span class="lineno"> 1954</span>    cJSON *request_data = cJSON_CreateObject();</div>
<div class="line"><span class="lineno"> 1955</span>    cJSON_AddStringToObject(request_data, <span class="stringliteral">&quot;sceneName&quot;</span>, scene_name);</div>
<div class="line"><span class="lineno"> 1956</span>    </div>
<div class="line"><span class="lineno"> 1957</span>    <span class="keywordtype">char</span> *data_str = cJSON_PrintUnformatted(request_data);</div>
<div class="line"><span class="lineno"> 1958</span>    cJSON_Delete(request_data);</div>
<div class="line"><span class="lineno"> 1959</span>    </div>
<div class="line"><span class="lineno"> 1960</span>    <a class="code hl_struct" href="../../d2/d1f/structobsws__response__t.html">obsws_response_t</a> *resp = NULL;</div>
<div class="line"><span class="lineno"> 1961</span>    <a class="code hl_enumeration" href="../../dd/d08/library_8h.html#a4820ea98988736a81d6695a51f74acd6">obsws_error_t</a> result = <a class="code hl_function" href="../../d5/d27/library_8c.html#af2fd7f8dd928e03b38a3e2c5b5745417">obsws_send_request</a>(conn, <span class="stringliteral">&quot;SetCurrentProgramScene&quot;</span>, data_str, &amp;resp, 0);</div>
<div class="line"><span class="lineno"> 1962</span>    free(data_str);</div>
<div class="line"><span class="lineno"> 1963</span>    </div>
<div class="line"><span class="lineno"> 1964</span>    <span class="keywordflow">if</span> (result == <a class="code hl_enumvalue" href="../../dd/d08/library_8h.html#a4820ea98988736a81d6695a51f74acd6aa43b9a59f39db094a477cb25a638e5a1">OBSWS_OK</a> &amp;&amp; resp &amp;&amp; resp-&gt;<a class="code hl_variable" href="../../d2/d1f/structobsws__response__t.html#abbf2e99faa8fdef1c94bbd174470c821">success</a>) {</div>
<div class="line"><span class="lineno"> 1965</span>        pthread_mutex_lock(&amp;conn-&gt;<a class="code hl_variable" href="../../d5/d88/structobsws__connection.html#a4343875c5de5530580e13fb1b528cf35">scene_mutex</a>);</div>
<div class="line"><span class="lineno"> 1966</span>        free(conn-&gt;<a class="code hl_variable" href="../../d5/d88/structobsws__connection.html#a887874891a0026e6ad2a2ee2c3c7390a">current_scene</a>);</div>
<div class="line"><span class="lineno"> 1967</span>        conn-&gt;<a class="code hl_variable" href="../../d5/d88/structobsws__connection.html#a887874891a0026e6ad2a2ee2c3c7390a">current_scene</a> = strdup(scene_name);</div>
<div class="line"><span class="lineno"> 1968</span>        pthread_mutex_unlock(&amp;conn-&gt;<a class="code hl_variable" href="../../d5/d88/structobsws__connection.html#a4343875c5de5530580e13fb1b528cf35">scene_mutex</a>);</div>
<div class="line"><span class="lineno"> 1969</span>        </div>
<div class="line"><span class="lineno"> 1970</span>        <a class="code hl_function" href="../../d5/d27/library_8c.html#a1d8529feb33753ebb45d896c4c125642">obsws_log</a>(conn, <a class="code hl_enumvalue" href="../../dd/d08/library_8h.html#afbee3b6b991e705309ea19fd5fb0bff9ae48017bf78390a3df8cd87a24782c421">OBSWS_LOG_INFO</a>, <span class="stringliteral">&quot;Switched to scene: %s&quot;</span>, scene_name);</div>
<div class="line"><span class="lineno"> 1971</span>    }</div>
<div class="line"><span class="lineno"> 1972</span>    </div>
<div class="line"><span class="lineno"> 1973</span>    <span class="keywordflow">if</span> (response) {</div>
<div class="line"><span class="lineno"> 1974</span>        *response = resp;</div>
<div class="line"><span class="lineno"> 1975</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (resp) {</div>
<div class="line"><span class="lineno"> 1976</span>        <a class="code hl_function" href="../../d5/d27/library_8c.html#a53067e61dc0ddcf1134d46b275d7ce6b">obsws_response_free</a>(resp);</div>
<div class="line"><span class="lineno"> 1977</span>    }</div>
<div class="line"><span class="lineno"> 1978</span>    </div>
<div class="line"><span class="lineno"> 1979</span>    <span class="keywordflow">return</span> result;</div>
<div class="line"><span class="lineno"> 1980</span>}</div>
</div><!-- fragment --><div id="dynsection-9" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-9-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-9-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-9-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../dd/d08/library_8h_a7cb91bbce42b458f267f79b9a7b293bf_cgraph.svg" width="644" height="215"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="adde8bcb270d34f560ae99047e0524a1d" name="adde8bcb270d34f560ae99047e0524a1d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adde8bcb270d34f560ae99047e0524a1d">&#9670;&nbsp;</a></span>obsws_set_debug_level()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void obsws_set_debug_level </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dd/d08/library_8h.html#a1997a985daa6bfb4117e885d9bb81668">obsws_debug_level_t</a>&#160;</td>
          <td class="paramname"><em>level</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the global debug level for the library. </p>
<p >This controls detailed internal logging separate from regular log messages. Use this for troubleshooting connection/protocol issues. Each level includes all output from lower levels.</p>
<p >Debug output shows protocol-level information - opcodes, message IDs, etc. It's verbose and should only be used during development.</p>
<p >WARNING: Level HIGH logs passwords and raw messages. Never use in production or with untrusted users watching the output.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">level</td><td>Debug verbosity level</td></tr>
  </table>
  </dd>
</dl>
<p>Set the global debug level for the library.</p>
<p >Debug logging is separate from regular logging. It provides extremely detailed trace information about the WebSocket protocol, message parsing, authentication, etc. This is useful during development and troubleshooting.</p>
<p >Debug levels:</p><ul>
<li>OBSWS_DEBUG_NONE: No debug output (fastest)</li>
<li>OBSWS_DEBUG_LOW: Major state transitions and connection events</li>
<li>OBSWS_DEBUG_MEDIUM: Message types and handlers invoked</li>
<li>OBSWS_DEBUG_HIGH: Full message content and every operation</li>
</ul>
<p >Debug logging is independent of log level. You can have OBSWS_LOG_ERROR set (hide non-error logs) but still see OBSWS_DEBUG_HIGH output.</p>
<p >Performance warning: OBSWS_DEBUG_HIGH produces enormous output and will slow down the library significantly. Only use during debugging!</p>
<p >Thread safety: Same as obsws_set_log_level (modifies global without locking).</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">level</td><td>The debug verbosity level </td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="../../dd/d08/library_8h.html#a6720460e577d2afe3c0691a2d6e055e9" title="Set the global log level for the library.">obsws_set_log_level</a>, <a class="el" href="../../dd/d08/library_8h.html#a17d68299d8070c22f5cb04e2c4af28a1" title="Get the current global debug level.">obsws_get_debug_level</a> </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d5/d27/library_8c_source.html#l01313">1313</a> of file <a class="el" href="../../d5/d27/library_8c_source.html">library.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1313</span>                                                      {</div>
<div class="line"><span class="lineno"> 1314</span>    <a class="code hl_variable" href="../../d5/d27/library_8c.html#abf3a9f2c8c4082f1e6b67daddd8a5931">g_debug_level</a> = level;</div>
<div class="line"><span class="lineno"> 1315</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a6720460e577d2afe3c0691a2d6e055e9" name="a6720460e577d2afe3c0691a2d6e055e9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6720460e577d2afe3c0691a2d6e055e9">&#9670;&nbsp;</a></span>obsws_set_log_level()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void obsws_set_log_level </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dd/d08/library_8h.html#afbee3b6b991e705309ea19fd5fb0bff9">obsws_log_level_t</a>&#160;</td>
          <td class="paramname"><em>level</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the global log level for the library. </p>
<p >This affects all library output - messages at this level and below are shown. For example, if you set OBSWS_LOG_WARNING, you'll see warnings and errors but not info or debug messages. This setting affects all connections.</p>
<p >Common usage:</p><ul>
<li>Development: OBSWS_LOG_DEBUG - see everything while developing</li>
<li>Testing: OBSWS_LOG_INFO - see what's happening</li>
<li>Production: OBSWS_LOG_ERROR or OBSWS_LOG_WARNING - only see problems</li>
</ul>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">level</td><td>Minimum log level to output</td></tr>
  </table>
  </dd>
</dl>
<p>Set the global log level for the library.</p>
<p >The library logs various messages during operation. This function sets which messages are displayed. All messages at the specified level and higher severity are shown; lower severity messages are hidden.</p>
<p >Levels in increasing severity:</p><ul>
<li>OBSWS_LOG_DEBUG: Low-level diagnostic info (too verbose for production)</li>
<li>OBSWS_LOG_INFO: General informational messages (usual choice)</li>
<li>OBSWS_LOG_WARNING: Potentially problematic situations (degraded but working)</li>
<li>OBSWS_LOG_ERROR: Error conditions that need attention</li>
</ul>
<p >Example: If you call obsws_set_log_level(OBSWS_LOG_WARNING), you'll see only WARNING and ERROR messages, but not INFO or DEBUG messages.</p>
<p >Thread safety: This modifies a global variable without locking, so if you might call this from multiple threads, use synchronization externally.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">level</td><td>The minimum severity level to display </td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="../../dd/d08/library_8h.html#adde8bcb270d34f560ae99047e0524a1d" title="Set the global debug level for the library.">obsws_set_debug_level</a> </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d5/d27/library_8c_source.html#l01285">1285</a> of file <a class="el" href="../../d5/d27/library_8c_source.html">library.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1285</span>                                                  {</div>
<div class="line"><span class="lineno"> 1286</span>    <a class="code hl_variable" href="../../d5/d27/library_8c.html#abaccf3944be55af2f72ebbb713c77706">g_log_level</a> = level;</div>
<div class="line"><span class="lineno"> 1287</span>}</div>
<div class="ttc" id="alibrary_8c_html_abaccf3944be55af2f72ebbb713c77706"><div class="ttname"><a href="../../d5/d27/library_8c.html#abaccf3944be55af2f72ebbb713c77706">g_log_level</a></div><div class="ttdeci">static obsws_log_level_t g_log_level</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d27/library_8c_source.html#l00252">library.c:252</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a1799c10d0165cea5792868aaa45cc138" name="a1799c10d0165cea5792868aaa45cc138"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1799c10d0165cea5792868aaa45cc138">&#9670;&nbsp;</a></span>obsws_set_scene_collection()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../dd/d08/library_8h.html#a4820ea98988736a81d6695a51f74acd6">obsws_error_t</a> obsws_set_scene_collection </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dd/d08/library_8h.html#a81ecb6b2403c8155af2e4edb4716c141">obsws_connection_t</a> *&#160;</td>
          <td class="paramname"><em>conn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>collection_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d2/d1f/structobsws__response__t.html">obsws_response_t</a> **&#160;</td>
          <td class="paramname"><em>response</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Switch to a different scene collection. </p>
<p >Scene collections are different sets of scenes. OBS can have multiple scene collections and you can switch between them. When you switch collections, all the scenes in the current collection are replaced with the scenes from the new collection. This is useful for different contexts (e.g., "Gaming", "IRL", "Voiceover", etc.).</p>
<p >Switching collections can take a moment because OBS needs to load all the new scenes and their settings. You'll get a SceneCollectionChanged event when done.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">conn</td><td>Connection handle (must be in CONNECTED state) </td></tr>
    <tr><td class="paramname">collection_name</td><td>Name of the scene collection to activate (case-sensitive, must exist in OBS) </td></tr>
    <tr><td class="paramname">response</td><td>Optional pointer to receive response (NULL to ignore) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>OBSWS_OK if request sent successfully </dd>
<dd>
OBSWS_ERROR_NOT_CONNECTED if not connected </dd>
<dd>
OBSWS_ERROR_INVALID_PARAM if collection_name is NULL</dd></dl>
<dl class="section note"><dt>Note</dt><dd>Scene collection names are shown in OBS: Scene Collection dropdown. </dd>
<dd>
Switching collections is slower than switching scenes (requires loading files). </dd>
<dd>
This is async - function returns before OBS finishes switching. </dd>
<dd>
If the collection doesn't exist, OBS returns an error in the response. </dd></dl>

</div>
</div>
<a id="a75fc4d620b8032c882514b40ea525314" name="a75fc4d620b8032c882514b40ea525314"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a75fc4d620b8032c882514b40ea525314">&#9670;&nbsp;</a></span>obsws_set_source_filter_enabled()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../dd/d08/library_8h.html#a4820ea98988736a81d6695a51f74acd6">obsws_error_t</a> obsws_set_source_filter_enabled </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dd/d08/library_8h.html#a81ecb6b2403c8155af2e4edb4716c141">obsws_connection_t</a> *&#160;</td>
          <td class="paramname"><em>conn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>source_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>filter_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>enabled</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d2/d1f/structobsws__response__t.html">obsws_response_t</a> **&#160;</td>
          <td class="paramname"><em>response</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a08f17f3a7dbfdd402c4460c13e33463b" name="a08f17f3a7dbfdd402c4460c13e33463b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a08f17f3a7dbfdd402c4460c13e33463b">&#9670;&nbsp;</a></span>obsws_set_source_visibility()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../dd/d08/library_8h.html#a4820ea98988736a81d6695a51f74acd6">obsws_error_t</a> obsws_set_source_visibility </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dd/d08/library_8h.html#a81ecb6b2403c8155af2e4edb4716c141">obsws_connection_t</a> *&#160;</td>
          <td class="paramname"><em>conn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>scene_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>source_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>visible</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d2/d1f/structobsws__response__t.html">obsws_response_t</a> **&#160;</td>
          <td class="paramname"><em>response</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a8643e2027afb1907122ce4d3bfe65c6e" name="a8643e2027afb1907122ce4d3bfe65c6e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8643e2027afb1907122ce4d3bfe65c6e">&#9670;&nbsp;</a></span>obsws_start_recording()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../dd/d08/library_8h.html#a4820ea98988736a81d6695a51f74acd6">obsws_error_t</a> obsws_start_recording </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dd/d08/library_8h.html#a81ecb6b2403c8155af2e4edb4716c141">obsws_connection_t</a> *&#160;</td>
          <td class="paramname"><em>conn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d2/d1f/structobsws__response__t.html">obsws_response_t</a> **&#160;</td>
          <td class="paramname"><em>response</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Start recording in OBS. </p>
<p >Tells OBS to begin recording the current scene composition to disk. The recording path and format are determined by OBS settings, not by this library.</p>
<p >This is a convenience wrapper around <a class="el" href="../../d5/d27/library_8c.html#af2fd7f8dd928e03b38a3e2c5b5745417" title="Send a synchronous request to OBS and wait for the response.">obsws_send_request()</a> using the OBS "StartRecord" request type.</p>
<p ><b>Return value interpretation:</b></p><ul>
<li>OBSWS_OK: Request was sent and OBS responded (check response-&gt;success)</li>
<li>Other errors: Network/connection problem</li>
</ul>
<p ><b>Example usage:</b> </p><div class="fragment"><div class="line"><a class="code hl_struct" href="../../d2/d1f/structobsws__response__t.html">obsws_response_t</a> *resp = NULL;</div>
<div class="line"><span class="keywordflow">if</span> (<a class="code hl_function" href="../../dd/d08/library_8h.html#a8643e2027afb1907122ce4d3bfe65c6e">obsws_start_recording</a>(conn, &amp;resp) == <a class="code hl_enumvalue" href="../../dd/d08/library_8h.html#a4820ea98988736a81d6695a51f74acd6aa43b9a59f39db094a477cb25a638e5a1">OBSWS_OK</a> &amp;&amp; resp &amp;&amp; resp-&gt;<a class="code hl_variable" href="../../d2/d1f/structobsws__response__t.html#abbf2e99faa8fdef1c94bbd174470c821">success</a>) {</div>
<div class="line">    printf(<span class="stringliteral">&quot;Recording started\\n&quot;</span>);</div>
<div class="line">}</div>
<div class="line"><a class="code hl_function" href="../../dd/d08/library_8h.html#a53067e61dc0ddcf1134d46b275d7ce6b">obsws_response_free</a>(resp);</div>
<div class="ttc" id="alibrary_8h_html_a8643e2027afb1907122ce4d3bfe65c6e"><div class="ttname"><a href="../../dd/d08/library_8h.html#a8643e2027afb1907122ce4d3bfe65c6e">obsws_start_recording</a></div><div class="ttdeci">obsws_error_t obsws_start_recording(obsws_connection_t *conn, obsws_response_t **response)</div><div class="ttdoc">Start recording in OBS.</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d27/library_8c_source.html#l02086">library.c:2086</a></div></div>
</div><!-- fragment --><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">conn</td><td>Connection object (must be in CONNECTED state) </td></tr>
    <tr><td class="paramname">response</td><td>Optional output for response. Caller owns if provided, must free.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>OBSWS_OK if response received (check response-&gt;success for success) </dd>
<dd>
OBSWS_ERROR_NOT_CONNECTED if connection not ready </dd>
<dd>
OBSWS_ERROR_TIMEOUT if OBS doesn't respond</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="../../d5/d27/library_8c.html#a30001811f4cf8501e006ca46bcb8b329" title="Stop recording in OBS.">obsws_stop_recording</a>, <a class="el" href="../../d5/d27/library_8c.html#af2fd7f8dd928e03b38a3e2c5b5745417" title="Send a synchronous request to OBS and wait for the response.">obsws_send_request</a>, <a class="el" href="../../d5/d27/library_8c.html#a53067e61dc0ddcf1134d46b275d7ce6b" title="Free a response object previously allocated by obsws_send_request().">obsws_response_free</a> </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d5/d27/library_8c_source.html#l02086">2086</a> of file <a class="el" href="../../d5/d27/library_8c_source.html">library.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2086</span>                                                                                           {</div>
<div class="line"><span class="lineno"> 2087</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="../../d5/d27/library_8c.html#af2fd7f8dd928e03b38a3e2c5b5745417">obsws_send_request</a>(conn, <span class="stringliteral">&quot;StartRecord&quot;</span>, NULL, response, 0);</div>
<div class="line"><span class="lineno"> 2088</span>}</div>
</div><!-- fragment --><div id="dynsection-10" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-10-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-10-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-10-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../dd/d08/library_8h_a8643e2027afb1907122ce4d3bfe65c6e_cgraph.svg" width="619" height="190"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="a86a35ee2d7aef7a0569b4111bd663d22" name="a86a35ee2d7aef7a0569b4111bd663d22"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a86a35ee2d7aef7a0569b4111bd663d22">&#9670;&nbsp;</a></span>obsws_start_streaming()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../dd/d08/library_8h.html#a4820ea98988736a81d6695a51f74acd6">obsws_error_t</a> obsws_start_streaming </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dd/d08/library_8h.html#a81ecb6b2403c8155af2e4edb4716c141">obsws_connection_t</a> *&#160;</td>
          <td class="paramname"><em>conn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d2/d1f/structobsws__response__t.html">obsws_response_t</a> **&#160;</td>
          <td class="paramname"><em>response</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Start streaming in OBS. </p>
<p >Tells OBS to begin streaming to the configured destination (Twitch, YouTube, etc). The stream settings (URL, key, bitrate, etc) are determined by OBS settings.</p>
<p >This is a convenience wrapper around <a class="el" href="../../d5/d27/library_8c.html#af2fd7f8dd928e03b38a3e2c5b5745417" title="Send a synchronous request to OBS and wait for the response.">obsws_send_request()</a> using the OBS "StartStream" request type.</p>
<p ><b>Thread-safe:</b> Safe to call from any thread while connected.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">conn</td><td>Connection object (must be in CONNECTED state) </td></tr>
    <tr><td class="paramname">response</td><td>Optional output for response. Caller owns if provided, must free.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>OBSWS_OK if response received (check response-&gt;success for success) </dd>
<dd>
OBSWS_ERROR_NOT_CONNECTED if connection not ready </dd>
<dd>
OBSWS_ERROR_TIMEOUT if OBS doesn't respond</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="../../d5/d27/library_8c.html#a2cfe9b46f435aa7986b5e772b99c464e" title="Stop streaming in OBS.">obsws_stop_streaming</a>, <a class="el" href="../../d5/d27/library_8c.html#af2fd7f8dd928e03b38a3e2c5b5745417" title="Send a synchronous request to OBS and wait for the response.">obsws_send_request</a>, <a class="el" href="../../d5/d27/library_8c.html#a53067e61dc0ddcf1134d46b275d7ce6b" title="Free a response object previously allocated by obsws_send_request().">obsws_response_free</a> </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d5/d27/library_8c_source.html#l02139">2139</a> of file <a class="el" href="../../d5/d27/library_8c_source.html">library.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2139</span>                                                                                           {</div>
<div class="line"><span class="lineno"> 2140</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="../../d5/d27/library_8c.html#af2fd7f8dd928e03b38a3e2c5b5745417">obsws_send_request</a>(conn, <span class="stringliteral">&quot;StartStream&quot;</span>, NULL, response, 0);</div>
<div class="line"><span class="lineno"> 2141</span>}</div>
</div><!-- fragment --><div id="dynsection-11" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-11-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-11-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-11-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../dd/d08/library_8h_a86a35ee2d7aef7a0569b4111bd663d22_cgraph.svg" width="624" height="190"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="a69f8fcc1732533a2ebe573ac65effa04" name="a69f8fcc1732533a2ebe573ac65effa04"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a69f8fcc1732533a2ebe573ac65effa04">&#9670;&nbsp;</a></span>obsws_state_string()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char * obsws_state_string </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dd/d08/library_8h.html#a2fb4e7d7196f39a5ce0e9c71b2d78991">obsws_state_t</a>&#160;</td>
          <td class="paramname"><em>state</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Convert a connection state to a human-readable string. </p>
<p >Utility function for logging and debugging. Returns a brief English description of each connection state.</p>
<p ><b>State Transitions:</b></p><ul>
<li>DISCONNECTED: Initial state or after disconnect()</li>
<li>CONNECTING: connect() called, establishing TCP connection</li>
<li>AUTHENTICATING: TCP connected, performing challenge-response auth</li>
<li>CONNECTED: Auth succeeded, ready for requests</li>
<li>ERROR: Network error or protocol failure, should reconnect</li>
</ul>
<p ><b>Valid transitions:</b> </p><div class="fragment"><div class="line">DISCONNECTED -&gt; CONNECTING -&gt; AUTHENTICATING -&gt; CONNECTED</div>
<div class="line">CONNECTED -&gt; DISCONNECTED (on <span class="keyword">explicit</span> disconnect)</div>
<div class="line">CONNECTED -&gt; ERROR (on network failure)</div>
<div class="line">ERROR -&gt; CONNECTING (on reconnect attempt)</div>
</div><!-- fragment --><p ><b>Example usage:</b> </p><div class="fragment"><div class="line"><a class="code hl_enumeration" href="../../dd/d08/library_8h.html#a2fb4e7d7196f39a5ce0e9c71b2d78991">obsws_state_t</a> state = <a class="code hl_function" href="../../dd/d08/library_8h.html#a61a10e31041532a9da0c1c1993f84a79">obsws_get_state</a>(conn);</div>
<div class="line">printf(<span class="stringliteral">&quot;Connection state: %s\\n&quot;</span>, <a class="code hl_function" href="../../dd/d08/library_8h.html#a69f8fcc1732533a2ebe573ac65effa04">obsws_state_string</a>(state));</div>
<div class="ttc" id="alibrary_8h_html_a61a10e31041532a9da0c1c1993f84a79"><div class="ttname"><a href="../../dd/d08/library_8h.html#a61a10e31041532a9da0c1c1993f84a79">obsws_get_state</a></div><div class="ttdeci">obsws_state_t obsws_get_state(const obsws_connection_t *conn)</div><div class="ttdoc">Get the detailed current connection state.</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d27/library_8c_source.html#l01663">library.c:1663</a></div></div>
<div class="ttc" id="alibrary_8h_html_a69f8fcc1732533a2ebe573ac65effa04"><div class="ttname"><a href="../../dd/d08/library_8h.html#a69f8fcc1732533a2ebe573ac65effa04">obsws_state_string</a></div><div class="ttdeci">const char * obsws_state_string(obsws_state_t state)</div><div class="ttdoc">Convert a connection state to a human-readable string.</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d27/library_8c_source.html#l02282">library.c:2282</a></div></div>
</div><!-- fragment --><p >Never returns NULL - unknown states return "Unknown". Returned strings are static - do not modify or free.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">state</td><td>The connection state to describe </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Pointer to a static string describing the state</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="../../d5/d27/library_8c.html#a61a10e31041532a9da0c1c1993f84a79" title="Get the current connection state.">obsws_get_state</a>, <a class="el" href="../../dd/d08/library_8h.html#a2fb4e7d7196f39a5ce0e9c71b2d78991" title="Connection state - represents the current phase of the connection lifecycle.">obsws_state_t</a>, <a class="el" href="../../d5/d27/library_8c.html#ad9894e72ee8510f4eaf7d42feaf0cf9a" title="Check if a connection is actively connected to OBS.">obsws_is_connected</a> </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d5/d27/library_8c_source.html#l02282">2282</a> of file <a class="el" href="../../d5/d27/library_8c_source.html">library.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2282</span>                                                    {</div>
<div class="line"><span class="lineno"> 2283</span>    <span class="keywordflow">switch</span> (state) {</div>
<div class="line"><span class="lineno"> 2284</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../dd/d08/library_8h.html#a2fb4e7d7196f39a5ce0e9c71b2d78991af973d2b8b0a498d0bbffb40ccab1ef2d">OBSWS_STATE_DISCONNECTED</a>: <span class="keywordflow">return</span> <span class="stringliteral">&quot;Disconnected&quot;</span>;</div>
<div class="line"><span class="lineno"> 2285</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../dd/d08/library_8h.html#a2fb4e7d7196f39a5ce0e9c71b2d78991a88276a1a9f595735a2b242f0eab1524a">OBSWS_STATE_CONNECTING</a>: <span class="keywordflow">return</span> <span class="stringliteral">&quot;Connecting&quot;</span>;</div>
<div class="line"><span class="lineno"> 2286</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../dd/d08/library_8h.html#a2fb4e7d7196f39a5ce0e9c71b2d78991ac9c5d9c3aab50d7e6d1d38b1bb7d6d0f">OBSWS_STATE_AUTHENTICATING</a>: <span class="keywordflow">return</span> <span class="stringliteral">&quot;Authenticating&quot;</span>;</div>
<div class="line"><span class="lineno"> 2287</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../dd/d08/library_8h.html#a2fb4e7d7196f39a5ce0e9c71b2d78991adbaae08035175b470fb9f543414672b8">OBSWS_STATE_CONNECTED</a>: <span class="keywordflow">return</span> <span class="stringliteral">&quot;Connected&quot;</span>;</div>
<div class="line"><span class="lineno"> 2288</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../dd/d08/library_8h.html#a2fb4e7d7196f39a5ce0e9c71b2d78991ae13bce21841139a7510b1c8b10a694ac">OBSWS_STATE_ERROR</a>: <span class="keywordflow">return</span> <span class="stringliteral">&quot;Error&quot;</span>;</div>
<div class="line"><span class="lineno"> 2289</span>        <span class="keywordflow">default</span>: <span class="keywordflow">return</span> <span class="stringliteral">&quot;Unknown&quot;</span>;</div>
<div class="line"><span class="lineno"> 2290</span>    }</div>
<div class="line"><span class="lineno"> 2291</span>}</div>
</div><!-- fragment --><div id="dynsection-12" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-12-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-12-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-12-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../dd/d08/library_8h_a69f8fcc1732533a2ebe573ac65effa04_icgraph.svg" width="1023" height="114"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="a30001811f4cf8501e006ca46bcb8b329" name="a30001811f4cf8501e006ca46bcb8b329"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a30001811f4cf8501e006ca46bcb8b329">&#9670;&nbsp;</a></span>obsws_stop_recording()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../dd/d08/library_8h.html#a4820ea98988736a81d6695a51f74acd6">obsws_error_t</a> obsws_stop_recording </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dd/d08/library_8h.html#a81ecb6b2403c8155af2e4edb4716c141">obsws_connection_t</a> *&#160;</td>
          <td class="paramname"><em>conn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d2/d1f/structobsws__response__t.html">obsws_response_t</a> **&#160;</td>
          <td class="paramname"><em>response</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Stop recording. </p>
<p >Tells OBS to stop recording and save the file. The saved recording will include everything from when you called <a class="el" href="../../dd/d08/library_8h.html#a8643e2027afb1907122ce4d3bfe65c6e" title="Start recording in OBS.">obsws_start_recording()</a> until now. If recording wasn't running, OBS ignores this (no error).</p>
<p >After calling this, OBS takes a moment to finalize the file (write headers, etc.), then sends a RecordingStateChanged event when complete. You can't immediately open the file - wait for the event first.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">conn</td><td>Connection handle (must be in CONNECTED state) </td></tr>
    <tr><td class="paramname">response</td><td>Optional pointer to receive response </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>OBSWS_OK if request sent successfully </dd>
<dd>
OBSWS_ERROR_NOT_CONNECTED if not connected</dd></dl>
<dl class="section note"><dt>Note</dt><dd>This is async - the file finalization happens after the function returns. </dd>
<dd>
OBS sends a RecordingStateChanged event when the file is ready. </dd>
<dd>
Don't try to move/open the file immediately - wait for the event first.</dd></dl>
<p>Stop recording.</p>
<p >Tells OBS to stop the currently active recording. If no recording is in progress, OBS returns success anyway (idempotent operation).</p>
<p >This is a convenience wrapper around <a class="el" href="../../dd/d08/library_8h.html#af2fd7f8dd928e03b38a3e2c5b5745417" title="Send a synchronous request to OBS and wait for the response.">obsws_send_request()</a> using the OBS "StopRecord" request type.</p>
<p ><b>Example usage:</b> </p><div class="fragment"><div class="line"><span class="keywordflow">if</span> (<a class="code hl_function" href="../../dd/d08/library_8h.html#a30001811f4cf8501e006ca46bcb8b329">obsws_stop_recording</a>(conn, NULL) != <a class="code hl_enumvalue" href="../../dd/d08/library_8h.html#a4820ea98988736a81d6695a51f74acd6aa43b9a59f39db094a477cb25a638e5a1">OBSWS_OK</a>) {</div>
<div class="line">    fprintf(stderr, <span class="stringliteral">&quot;Failed to stop recording\\n&quot;</span>);</div>
<div class="line">}</div>
<div class="ttc" id="alibrary_8h_html_a30001811f4cf8501e006ca46bcb8b329"><div class="ttname"><a href="../../dd/d08/library_8h.html#a30001811f4cf8501e006ca46bcb8b329">obsws_stop_recording</a></div><div class="ttdeci">obsws_error_t obsws_stop_recording(obsws_connection_t *conn, obsws_response_t **response)</div><div class="ttdoc">Stop recording.</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d27/library_8c_source.html#l02115">library.c:2115</a></div></div>
</div><!-- fragment --><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">conn</td><td>Connection object (must be in CONNECTED state) </td></tr>
    <tr><td class="paramname">response</td><td>Optional output for response. Caller owns if provided, must free.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>OBSWS_OK if response received (check response-&gt;success for success) </dd>
<dd>
OBSWS_ERROR_NOT_CONNECTED if connection not ready </dd>
<dd>
OBSWS_ERROR_TIMEOUT if OBS doesn't respond</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="../../dd/d08/library_8h.html#a8643e2027afb1907122ce4d3bfe65c6e" title="Start recording in OBS.">obsws_start_recording</a>, <a class="el" href="../../dd/d08/library_8h.html#af2fd7f8dd928e03b38a3e2c5b5745417" title="Send a synchronous request to OBS and wait for the response.">obsws_send_request</a>, <a class="el" href="../../dd/d08/library_8h.html#a53067e61dc0ddcf1134d46b275d7ce6b" title="Free a response structure and all its allocated memory.">obsws_response_free</a> </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d5/d27/library_8c_source.html#l02115">2115</a> of file <a class="el" href="../../d5/d27/library_8c_source.html">library.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2115</span>                                                                                          {</div>
<div class="line"><span class="lineno"> 2116</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="../../d5/d27/library_8c.html#af2fd7f8dd928e03b38a3e2c5b5745417">obsws_send_request</a>(conn, <span class="stringliteral">&quot;StopRecord&quot;</span>, NULL, response, 0);</div>
<div class="line"><span class="lineno"> 2117</span>}</div>
</div><!-- fragment --><div id="dynsection-13" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-13-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-13-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-13-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../dd/d08/library_8h_a30001811f4cf8501e006ca46bcb8b329_cgraph.svg" width="618" height="190"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="a2cfe9b46f435aa7986b5e772b99c464e" name="a2cfe9b46f435aa7986b5e772b99c464e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2cfe9b46f435aa7986b5e772b99c464e">&#9670;&nbsp;</a></span>obsws_stop_streaming()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../dd/d08/library_8h.html#a4820ea98988736a81d6695a51f74acd6">obsws_error_t</a> obsws_stop_streaming </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dd/d08/library_8h.html#a81ecb6b2403c8155af2e4edb4716c141">obsws_connection_t</a> *&#160;</td>
          <td class="paramname"><em>conn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d2/d1f/structobsws__response__t.html">obsws_response_t</a> **&#160;</td>
          <td class="paramname"><em>response</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Stop streaming. </p>
<p >Tells OBS to stop streaming to the remote server. After calling this, OBS disconnects from the streaming server and the stream ends. The stopped event will tell you if the disconnect was clean or if there was an issue.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">conn</td><td>Connection handle (must be in CONNECTED state) </td></tr>
    <tr><td class="paramname">response</td><td>Optional pointer to receive response </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>OBSWS_OK if request sent successfully </dd>
<dd>
OBSWS_ERROR_NOT_CONNECTED if not connected</dd></dl>
<dl class="section note"><dt>Note</dt><dd>This is async - disconnecting from the server takes a moment. </dd>
<dd>
OBS sends a StreamStateChanged event when streaming fully stops. </dd>
<dd>
If not streaming, OBS ignores this request (no error).</dd></dl>
<p>Stop streaming.</p>
<p >Tells OBS to stop the active stream. If not currently streaming, OBS returns success anyway (idempotent operation).</p>
<p >This is a convenience wrapper around <a class="el" href="../../dd/d08/library_8h.html#af2fd7f8dd928e03b38a3e2c5b5745417" title="Send a synchronous request to OBS and wait for the response.">obsws_send_request()</a> using the OBS "StopStream" request type.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">conn</td><td>Connection object (must be in CONNECTED state) </td></tr>
    <tr><td class="paramname">response</td><td>Optional output for response. Caller owns if provided, must free.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>OBSWS_OK if response received (check response-&gt;success for success) </dd>
<dd>
OBSWS_ERROR_NOT_CONNECTED if connection not ready </dd>
<dd>
OBSWS_ERROR_TIMEOUT if OBS doesn't respond</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="../../dd/d08/library_8h.html#a86a35ee2d7aef7a0569b4111bd663d22" title="Start streaming in OBS.">obsws_start_streaming</a>, <a class="el" href="../../dd/d08/library_8h.html#af2fd7f8dd928e03b38a3e2c5b5745417" title="Send a synchronous request to OBS and wait for the response.">obsws_send_request</a>, <a class="el" href="../../dd/d08/library_8h.html#a53067e61dc0ddcf1134d46b275d7ce6b" title="Free a response structure and all its allocated memory.">obsws_response_free</a> </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d5/d27/library_8c_source.html#l02161">2161</a> of file <a class="el" href="../../d5/d27/library_8c_source.html">library.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2161</span>                                                                                          {</div>
<div class="line"><span class="lineno"> 2162</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="../../d5/d27/library_8c.html#af2fd7f8dd928e03b38a3e2c5b5745417">obsws_send_request</a>(conn, <span class="stringliteral">&quot;StopStream&quot;</span>, NULL, response, 0);</div>
<div class="line"><span class="lineno"> 2163</span>}</div>
</div><!-- fragment --><div id="dynsection-14" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-14-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-14-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-14-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../dd/d08/library_8h_a2cfe9b46f435aa7986b5e772b99c464e_cgraph.svg" width="622" height="190"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="af3afc203f99395c187faf3fba0477bf9" name="af3afc203f99395c187faf3fba0477bf9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af3afc203f99395c187faf3fba0477bf9">&#9670;&nbsp;</a></span>obsws_version()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char * obsws_version </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the library version string. </p>
<p >Returns a string like "1.0.0" indicating what version of the library you're using. Useful for debugging - you can log this at startup so you know which version of the library handled a particular issue.</p>
<dl class="section return"><dt>Returns</dt><dd>Pointer to version string (valid until obsws_cleanup is called)</dd></dl>
<p>Returns a semantic version string like "1.0.0" that identifies which version of libwsv5 is being used. Useful for debugging and logging.</p>
<dl class="section return"><dt>Returns</dt><dd>Pointer to static version string (don't free) </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d5/d27/library_8c_source.html#l01259">1259</a> of file <a class="el" href="../../d5/d27/library_8c_source.html">library.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1259</span>                                {</div>
<div class="line"><span class="lineno"> 1260</span>    <span class="keywordflow">return</span> <a class="code hl_define" href="../../d5/d27/library_8c.html#ad27c3919151c76f6e69c502c7ece4065">OBSWS_VERSION</a>;</div>
<div class="line"><span class="lineno"> 1261</span>}</div>
<div class="ttc" id="alibrary_8c_html_ad27c3919151c76f6e69c502c7ece4065"><div class="ttname"><a href="../../d5/d27/library_8c.html#ad27c3919151c76f6e69c502c7ece4065">OBSWS_VERSION</a></div><div class="ttdeci">#define OBSWS_VERSION</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d27/library_8c_source.html#l00032">library.c:32</a></div></div>
</div><!-- fragment -->
</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../dd/d08/library_8h.html">library.h</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.4 </li>
  </ul>
</div>
</body>
</html>
