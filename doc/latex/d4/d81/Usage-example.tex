\hypertarget{Usage-example}{}\doxysection{Usage}
Create a new OBS Web\+Socket connection and start connecting.

Create a new OBS Web\+Socket connection and start connecting.\+This function creates a connection object and begins the connection process in the background. The connection goes through states\+: DISCONNECTED -\/\texorpdfstring{$>$}{>} CONNECTING -\/\texorpdfstring{$>$}{>} AUTHENTICATING -\/\texorpdfstring{$>$}{>} CONNECTED. You\textquotesingle{}ll be notified of state changes via the state callback (if you provided one in config).

This is non-\/blocking -\/ it returns immediately. The actual connection happens in a background thread. Check \mbox{\hyperlink{library_8h_a61a10e31041532a9da0c1c1993f84a79}{obsws\+\_\+get\+\_\+state()}} to see when it reaches CONNECTED.

Design note\+: We do connection in the background because it can take a while (DNS lookups, TCP handshake, authentication). Blocking would freeze your app.


\begin{DoxyParams}{Parameters}
{\em config} & Connection configuration (required, cannot be NULL) \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Connection handle on success (never NULL if called with valid config), NULL on failure (usually out of memory)
\end{DoxyReturn}
\begin{DoxyNote}{Note}
The config structure is copied internally, so you can free or reuse it after calling \mbox{\hyperlink{library_8h_a7ed7225961f0989acb31ebbd9c099626}{obsws\+\_\+connect()}}. 

The returned handle is opaque -\/ use it with other obsws\+\_\+$\ast$ functions. 

Connection attempt happens asynchronously -\/ wait for state callback or call \mbox{\hyperlink{library_8h_a61a10e31041532a9da0c1c1993f84a79}{obsws\+\_\+get\+\_\+state()}} to check when it\textquotesingle{}s ready. 

If auto\+\_\+reconnect is enabled in config, the library will automatically try to reconnect if the connection drops.
\end{DoxyNote}
\+: \mbox{\hyperlink{structobsws__config__t}{obsws\+\_\+config\+\_\+t}} config; obsws\+\_\+config\+\_\+init(\&config); config.\+host = \char`\"{}192.\+168.\+1.\+100\char`\"{}; config.\+port = 4455; config.\+password = \char`\"{}mypassword\char`\"{}; config.\+state\+\_\+callback = my\+\_\+state\+\_\+callback; config.\+user\+\_\+data = my\+\_\+app\+\_\+context;

obsws\+\_\+connection\+\_\+t $\ast$conn = obsws\+\_\+connect(\&config); if (!conn) \{ fprintf(stderr, \char`\"{}\+Failed to create connection\textbackslash{}n\char`\"{}); return 1; \} // Wait for state callback to indicate CONNECTED...


\begin{DoxyCodeInclude}{0}

\end{DoxyCodeInclude}
 